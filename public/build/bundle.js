var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(o)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function l(t){let e;return c(t,(t=>e=t))(),e}function u(t,e,n){t.$$.on_destroy.push(c(e,n))}function d(t,e,n,o){if(t){const i=f(t,e,n,o);return t[0](i)}}function f(t,e,o,i){return t[1]&&i?n(o.ctx.slice(),t[1](i(e))):o.ctx}function h(t,e,n,o,i,r,s){const a=function(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|i[o];return t}return e.dirty|i}return e.dirty}(e,o,i,r);if(a){const i=f(e,n,o,s);t.p(i,a)}}function p(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function g(t,e){const n={};e=new Set(e);for(const o in t)e.has(o)||"$"===o[0]||(n[o]=t[o]);return n}function m(t,e,n=e){return t.set(n),e}const $="undefined"!=typeof window;let w=$?()=>window.performance.now():()=>Date.now(),v=$?t=>requestAnimationFrame(t):t;const y=new Set;function b(t){y.forEach((e=>{e.c(t)||(y.delete(e),e.f())})),0!==y.size&&v(b)}function x(t){let e;return 0===y.size&&v(b),{promise:new Promise((n=>{y.add(e={c:t,f:n})})),abort(){y.delete(e)}}}function _(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function R(t){t.parentNode.removeChild(t)}function P(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function H(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function S(){return L(" ")}function C(){return L("")}function z(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function N(t){return function(e){return e.preventDefault(),t.call(this,e)}}function j(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)null==e[o]?t.removeAttribute(o):"style"===o?t.style.cssText=e[o]:"__value"===o?t.value=t[o]=e[o]:n[o]&&n[o].set?t[o]=e[o]:j(t,o,e[o])}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e){t.value=null==e?"":e}let I;function O(){if(void 0===I){I=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){I=!0}}return I}function A(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const B=new Set;let U,F=0;function W(t,e,n,o,i,r,s,a=0){const c=16.666/o;let l="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*r(t);l+=100*t+`%{${s(o,1-o)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,f=t.ownerDocument;B.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(H("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${o}ms linear ${i}ms 1 both`,F+=1,d}function D(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-o.length;i&&(t.style.animation=o.join(", "),F-=i,F||v((()=>{F||(B.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),B.clear())})))}function J(t){U=t}function V(){if(!U)throw new Error("Function called outside component initialization");return U}function q(t){V().$$.on_mount.push(t)}function G(t){V().$$.on_destroy.push(t)}function K(){const t=V();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=A(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}function Z(t,e){V().$$.context.set(t,e)}function X(t){return V().$$.context.get(t)}const Y=[],Q=[],tt=[],et=[],nt=Promise.resolve();let ot=!1;function it(){ot||(ot=!0,nt.then(lt))}function rt(){return it(),nt}function st(t){tt.push(t)}let at=!1;const ct=new Set;function lt(){if(!at){at=!0;do{for(let t=0;t<Y.length;t+=1){const e=Y[t];J(e),ut(e.$$)}for(J(null),Y.length=0;Q.length;)Q.pop()();for(let t=0;t<tt.length;t+=1){const e=tt[t];ct.has(e)||(ct.add(e),e())}tt.length=0}while(Y.length);for(;et.length;)et.pop()();ot=!1,at=!1,ct.clear()}}function ut(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}let dt;function ft(){return dt||(dt=Promise.resolve(),dt.then((()=>{dt=null}))),dt}function ht(t,e,n){t.dispatchEvent(A(`${e?"intro":"outro"}${n}`))}const pt=new Set;let gt;function mt(){gt={r:0,c:[],p:gt}}function $t(){gt.r||r(gt.c),gt=gt.p}function wt(t,e){t&&t.i&&(pt.delete(t),t.i(e))}function vt(t,e,n,o){if(t&&t.o){if(pt.has(t))return;pt.add(t),gt.c.push((()=>{pt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const yt={duration:0};function bt(n,o,i){let a,c=o(n,i),l=!0;const u=gt;function d(){const{delay:o=0,duration:i=300,easing:s=e,tick:d=t,css:f}=c||yt;f&&(a=W(n,1,0,i,o,s,f));const h=w()+o,p=h+i;st((()=>ht(n,!1,"start"))),x((t=>{if(l){if(t>=p)return d(0,1),ht(n,!1,"end"),--u.r||r(u.c),!1;if(t>=h){const e=s((t-h)/i);d(1-e,e)}}return l}))}return u.r+=1,s(c)?ft().then((()=>{c=c(),d()})):d(),{end(t){t&&c.tick&&c.tick(1,0),l&&(a&&D(n,a),l=!1)}}}function xt(n,o,i,a){let c=o(n,i),l=a?0:1,u=null,d=null,f=null;function h(){f&&D(n,f)}function p(t,e){const n=t.b-l;return e*=Math.abs(n),{a:l,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function g(o){const{delay:i=0,duration:s=300,easing:a=e,tick:g=t,css:m}=c||yt,$={start:w()+i,b:o};o||($.group=gt,gt.r+=1),u||d?d=$:(m&&(h(),f=W(n,l,o,s,i,a,m)),o&&g(0,1),u=p($,s),st((()=>ht(n,o,"start"))),x((t=>{if(d&&t>d.start&&(u=p(d,s),d=null,ht(n,u.b,"start"),m&&(h(),f=W(n,l,u.b,u.duration,0,a,c.css))),u)if(t>=u.end)g(l=u.b,1-l),ht(n,u.b,"end"),d||(u.b?h():--u.group.r||r(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;l=u.a+u.d*a(e/u.duration),g(l,1-l)}return!(!u&&!d)})))}return{run(t){s(c)?ft().then((()=>{c=c(),g(t)})):g(t)},end(){h(),u=d=null}}}function _t(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const s=t[r],a=e[r];if(a){for(const t in s)t in a||(o[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[r]=a}else for(const t in s)i[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function kt(t){return"object"==typeof t&&null!==t?t:{}}function Rt(t){t&&t.c()}function Pt(t,e,n){const{fragment:i,on_mount:a,on_destroy:c,after_update:l}=t.$$;i&&i.m(e,n),st((()=>{const e=a.map(o).filter(s);c?c.push(...e):r(e),t.$$.on_mount=[]})),l.forEach(st)}function Ht(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lt(e,n,o,s,a,c,l=[-1]){const u=U;J(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:l,skip_bound:!1};let f=!1;if(d.ctx=o?o(e,n.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),f&&function(t,e){-1===t.$$.dirty[0]&&(Y.push(t),it(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),f=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(R)}else d.fragment&&d.fragment.c();n.intro&&wt(e.$$.fragment),Pt(e,n.target,n.anchor),lt()}J(u)}class St{$destroy(){Ht(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ct=[];function zt(t,e){return{subscribe:Nt(t,e).subscribe}}function Nt(e,n=t){let o;const i=[];function r(t){if(a(e,t)&&(e=t,o)){const t=!Ct.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Ct.push(n,e)}if(t){for(let t=0;t<Ct.length;t+=2)Ct[t][0](Ct[t+1]);Ct.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,a=t){const c=[s,a];return i.push(c),1===i.length&&(o=n(r)||t),s(e),()=>{const t=i.indexOf(c);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}const jt={},Tt={};function Et(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}const Mt=function(t,e){const n=[];let o=Et(t);return{get location(){return o},listen(e){n.push(e);const i=()=>{o=Et(t),e({location:o,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const o=n.indexOf(e);n.splice(o,1)}},navigate(e,{state:i,replace:r=!1}={}){i={...i,key:Date.now()+""};try{r?t.history.replaceState(i,null,e):t.history.pushState(i,null,e)}catch(n){t.location[r?"replace":"assign"](e)}o=Et(t),n.forEach((t=>t({location:o,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(t="/"){let e=0;const n=[{pathname:t,search:""}],o=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return o[e]},pushState(t,i,r){const[s,a=""]=r.split("?");e++,n.push({pathname:s,search:a}),o.push(t)},replaceState(t,i,r){const[s,a=""]=r.split("?");n[e]={pathname:s,search:a},o[e]=t}}}}()),{navigate:It}=Mt,Ot=/^:(.+)/;function At(t,e){return t.substr(0,e.length)===e}function Bt(t){return"*"===t[0]}function Ut(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Ft(t){return t.replace(/(^\/+|\/+$)/g,"")}function Wt(t,e){return{route:t,score:t.default?0:Ut(t.path).reduce(((t,e)=>(t+=4,!function(t){return""===t}(e)?!function(t){return Ot.test(t)}(e)?Bt(e)?t-=5:t+=3:t+=2:t+=1,t)),0),index:e}}function Dt(t,e){let n,o;const[i]=e.split("?"),r=Ut(i),s=""===r[0],a=function(t){return t.map(Wt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let t=0,i=a.length;t<i;t++){const i=a[t].route;let c=!1;if(i.default){o={route:i,params:{},uri:e};continue}const l=Ut(i.path),u={},d=Math.max(r.length,l.length);let f=0;for(;f<d;f++){const t=l[f],e=r[f];if(void 0!==t&&Bt(t)){u["*"===t?"*":t.slice(1)]=r.slice(f).map(decodeURIComponent).join("/");break}if(void 0===e){c=!0;break}let n=Ot.exec(t);if(n&&!s){const t=decodeURIComponent(e);u[n[1]]=t}else if(t!==e){c=!0;break}}if(!c){n={route:i,params:u,uri:"/"+r.slice(0,f).join("/")};break}}return n||o||null}function Jt(t,e){return t+(e?`?${e}`:"")}function Vt(t,e){return`${Ft("/"===e?t:`${Ft(t)}/${Ft(e)}`)}/`}function qt(t){let e;const n=t[9].default,o=d(n,t,t[8],null);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,[e]){o&&o.p&&256&e&&h(o,n,t,t[8],e,null,null)},i(t){e||(wt(o,t),e=!0)},o(t){vt(o,t),e=!1},d(t){o&&o.d(t)}}}function Gt(e,n,o){let i,a,l,{$$slots:d={},$$scope:f}=n,{basepath:h="/"}=n,{url:p=null}=n;const g=X(jt),m=X(Tt),$=Nt([]);u(e,$,(t=>o(7,l=t)));const w=Nt(null);let v=!1;const y=g||Nt(p?{pathname:p}:Mt.location);u(e,y,(t=>o(6,a=t)));const b=m?m.routerBase:Nt({path:h,uri:h});u(e,b,(t=>o(5,i=t)));const x=function(e,n,o){const i=!Array.isArray(e),a=i?[e]:e,l=n.length<2;return zt(o,(e=>{let o=!1;const u=[];let d=0,f=t;const h=()=>{if(d)return;f();const o=n(i?u[0]:u,e);l?e(o):f=s(o)?o:t},p=a.map(((t,e)=>c(t,(t=>{u[e]=t,d&=~(1<<e),o&&h()}),(()=>{d|=1<<e}))));return o=!0,h(),function(){r(p),f()}}))}([b,w],(([t,e])=>{if(null===e)return t;const{path:n}=t,{route:o,uri:i}=e;return{path:o.default?n:o.path.replace(/\*.*$/,""),uri:i}}));return g||(q((()=>Mt.listen((t=>{y.set(t.location)})))),Z(jt,y)),Z(Tt,{activeRoute:w,base:b,routerBase:x,registerRoute:function(t){const{path:e}=i;let{path:n}=t;if(t._path=n,t.path=Vt(e,n),"undefined"==typeof window){if(v)return;const e=function(t,e){return Dt([t],e)}(t,a.pathname);e&&(w.set(e),v=!0)}else $.update((e=>(e.push(t),e)))},unregisterRoute:function(t){$.update((e=>{const n=e.indexOf(t);return e.splice(n,1),e}))}}),e.$$set=t=>{"basepath"in t&&o(3,h=t.basepath),"url"in t&&o(4,p=t.url),"$$scope"in t&&o(8,f=t.$$scope)},e.$$.update=()=>{if(32&e.$$.dirty){const{path:t}=i;$.update((e=>(e.forEach((e=>e.path=Vt(t,e._path))),e)))}if(192&e.$$.dirty){const t=Dt(l,a.pathname);w.set(t)}},[$,y,b,h,p,i,a,l,f,d]}class Kt extends St{constructor(t){super(),Lt(this,t,Gt,qt,a,{basepath:3,url:4})}}const Zt=t=>({params:4&t,location:16&t}),Xt=t=>({params:t[2],location:t[4]});function Yt(t){let e,n,o,i;const r=[te,Qt],s=[];function a(t,e){return null!==t[0]?0:1}return e=a(t),n=s[e]=r[e](t),{c(){n.c(),o=C()},m(t,n){s[e].m(t,n),k(t,o,n),i=!0},p(t,i){let c=e;e=a(t),e===c?s[e].p(t,i):(mt(),vt(s[c],1,1,(()=>{s[c]=null})),$t(),n=s[e],n?n.p(t,i):(n=s[e]=r[e](t),n.c()),wt(n,1),n.m(o.parentNode,o))},i(t){i||(wt(n),i=!0)},o(t){vt(n),i=!1},d(t){s[e].d(t),t&&R(o)}}}function Qt(t){let e;const n=t[10].default,o=d(n,t,t[9],Xt);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&532&e&&h(o,n,t,t[9],e,Zt,Xt)},i(t){e||(wt(o,t),e=!0)},o(t){vt(o,t),e=!1},d(t){o&&o.d(t)}}}function te(t){let e,o,i;const r=[{location:t[4]},t[2],t[3]];var s=t[0];function a(t){let e={};for(let t=0;t<r.length;t+=1)e=n(e,r[t]);return{props:e}}return s&&(e=new s(a())),{c(){e&&Rt(e.$$.fragment),o=C()},m(t,n){e&&Pt(e,t,n),k(t,o,n),i=!0},p(t,n){const i=28&n?_t(r,[16&n&&{location:t[4]},4&n&&kt(t[2]),8&n&&kt(t[3])]):{};if(s!==(s=t[0])){if(e){mt();const t=e;vt(t.$$.fragment,1,0,(()=>{Ht(t,1)})),$t()}s?(e=new s(a()),Rt(e.$$.fragment),wt(e.$$.fragment,1),Pt(e,o.parentNode,o)):e=null}else s&&e.$set(i)},i(t){i||(e&&wt(e.$$.fragment,t),i=!0)},o(t){e&&vt(e.$$.fragment,t),i=!1},d(t){t&&R(o),e&&Ht(e,t)}}}function ee(t){let e,n,o=null!==t[1]&&t[1].route===t[7]&&Yt(t);return{c(){o&&o.c(),e=C()},m(t,i){o&&o.m(t,i),k(t,e,i),n=!0},p(t,[n]){null!==t[1]&&t[1].route===t[7]?o?(o.p(t,n),2&n&&wt(o,1)):(o=Yt(t),o.c(),wt(o,1),o.m(e.parentNode,e)):o&&(mt(),vt(o,1,1,(()=>{o=null})),$t())},i(t){n||(wt(o),n=!0)},o(t){vt(o),n=!1},d(t){o&&o.d(t),t&&R(e)}}}function ne(t,e,o){let i,r,{$$slots:s={},$$scope:a}=e,{path:c=""}=e,{component:l=null}=e;const{registerRoute:d,unregisterRoute:f,activeRoute:h}=X(Tt);u(t,h,(t=>o(1,i=t)));const g=X(jt);u(t,g,(t=>o(4,r=t)));const m={path:c,default:""===c};let $={},w={};return d(m),"undefined"!=typeof window&&G((()=>{f(m)})),t.$$set=t=>{o(13,e=n(n({},e),p(t))),"path"in t&&o(8,c=t.path),"component"in t&&o(0,l=t.component),"$$scope"in t&&o(9,a=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&i&&i.route===m&&o(2,$=i.params);{const{path:t,component:n,...i}=e;o(3,w=i)}},e=p(e),[l,i,$,w,r,h,g,m,c,a,s]}class oe extends St{constructor(t){super(),Lt(this,t,ne,ee,a,{path:8,component:0})}}function ie(t){let e,o,i,r;const s=t[16].default,a=d(s,t,t[15],null);let c=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],l={};for(let t=0;t<c.length;t+=1)l=n(l,c[t]);return{c(){e=H("a"),a&&a.c(),T(e,l)},m(n,s){k(n,e,s),a&&a.m(e,null),o=!0,i||(r=z(e,"click",t[5]),i=!0)},p(t,[n]){a&&a.p&&32768&n&&h(a,s,t,t[15],n,null,null),T(e,l=_t(c,[(!o||1&n)&&{href:t[0]},(!o||4&n)&&{"aria-current":t[2]},2&n&&t[1],64&n&&t[6]]))},i(t){o||(wt(a,t),o=!0)},o(t){vt(a,t),o=!1},d(t){t&&R(e),a&&a.d(t),i=!1,r()}}}function re(t,e,o){let i;const r=["to","replace","state","getProps"];let s,a,c=g(e,r),{$$slots:l={},$$scope:d}=e,{to:f="#"}=e,{replace:h=!1}=e,{state:m={}}=e,{getProps:$=(()=>({}))}=e;const{base:w}=X(Tt);u(t,w,(t=>o(13,s=t)));const v=X(jt);u(t,v,(t=>o(14,a=t)));const y=K();let b,x,_,k;return t.$$set=t=>{e=n(n({},e),p(t)),o(6,c=g(e,r)),"to"in t&&o(7,f=t.to),"replace"in t&&o(8,h=t.replace),"state"in t&&o(9,m=t.state),"getProps"in t&&o(10,$=t.getProps),"$$scope"in t&&o(15,d=t.$$scope)},t.$$.update=()=>{8320&t.$$.dirty&&o(0,b="/"===f?s.uri:function(t,e){if(At(t,"/"))return t;const[n,o]=t.split("?"),[i]=e.split("?"),r=Ut(n),s=Ut(i);if(""===r[0])return Jt(i,o);if(!At(r[0],"."))return Jt(("/"===i?"":"/")+s.concat(r).join("/"),o);const a=s.concat(r),c=[];return a.forEach((t=>{".."===t?c.pop():"."!==t&&c.push(t)})),Jt("/"+c.join("/"),o)}(f,s.uri)),16385&t.$$.dirty&&o(11,x=At(a.pathname,b)),16385&t.$$.dirty&&o(12,_=b===a.pathname),4096&t.$$.dirty&&o(2,i=_?"page":void 0),23553&t.$$.dirty&&o(1,k=$({location:a,href:b,isPartiallyCurrent:x,isCurrent:_}))},[b,k,i,w,v,function(t){if(y("click",t),function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)){t.preventDefault();const e=a.pathname===b||h;It(b,{state:m,replace:e})}},c,f,h,m,$,x,_,s,a,d,l]}class se extends St{constructor(t){super(),Lt(this,t,re,ie,a,{to:7,replace:8,state:9,getProps:10})}}function ae(t,{delay:n=0,duration:o=400,easing:i=e}={}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:i,css:t=>"opacity: "+t*r}}const ce=Nt(localStorage.getItem("pozzoLoginJWT")||"");ce.subscribe((t=>{localStorage.setItem("pozzoLoginJWT",t)}));const le=zt({apiUri:`${location.origin}/api`},(t=>{})),ue=Nt(!1);async function de(t,e){var n;const o={};e=null!=e?e:{},o.method=null!==(n=e.method)&&void 0!==n?n:"GET",e.params&&(o.body=JSON.stringify(e.params)),e.authorize&&(o.headers={Authorization:`Bearer ${l(ce)}`});const i=await fetch(`${l(le).apiUri}${t}`,o);try{if(i.ok){const t=await i.json();return{success:!0,code:i.status,data:t}}{const t=await i.json();return{success:!1,code:i.status,data:t}}}catch(t){return{success:!1,code:500,data:{error:t}}}}function fe(e){let n,o,i;return{c(){n=H("div"),n.innerHTML='<svg class="w-6 h-6 svelte-10frveb" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',j(n,"class","link svelte-10frveb"),j(n,"title","Log Out")},m(t,r){k(t,n,r),o||(i=z(n,"click",e[8]),o=!0)},p:t,i:t,o:t,d(t){t&&R(n),o=!1,i()}}}function he(t){let e,n,o,i,r,s=t[2]&&pe(t);return{c(){s&&s.c(),e=S(),n=H("div"),n.innerHTML='<svg class="w-6 h-6 svelte-10frveb" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',j(n,"class","link svelte-10frveb"),j(n,"title","Log In")},m(a,c){s&&s.m(a,c),k(a,e,c),k(a,n,c),o=!0,i||(r=z(n,"click",t[9]),i=!0)},p(t,n){t[2]?s?(s.p(t,n),4&n&&wt(s,1)):(s=pe(t),s.c(),wt(s,1),s.m(e.parentNode,e)):s&&(mt(),vt(s,1,1,(()=>{s=null})),$t())},i(t){o||(wt(s),o=!0)},o(t){vt(s),o=!1},d(t){s&&s.d(t),t&&R(e),t&&R(n),i=!1,r()}}}function pe(t){let e,n,o,i,s,a,c,l,u,d,f,h,p,g,m,$,w,v,y,b,x,P;return{c(){e=H("div"),n=H("div"),o=H("form"),i=H("label"),s=L("User:\n                            "),a=H("input"),c=S(),l=H("label"),u=L("Password:\n                            "),d=H("input"),f=S(),h=H("button"),p=L("Log In"),m=S(),$=H("div"),w=L(t[5]),v=L(" "),j(a,"type","text"),a.disabled=t[4],j(a,"class","svelte-10frveb"),j(i,"class","svelte-10frveb"),j(d,"type","password"),d.disabled=t[4],j(d,"class","svelte-10frveb"),j(l,"class","svelte-10frveb"),j(h,"type","submit"),h.disabled=g=t[4]||!t[6],j(h,"class","svelte-10frveb"),j($,"class","login-message svelte-10frveb"),j(n,"class","login-prompt svelte-10frveb"),j(e,"class","overlay svelte-10frveb")},m(r,g){var y;k(r,e,g),_(e,n),_(n,o),_(o,i),_(i,s),_(i,a),t[11](a),M(a,t[0]),_(o,c),_(o,l),_(l,u),_(l,d),M(d,t[1]),_(o,f),_(o,h),_(h,p),_(n,m),_(n,$),_($,w),_($,v),b=!0,x||(P=[z(a,"input",t[12]),z(d,"input",t[13]),z(o,"submit",N(t[10])),z(e,"click",(y=t[14],function(t){t.target===this&&y.call(this,t)}))],x=!0)},p(t,e){(!b||16&e)&&(a.disabled=t[4]),1&e&&a.value!==t[0]&&M(a,t[0]),(!b||16&e)&&(d.disabled=t[4]),2&e&&d.value!==t[1]&&M(d,t[1]),(!b||80&e&&g!==(g=t[4]||!t[6]))&&(h.disabled=g),(!b||32&e)&&E(w,t[5])},i(t){b||(st((()=>{y||(y=xt(e,ae,{duration:200},!0)),y.run(1)})),b=!0)},o(t){y||(y=xt(e,ae,{duration:200},!1)),y.run(0),b=!1},d(n){n&&R(e),t[11](null),n&&y&&y.end(),x=!1,r(P)}}}function ge(t){let e,n,o,i;const r=[he,fe],s=[];function a(t,e){return 0==t[7].length?0:1}return n=a(t),o=s[n]=r[n](t),{c(){e=H("div"),o.c(),j(e,"class","login svelte-10frveb")},m(t,o){k(t,e,o),s[n].m(e,null),i=!0},p(t,[i]){let c=n;n=a(t),n===c?s[n].p(t,i):(mt(),vt(s[c],1,1,(()=>{s[c]=null})),$t(),o=s[n],o?o.p(t,i):(o=s[n]=r[n](t),o.c()),wt(o,1),o.m(e,null))},i(t){i||(wt(o),i=!0)},o(t){vt(o),i=!1},d(t){t&&R(e),s[n].d()}}}function me(t,e,n){let o;u(t,ce,(t=>n(7,o=t)));var i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))};let r=null;function s(){null!=r&&(clearTimeout(r),r=null),m(ce,o="",o)}q((()=>{0!=o.length&&function(){i(this,void 0,void 0,(function*(){const t=yield de("/login/check",{authorize:!0});t.success?r=setTimeout((()=>{r=null,m(ce,o=t.data.newToken,o)}),1e3*(t.data.validIn+.5)):-4==t.data.code||s()}))}()}));let a,c=!1;let l=!1,d="",f="",h="";let p=!1;return t.$$.update=()=>{3&t.$$.dirty&&(d.length>0&&f.length>0?n(6,p=!0):n(6,p=!1))},[d,f,c,a,l,h,p,o,s,function(){return i(this,void 0,void 0,(function*(){n(0,d=""),n(1,f=""),n(5,h=""),n(2,c=!0),yield rt(),a.focus()}))},function(){return i(this,void 0,void 0,(function*(){n(4,l=!0);const t=yield de("/login/",{params:{userName:d,password:f},method:"POST"});t.success?(m(ce,o=t.data.token,o),n(2,c=!1)):n(5,h="Incorrect!"),n(4,l=!1)}))},function(t){Q[t?"unshift":"push"]((()=>{a=t,n(3,a)}))},function(){d=this.value,n(0,d)},function(){f=this.value,n(1,f)},()=>n(2,c=!1)]}class $e extends St{constructor(t){super(),Lt(this,t,me,ge,a,{})}}function we(t){const e=Math.floor(Math.log(t)/Math.log(1024)),n=e<=1?0:2;return`${(t/Math.pow(1024,e)).toFixed(n)} ${["B","kB","MB","GB","TB"][e]}`}function ve(e){let n,o,i,r,s,a,c,l,u,d,f,h,p,g,m,$,w,v,y,b,x,P,C=e[0].file.name+"",z=we(e[0].file.size)+"";return{c(){n=H("div"),o=H("div"),i=H("div"),r=H("div"),s=H("span"),s.textContent="Name:",a=S(),c=L(C),l=S(),u=H("div"),d=H("span"),d.textContent="Size:",f=S(),h=L(z),p=S(),g=H("div"),m=H("img"),w=S(),v=H("div"),y=H("progress"),b=S(),x=H("div"),P=L(e[5]),j(s,"class","label svelte-kncakv"),j(r,"class","name"),j(d,"class","label svelte-kncakv"),j(u,"class","size"),j(i,"class","meta svelte-kncakv"),m.src!==($=e[3])&&j(m,"src",$),j(m,"alt",e[4]),j(m,"class","svelte-kncakv"),j(g,"class","preview svelte-kncakv"),j(o,"class","info svelte-kncakv"),j(y,"class","svelte-kncakv"),j(x,"class","status svelte-kncakv"),j(v,"class","status svelte-kncakv"),j(n,"class","fileUploader svelte-kncakv")},m(t,$){k(t,n,$),_(n,o),_(o,i),_(i,r),_(r,s),_(r,a),_(r,c),_(i,l),_(i,u),_(u,d),_(u,f),_(u,h),_(o,p),_(o,g),_(g,m),_(n,w),_(n,v),_(v,y),e[7](y),_(v,b),_(v,x),_(x,P),e[8](n)},p(t,[e]){1&e&&C!==(C=t[0].file.name+"")&&E(c,C),1&e&&z!==(z=we(t[0].file.size)+"")&&E(h,z),8&e&&m.src!==($=t[3])&&j(m,"src",$),16&e&&j(m,"alt",t[4]),32&e&&E(P,t[5])},i:t,o:t,d(t){t&&R(n),e[7](null),e[8](null)}}}function ye(t,e,n){let o;u(t,ue,(t=>n(9,o=t)));var i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))};let r,{uploadStatus:s}=e;const a=K();function c(){return i(this,void 0,void 0,(function*(){if(s.status>0)return;n(0,s.status=1,s),n(5,p="Uploading…"),o||r.scrollIntoView({behavior:"smooth",block:"center"});const t=yield async function(t,e=null,n=null){return new Promise(((o,i)=>{const r=`${l(le).apiUri}/upload`,s=new XMLHttpRequest,a=new FormData;s.upload.onprogress=t=>{t.lengthComputable&&e&&e(t.loaded/t.total)},s.upload.onload=t=>{n&&n(!0)},s.upload.onerror=t=>{n&&n(!1)},s.upload.onabort=t=>{n&&n(!1)},s.onload=t=>{s.status>=200&&s.status<300?o({success:!0,code:s.status,data:JSON.parse(s.responseText)}):o({success:!1,code:s.status,data:JSON.parse(s.responseText)})},s.onerror=t=>{o({success:!1,code:500,data:{error:s.responseText}})},s.open("POST",r,!0),s.setRequestHeader("Authorization",`Bearer ${l(ce)}`),a.append("photoUp",t),s.send(a)}))}(s.file,(t=>n(1,d.value=t,d)),(t=>{n(5,p="Processing…"),d.removeAttribute("value")}));n(1,d.value=1,d),t.success?(n(5,p="Done!"),n(0,s.status=2,s),a("fileUploadDone")):(n(5,p="Failed :("),n(0,s.status=3,s),a("fileUploadFailed"))}))}q((()=>{n(0,s.startUploadCallback=()=>c(),s),n(1,d.value=0,d);const t=new FileReader;t.readAsDataURL(s.file),t.onloadend=()=>{n(3,f=t.result),n(4,h=s.file.name)}}));let d,f=null,h="",p="Pending…";return t.$$set=t=>{"uploadStatus"in t&&n(0,s=t.uploadStatus)},t.$$.update=()=>{3&t.$$.dirty&&d&&0==s.status&&n(1,d.value=0,d)},[s,d,r,f,h,p,c,function(t){Q[t?"unshift":"push"]((()=>{d=t,n(1,d),n(0,s)}))},function(t){Q[t?"unshift":"push"]((()=>{r=t,n(2,r)}))}]}class be extends St{constructor(t){super(),Lt(this,t,ye,ve,a,{uploadStatus:0,startUpload:6})}get startUpload(){return this.$$.ctx[6]}}function xe(t,e,n){const o=t.slice();return o[16]=e[n],o}function _e(t){let e,n,o,i,s,a,c,l;function u(t,e){return t[2]>0?Re:ke}let d=u(t),f=d(t);return{c(){e=H("div"),f.c(),n=S(),o=H("div"),i=H("div"),i.innerHTML='<svg class="w-6 h-6 svelte-11d3o8p" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"></path></svg>\n                    Upload',s=S(),a=H("div"),a.innerHTML='<svg class="w-6 h-6 svelte-11d3o8p" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>\n\n                    Cancel',j(i,"class","yes svelte-11d3o8p"),j(a,"class","no svelte-11d3o8p"),j(o,"class","yesno svelte-11d3o8p"),j(e,"class","confirm svelte-11d3o8p")},m(r,u){k(r,e,u),f.m(e,null),_(e,n),_(e,o),_(o,i),_(o,s),_(o,a),c||(l=[z(i,"click",t[7]),z(a,"click",t[9])],c=!0)},p(t,o){d===(d=u(t))&&f?f.p(t,o):(f.d(1),f=d(t),f&&(f.c(),f.m(e,n)))},d(t){t&&R(e),f.d(),c=!1,r(l)}}}function ke(t){let e,n,o,i,r,s=t[0].length+"",a=1==t[0].length?"":"s";return{c(){e=L("Upload "),n=L(s),o=L(" image"),i=L(a),r=L("?")},m(t,s){k(t,e,s),k(t,n,s),k(t,o,s),k(t,i,s),k(t,r,s)},p(t,e){1&e&&s!==(s=t[0].length+"")&&E(n,s),1&e&&a!==(a=1==t[0].length?"":"s")&&E(i,a)},d(t){t&&R(e),t&&R(n),t&&R(o),t&&R(i),t&&R(r)}}}function Re(t){let e,n,o=1==t[2]?"This image ":"These images ";return{c(){e=L(o),n=L("did not upload\n                successfully. Do you want to try again?")},m(t,o){k(t,e,o),k(t,n,o)},p(t,n){4&n&&o!==(o=1==t[2]?"This image ":"These images ")&&E(e,o)},d(t){t&&R(e),t&&R(n)}}}function Pe(t){let e,n,o=t[1],i=[];for(let e=0;e<o.length;e+=1)i[e]=He(xe(t,o,e));const r=t=>vt(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=C()},m(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);k(t,e,o),n=!0},p(t,n){if(98&n){let s;for(o=t[1],s=0;s<o.length;s+=1){const r=xe(t,o,s);i[s]?(i[s].p(r,n),wt(i[s],1)):(i[s]=He(r),i[s].c(),wt(i[s],1),i[s].m(e.parentNode,e))}for(mt(),s=o.length;s<i.length;s+=1)r(s);$t()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)wt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)vt(i[t]);n=!1},d(t){P(i,t),t&&R(e)}}}function He(t){let e,n;return e=new be({props:{uploadStatus:t[16]}}),e.$on("fileUploadDone",t[5]),e.$on("fileUploadFailed",t[6]),{c(){Rt(e.$$.fragment)},m(t,o){Pt(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.uploadStatus=t[16]),e.$set(o)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){Ht(e,t)}}}function Le(t){let e,n,o,i,r,s=t[3]&&_e(t),a=t[1]&&Pe(t);return{c(){e=H("div"),s&&s.c(),n=S(),a&&a.c(),j(e,"class","fileUploadList svelte-11d3o8p")},m(c,l){k(c,e,l),s&&s.m(e,null),_(e,n),a&&a.m(e,null),o=!0,i||(r=z(e,"click",t[10]),i=!0)},p(t,[o]){t[3]?s?s.p(t,o):(s=_e(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),t[1]?a?(a.p(t,o),2&o&&wt(a,1)):(a=Pe(t),a.c(),wt(a,1),a.m(e,null)):a&&(mt(),vt(a,1,1,(()=>{a=null})),$t())},i(t){o||(wt(a),o=!0)},o(t){vt(a),o=!1},d(t){t&&R(e),s&&s.d(),a&&a.d(),i=!1,r()}}}function Se(t){return t.preventDefault(),t.returnValue="","..."}function Ce(t,e,n){let o;u(t,ue,(t=>n(4,o=t)));var i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))};let r,{fileList:s}=e,a=0,c=0;function l(){for(;c<4&&!(a>=r.length);)r[a].startUploadCallback(),a+=1,c+=1}function d(){c-=1,0==c&&a>=r.length?function(){if(0==f)return void p("finished");n(1,r=r.filter((t=>3==t.status))),n(3,h=!0)}():l()}let f=0;let h=!0;q((()=>i(void 0,void 0,void 0,(function*(){m(ue,o=!1,o),n(1,r=s.map((t=>({file:t,status:0}))))})))),G((()=>{window.removeEventListener("beforeunload",Se)}));const p=K();return t.$$set=t=>{"fileList"in t&&n(0,s=t.fileList)},[s,r,f,h,o,d,function(){n(2,f+=1),d()},function(){return i(this,void 0,void 0,(function*(){window.addEventListener("beforeunload",Se),n(2,f=0),a=0,c=0,n(3,h=!1);for(let t=0;t<r.length;t++)n(1,r[t].status=0,r);yield rt(),yield new Promise((t=>setTimeout(t,400))),m(ue,o=!1,o),l()}))},p,()=>p("finished"),()=>m(ue,o=!0,o)]}class ze extends St{constructor(t){super(),Lt(this,t,Ce,Le,a,{fileList:0})}}function Ne(t){let e,n,o,i;const r=[Te,je],s=[];function a(t,e){return t[0]?0:1}return e=a(t),n=s[e]=r[e](t),{c(){n.c(),o=C()},m(t,n){s[e].m(t,n),k(t,o,n),i=!0},p(t,i){let c=e;e=a(t),e===c?s[e].p(t,i):(mt(),vt(s[c],1,1,(()=>{s[c]=null})),$t(),n=s[e],n?n.p(t,i):(n=s[e]=r[e](t),n.c()),wt(n,1),n.m(o.parentNode,o))},i(t){i||(wt(n),i=!0)},o(t){vt(n),i=!1},d(t){s[e].d(t),t&&R(o)}}}function je(n){let o,i,r,a,c;return{c(){o=H("div"),i=H("div"),i.innerHTML='<div class="dragIndicatorOutline svelte-i3gczl"></div>',j(i,"class","dragIndicator svelte-i3gczl"),j(o,"class","uploadZone svelte-i3gczl")},m(t,e){k(t,o,e),_(o,i),c=!0},p:t,i(n){c||(st((()=>{a&&a.end(1),r||(r=function(n,o,i){let r,a,c=o(n,i),l=!1,u=0;function d(){r&&D(n,r)}function f(){const{delay:o=0,duration:i=300,easing:s=e,tick:f=t,css:h}=c||yt;h&&(r=W(n,0,1,i,o,s,h,u++)),f(0,1);const p=w()+o,g=p+i;a&&a.abort(),l=!0,st((()=>ht(n,!0,"start"))),a=x((t=>{if(l){if(t>=g)return f(1,0),ht(n,!0,"end"),d(),l=!1;if(t>=p){const e=s((t-p)/i);f(e,1-e)}}return l}))}let h=!1;return{start(){h||(D(n),s(c)?(c=c(),ft().then(f)):f())},invalidate(){h=!1},end(){l&&(d(),l=!1)}}}(i,ae,{duration:100})),r.start()})),c=!0)},o(t){r&&r.invalidate(),a=bt(i,ae,{duration:200}),c=!1},d(t){t&&R(o),t&&a&&a.end()}}}function Te(t){let e,n,o;return n=new ze({props:{fileList:t[0]}}),n.$on("finished",t[7]),{c(){e=H("div"),Rt(n.$$.fragment),j(e,"class","uploadZone svelte-i3gczl")},m(t,i){k(t,e,i),Pt(n,e,null),o=!0},p(t,e){const o={};1&e&&(o.fileList=t[0]),n.$set(o)},i(t){o||(wt(n.$$.fragment,t),o=!0)},o(t){vt(n.$$.fragment,t),o=!1},d(t){t&&R(e),Ht(n)}}}function Ee(t){let e,n,o,i,s=(t[1]>0||null!=t[0])&&t[2].length>0&&Ne(t);return{c(){s&&s.c(),e=C()},m(r,a){s&&s.m(r,a),k(r,e,a),n=!0,o||(i=[z(window,"dragover",N(t[4])),z(window,"dragenter",N(t[5])),z(window,"dragleave",N(t[6])),z(window,"drop",N(t[3]))],o=!0)},p(t,[n]){(t[1]>0||null!=t[0])&&t[2].length>0?s?(s.p(t,n),7&n&&wt(s,1)):(s=Ne(t),s.c(),wt(s,1),s.m(e.parentNode,e)):s&&(mt(),vt(s,1,1,(()=>{s=null})),$t())},i(t){n||(wt(s),n=!0)},o(t){vt(s),n=!1},d(t){s&&s.d(t),t&&R(e),o=!1,r(i)}}}function Me(t,e,n){let o;u(t,ce,(t=>n(2,o=t)));var i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))};let r;let s=0;return[r,s,o,function(t){return i(this,void 0,void 0,(function*(){let e=[...t.dataTransfer.files];e=e.filter((t=>"image/jpeg"==t.type)),n(0,r=e),n(1,s=0)}))},function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)},()=>n(1,++s),()=>n(1,--s),()=>n(0,r=null)]}class Ie extends St{constructor(t){super(),Lt(this,t,Me,Ee,a,{})}}
/*!
     * Copyright 2019 SmugMug, Inc.
     * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
     * @license
     */
var Oe,Ae=(function(t){(t.exports=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight,this.widowLayoutStyle=t.widowLayoutStyle,this.isBreakoutRow=t.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(t){var e,n,o,i=this.items.concat(t),r=this.width-(i.length-1)*this.spacing,s=i.reduce((function(t,e){return t+e.aspectRatio}),0),a=r/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&t.aspectRatio>=1?(this.items.push(t),this.completeLayout(r/t.aspectRatio,"justify"),!0):s<this.minAspectRatio?(this.items.push(Object.assign({},t)),!0):s>this.maxAspectRatio?0===this.items.length?(this.items.push(Object.assign({},t)),this.completeLayout(r/s,"justify"),!0):(e=this.width-(this.items.length-1)*this.spacing,n=this.items.reduce((function(t,e){return t+e.aspectRatio}),0),o=e/this.targetRowHeight,Math.abs(s-a)>Math.abs(n-o)?(this.completeLayout(e/n,"justify"),!1):(this.items.push(Object.assign({},t)),this.completeLayout(r/s,"justify"),!0)):(this.items.push(Object.assign({},t)),this.completeLayout(r/s,"justify"),!0)},isLayoutComplete:function(){return this.height>0},completeLayout:function(t,e){var n,o,i,r,s,a=this.left,c=this.width-(this.items.length-1)*this.spacing;(void 0===e||["justify","center","left"].indexOf(e)<0)&&(e="left"),t!==(o=Math.max(this.edgeCaseMinRowHeight,Math.min(t,this.edgeCaseMaxRowHeight)))?(this.height=o,n=c/o/(c/t)):(this.height=t,n=1),this.items.forEach((function(t){t.top=this.top,t.width=t.aspectRatio*this.height*n,t.height=this.height,t.left=a,a+=t.width+this.spacing}),this),"justify"===e?(a-=this.spacing+this.left,i=(a-this.width)/this.items.length,r=this.items.map((function(t,e){return Math.round((e+1)*i)})),1===this.items.length?this.items[0].width-=Math.round(i):this.items.forEach((function(t,e){e>0?(t.left-=r[e-1],t.width-=r[e]-r[e-1]):t.width-=r[e]}))):"center"===e&&(s=(this.width-a)/2,this.items.forEach((function(t){t.left+=s+this.spacing}),this))},forceComplete:function(t,e){"number"==typeof e?this.completeLayout(e,this.widowLayoutStyle):this.completeLayout(this.targetRowHeight,this.widowLayoutStyle)},getItems:function(){return this.items}}}(Oe={exports:{}},Oe.exports),Oe.exports);
/*!
     * Copyright 2019 SmugMug, Inc.
     * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
     * @license
     */function Be(t,e){var n;return!1!==t.fullWidthBreakoutRowCadence&&(e._rows.length+1)%t.fullWidthBreakoutRowCadence==0&&(n=!0),new Ae({top:e._containerHeight,left:t.containerPadding.left,width:t.containerWidth-t.containerPadding.left-t.containerPadding.right,spacing:t.boxSpacing.horizontal,targetRowHeight:t.targetRowHeight,targetRowHeightTolerance:t.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*t.targetRowHeight,edgeCaseMaxRowHeight:2*t.targetRowHeight,rightToLeft:!1,isBreakoutRow:n,widowLayoutStyle:t.widowLayoutStyle})}function Ue(t,e,n){return e._rows.push(n),e._layoutItems=e._layoutItems.concat(n.getItems()),e._containerHeight+=n.height+t.boxSpacing.vertical,n.items}var Fe=function(t,e){var n={},o={},i={containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1,widowLayoutStyle:"left"},r={},s={};return e=e||{},n=Object.assign(i,e),r.top=isNaN(parseFloat(n.containerPadding.top))?n.containerPadding:n.containerPadding.top,r.right=isNaN(parseFloat(n.containerPadding.right))?n.containerPadding:n.containerPadding.right,r.bottom=isNaN(parseFloat(n.containerPadding.bottom))?n.containerPadding:n.containerPadding.bottom,r.left=isNaN(parseFloat(n.containerPadding.left))?n.containerPadding:n.containerPadding.left,s.horizontal=isNaN(parseFloat(n.boxSpacing.horizontal))?n.boxSpacing:n.boxSpacing.horizontal,s.vertical=isNaN(parseFloat(n.boxSpacing.vertical))?n.boxSpacing:n.boxSpacing.vertical,n.containerPadding=r,n.boxSpacing=s,o._layoutItems=[],o._awakeItems=[],o._inViewportItems=[],o._leadingOrphans=[],o._trailingOrphans=[],o._containerHeight=n.containerPadding.top,o._rows=[],o._orphans=[],n._widowCount=0,function(t,e,n){var o,i,r,s=[];return t.forceAspectRatio&&n.forEach((function(e){e.forcedAspectRatio=!0,e.aspectRatio=t.forceAspectRatio})),n.some((function(n,r){if(isNaN(n.aspectRatio))throw new Error("Item "+r+" has an invalid aspect ratio");if(i||(i=Be(t,e)),o=i.addItem(n),i.isLayoutComplete()){if(s=s.concat(Ue(t,e,i)),e._rows.length>=t.maxNumRows)return i=null,!0;if(i=Be(t,e),!o&&(o=i.addItem(n),i.isLayoutComplete())){if(s=s.concat(Ue(t,e,i)),e._rows.length>=t.maxNumRows)return i=null,!0;i=Be(t,e)}}})),i&&i.getItems().length&&t.showWidows&&(e._rows.length?(r=e._rows[e._rows.length-1].isBreakoutRow?e._rows[e._rows.length-1].targetRowHeight:e._rows[e._rows.length-1].height,i.forceComplete(!1,r)):i.forceComplete(!1),s=s.concat(Ue(t,e,i)),t._widowCount=i.getItems().length),e._containerHeight=e._containerHeight-t.boxSpacing.vertical,e._containerHeight=e._containerHeight+t.containerPadding.bottom,{containerHeight:e._containerHeight,widowCount:t._widowCount,boxes:e._layoutItems}}(n,o,t.map((function(t){return t.width&&t.height?{aspectRatio:t.width/t.height}:{aspectRatio:t}})))};function We(t){let e,n,o,i,r,s,a,c,l,u,d=!t[3]&&De(t);return{c(){e=H("div"),d&&d.c(),n=S(),o=H("img"),j(o,"alt",i=t[0].title),j(o,"srcset",r=`/img/${t[1]}/${t[0].hash}.jpg, /img/${t[1]}2x/${t[0].hash}.jpg 2x`),o.src!==(s=`/img/${t[1]}/${t[0].hash}.jpg`)&&j(o,"src",s),j(o,"class","svelte-txb48g"),j(e,"class","albumPhoto svelte-txb48g"),j(e,"style",a=`width: ${t[2].width}px; height: ${t[2].height}px; top: ${t[2].top}px; left: ${t[2].left}px;`)},m(i,r){k(i,e,r),d&&d.m(e,null),_(e,n),_(e,o),c=!0,l||(u=z(o,"load",t[4]),l=!0)},p(t,l){t[3]?d&&(mt(),vt(d,1,1,(()=>{d=null})),$t()):d?(d.p(t,l),8&l&&wt(d,1)):(d=De(t),d.c(),wt(d,1),d.m(e,n)),(!c||1&l&&i!==(i=t[0].title))&&j(o,"alt",i),(!c||3&l&&r!==(r=`/img/${t[1]}/${t[0].hash}.jpg, /img/${t[1]}2x/${t[0].hash}.jpg 2x`))&&j(o,"srcset",r),(!c||3&l&&o.src!==(s=`/img/${t[1]}/${t[0].hash}.jpg`))&&j(o,"src",s),(!c||4&l&&a!==(a=`width: ${t[2].width}px; height: ${t[2].height}px; top: ${t[2].top}px; left: ${t[2].left}px;`))&&j(e,"style",a)},i(t){c||(wt(d),c=!0)},o(t){vt(d),c=!1},d(t){t&&R(e),d&&d.d(),l=!1,u()}}}function De(t){let e,n,o,i,r,s,a;return{c(){e=H("img"),j(e,"class","preload svelte-txb48g"),j(e,"alt",n=t[0].title),e.src!==(o="data:image/jpeg;base64,"+t[0].tinyJPEG)&&j(e,"src",o),j(e,"width",i=t[2].width+"px"),j(e,"height",r=t[2].height+"px")},m(t,n){k(t,e,n),a=!0},p(t,s){(!a||1&s&&n!==(n=t[0].title))&&j(e,"alt",n),(!a||1&s&&e.src!==(o="data:image/jpeg;base64,"+t[0].tinyJPEG))&&j(e,"src",o),(!a||4&s&&i!==(i=t[2].width+"px"))&&j(e,"width",i),(!a||4&s&&r!==(r=t[2].height+"px"))&&j(e,"height",r)},i(t){a||(s&&s.end(1),a=!0)},o(t){s=bt(e,ae,{duration:200}),a=!1},d(t){t&&R(e),t&&s&&s.end()}}}function Je(t){let e,n,o=t[0]&&t[2]&&We(t);return{c(){o&&o.c(),e=C()},m(t,i){o&&o.m(t,i),k(t,e,i),n=!0},p(t,[n]){t[0]&&t[2]?o?(o.p(t,n),5&n&&wt(o,1)):(o=We(t),o.c(),wt(o,1),o.m(e.parentNode,e)):o&&(mt(),vt(o,1,1,(()=>{o=null})),$t())},i(t){n||(wt(o),n=!0)},o(t){vt(o),n=!1},d(t){o&&o.d(t),t&&R(e)}}}function Ve(t,e,n){let{photo:o}=e,{size:i="medium"}=e,{dims:r}=e,s=!1;return t.$$set=t=>{"photo"in t&&n(0,o=t.photo),"size"in t&&n(1,i=t.size),"dims"in t&&n(2,r=t.dims)},[o,i,r,s,()=>n(3,s=!0)]}class qe extends St{constructor(t){super(),Lt(this,t,Ve,Je,a,{photo:0,size:1,dims:2})}}function Ge(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function Ke(t){let e,n,o,i,r,s,a,c=t[1].title+"",l=t[2]&&Ze(t);return{c(){e=H("h2"),n=L(c),o=S(),i=H("div"),l&&l.c(),j(e,"class","svelte-13u7rp7"),j(i,"class","albumPhotos svelte-13u7rp7"),j(i,"style",r=`height: ${t[2]?.containerHeight||0}px;`),st((()=>t[4].call(i)))},m(r,c){k(r,e,c),_(e,n),k(r,o,c),k(r,i,c),l&&l.m(i,null),s=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=H("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=O();let i;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=z(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=z(n.contentWindow,"resize",e)}),_(t,n),()=>{(o||i&&n.contentWindow)&&i(),R(n)}}(i,t[4].bind(i)),a=!0},p(t,e){(!a||2&e)&&c!==(c=t[1].title+"")&&E(n,c),t[2]?l?(l.p(t,e),4&e&&wt(l,1)):(l=Ze(t),l.c(),wt(l,1),l.m(i,null)):l&&(mt(),vt(l,1,1,(()=>{l=null})),$t()),(!a||4&e&&r!==(r=`height: ${t[2]?.containerHeight||0}px;`))&&j(i,"style",r)},i(t){a||(wt(l),a=!0)},o(t){vt(l),a=!1},d(t){t&&R(e),t&&R(o),t&&R(i),l&&l.d(),s()}}}function Ze(t){let e,n,o=t[1].photos,i=[];for(let e=0;e<o.length;e+=1)i[e]=Xe(Ge(t,o,e));const r=t=>vt(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=C()},m(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);k(t,e,o),n=!0},p(t,n){if(6&n){let s;for(o=t[1].photos,s=0;s<o.length;s+=1){const r=Ge(t,o,s);i[s]?(i[s].p(r,n),wt(i[s],1)):(i[s]=Xe(r),i[s].c(),wt(i[s],1),i[s].m(e.parentNode,e))}for(mt(),s=o.length;s<i.length;s+=1)r(s);$t()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)wt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)vt(i[t]);n=!1},d(t){P(i,t),t&&R(e)}}}function Xe(t){let e,n;return e=new qe({props:{photo:t[8],size:"medium",dims:t[2].boxes[t[10]]}}),{c(){Rt(e.$$.fragment)},m(t,o){Pt(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.photo=t[8]),4&n&&(o.dims=t[2].boxes[t[10]]),e.$set(o)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){Ht(e,t)}}}function Ye(t){let e,n,o=t[1]&&Ke(t);return{c(){o&&o.c(),e=C()},m(t,i){o&&o.m(t,i),k(t,e,i),n=!0},p(t,[n]){t[1]?o?(o.p(t,n),2&n&&wt(o,1)):(o=Ke(t),o.c(),wt(o,1),o.m(e.parentNode,e)):o&&(mt(),vt(o,1,1,(()=>{o=null})),$t())},i(t){n||(wt(o),n=!0)},o(t){vt(o),n=!1},d(t){o&&o.d(t),t&&R(e)}}}function Qe(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))};let i,{identifier:r}=e;function s(t){if(!t||!a)return;const e=a.photos.map((t=>t.aspect));n(2,c=Fe(e,{targetRowHeight:300,containerWidth:t,containerPadding:10,widowLayoutStyle:"center"}))}let a=null,c=null;return q((function(){return o(this,void 0,void 0,(function*(){const t=yield de(`/album/view/${r}`,{params:{previews:1},method:"POST"});t.success?n(1,a=t.data):console.error(t)}))})),t.$$set=t=>{"identifier"in t&&n(3,r=t.identifier)},t.$$.update=()=>{1&t.$$.dirty&&s(i),3&t.$$.dirty&&a&&s(i)},[i,a,c,r,function(){i=this.clientWidth,n(0,i)}]}class tn extends St{constructor(t){super(),Lt(this,t,Qe,Ye,a,{identifier:3})}}function en(t,e,n){const o=t.slice();return o[3]=e[n],o}function nn(t){let e,n,o,i,r=t[0],s=[];for(let e=0;e<r.length;e+=1)s[e]=rn(en(t,r,e));const a=t=>vt(s[t],1,1,(()=>{s[t]=null}));return{c(){e=H("div"),n=H("h2"),n.textContent="Albums",o=S();for(let t=0;t<s.length;t+=1)s[t].c();j(e,"class","albumList svelte-axrzg7")},m(t,r){k(t,e,r),_(e,n),_(e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);i=!0},p(t,n){if(1&n){let o;for(r=t[0],o=0;o<r.length;o+=1){const i=en(t,r,o);s[o]?(s[o].p(i,n),wt(s[o],1)):(s[o]=rn(i),s[o].c(),wt(s[o],1),s[o].m(e,null))}for(mt(),o=r.length;o<s.length;o+=1)a(o);$t()}},i(t){if(!i){for(let t=0;t<r.length;t+=1)wt(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)vt(s[t]);i=!1},d(t){t&&R(e),P(s,t)}}}function on(t){let e,n=t[3].title+"";return{c(){e=L(n)},m(t,n){k(t,e,n)},p(t,o){1&o&&n!==(n=t[3].title+"")&&E(e,n)},d(t){t&&R(e)}}}function rn(t){let e,n,o,i;return n=new se({props:{to:`album/${t[3].title}`,$$slots:{default:[on]},$$scope:{ctx:t}}}),{c(){e=H("div"),Rt(n.$$.fragment),o=S(),j(e,"class","navAlbum svelte-axrzg7")},m(t,r){k(t,e,r),Pt(n,e,null),_(e,o),i=!0},p(t,e){const o={};1&e&&(o.to=`album/${t[3].title}`),65&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){i||(wt(n.$$.fragment,t),i=!0)},o(t){vt(n.$$.fragment,t),i=!1},d(t){t&&R(e),Ht(n)}}}function sn(t){let e,n,o=t[0]&&nn(t);return{c(){o&&o.c(),e=C()},m(t,i){o&&o.m(t,i),k(t,e,i),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&wt(o,1)):(o=nn(t),o.c(),wt(o,1),o.m(e.parentNode,e)):o&&(mt(),vt(o,1,1,(()=>{o=null})),$t())},i(t){n||(wt(o),n=!0)},o(t){vt(o),n=!1},d(t){o&&o.d(t),t&&R(e)}}}function an(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))};let i;return q((function(){return o(this,void 0,void 0,(function*(){const t=yield de("/album/list",{authorize:!0});t.success?n(0,i=t.data):console.error(t)}))})),[i]}class cn extends St{constructor(t){super(),Lt(this,t,an,sn,a,{})}}function ln(e){let n,o,i,r;return n=new oe({props:{path:"album/:identifier",component:tn}}),i=new oe({props:{component:cn}}),{c(){Rt(n.$$.fragment),o=S(),Rt(i.$$.fragment)},m(t,e){Pt(n,t,e),k(t,o,e),Pt(i,t,e),r=!0},p:t,i(t){r||(wt(n.$$.fragment,t),wt(i.$$.fragment,t),r=!0)},o(t){vt(n.$$.fragment,t),vt(i.$$.fragment,t),r=!1},d(t){Ht(n,t),t&&R(o),Ht(i,t)}}}function un(t){let e,n,o,i,r,s,a,c,l;return i=new $e({}),s=new Ie({}),c=new Kt({props:{url:t[0],$$slots:{default:[ln]},$$scope:{ctx:t}}}),{c(){e=H("main"),n=H("h1"),n.textContent="Pozzo",o=S(),Rt(i.$$.fragment),r=S(),Rt(s.$$.fragment),a=S(),Rt(c.$$.fragment),j(n,"class","svelte-45rfii"),j(e,"class","svelte-45rfii")},m(t,u){k(t,e,u),_(e,n),_(e,o),Pt(i,e,null),_(e,r),Pt(s,e,null),_(e,a),Pt(c,e,null),l=!0},p(t,[e]){const n={};1&e&&(n.url=t[0]),2&e&&(n.$$scope={dirty:e,ctx:t}),c.$set(n)},i(t){l||(wt(i.$$.fragment,t),wt(s.$$.fragment,t),wt(c.$$.fragment,t),l=!0)},o(t){vt(i.$$.fragment,t),vt(s.$$.fragment,t),vt(c.$$.fragment,t),l=!1},d(t){t&&R(e),Ht(i),Ht(s),Ht(c)}}}function dn(t,e,n){let{url:o=""}=e;return t.$$set=t=>{"url"in t&&n(0,o=t.url)},[o]}return new class extends St{constructor(t){super(),Lt(this,t,dn,un,a,{url:0})}}({target:document.body,props:{}})}();
