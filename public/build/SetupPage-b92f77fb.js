import{S as e,i as s,s as t,a6 as a,c as i,m as n,t as l,a as u,d as r,j as o,o as c,ai as d,a7 as f,r as p,y as v,U as y,w as h,z as m,b as x,B as $,K as b,M as w,a5 as g,V as P,h as S,a2 as T,R as j,q as M,a9 as N}from"./main-29f6f7fd.js";function U(e){let s,t,a,i,n,l,u,r,o,c,d,f,p,j,M,N,U,V,_,k,q,z,B,C,K,O,R;return{c(){s=v("div"),t=v("form"),a=v("label"),i=y("Site Name:\n                "),n=v("input"),l=h(),u=v("label"),r=y("User:\n                "),o=v("input"),c=h(),d=v("label"),f=y("Password:\n                "),p=v("input"),j=h(),M=v("label"),N=y("Verify Password:\n                "),U=v("input"),V=h(),_=v("button"),k=y("Configure Site"),z=h(),B=v("div"),C=y(e[6]),K=y("Â "),m(n,"type","text"),n.disabled=e[5],m(n,"class","svelte-1xreyiu"),m(a,"class","svelte-1xreyiu"),m(o,"type","text"),o.disabled=e[5],m(o,"class","svelte-1xreyiu"),m(u,"class","svelte-1xreyiu"),m(p,"type","password"),p.disabled=e[5],m(p,"class","svelte-1xreyiu"),m(d,"class","svelte-1xreyiu"),m(U,"type","password"),U.disabled=e[5],m(U,"class","svelte-1xreyiu"),m(M,"class","svelte-1xreyiu"),m(_,"type","submit"),_.disabled=q=e[5]||!e[7],m(_,"class","svelte-1xreyiu"),m(B,"class","configMessage svelte-1xreyiu"),m(s,"class","configPrompt svelte-1xreyiu")},m(v,y){x(v,s,y),$(s,t),$(t,a),$(a,i),$(a,n),e[10](n),b(n,e[0]),$(t,l),$(t,u),$(u,r),$(u,o),b(o,e[1]),$(t,c),$(t,d),$(d,f),$(d,p),b(p,e[2]),$(t,j),$(t,M),$(M,N),$(M,U),b(U,e[3]),$(t,V),$(t,_),$(_,k),$(s,z),$(s,B),$(B,C),$(B,K),O||(R=[w(n,"input",e[11]),w(o,"input",e[12]),w(p,"input",e[13]),w(U,"input",e[14]),w(t,"submit",g(e[8]))],O=!0)},p(e,s){32&s&&(n.disabled=e[5]),1&s&&n.value!==e[0]&&b(n,e[0]),32&s&&(o.disabled=e[5]),2&s&&o.value!==e[1]&&b(o,e[1]),32&s&&(p.disabled=e[5]),4&s&&p.value!==e[2]&&b(p,e[2]),32&s&&(U.disabled=e[5]),8&s&&U.value!==e[3]&&b(U,e[3]),160&s&&q!==(q=e[5]||!e[7])&&(_.disabled=q),64&s&&P(C,e[6])},d(t){t&&S(s),e[10](null),O=!1,T(R)}}}function V(e){let s,t;return s=new a({props:{$$slots:{default:[U]},$$scope:{ctx:e}}}),{c(){i(s.$$.fragment)},m(e,a){n(s,e,a),t=!0},p(e,[t]){const a={};131327&t&&(a.$$scope={dirty:t,ctx:e}),s.$set(a)},i(e){t||(l(s.$$.fragment,e),t=!0)},o(e){u(s.$$.fragment,e),t=!1},d(e){r(s,e)}}}function _(e,s,t){let a,i;o(e,c,(e=>t(9,a=e))),o(e,d,(e=>t(15,i=e)));var n=this&&this.__awaiter||function(e,s,t,a){return new(t||(t=Promise))((function(i,n){function l(e){try{r(a.next(e))}catch(e){n(e)}}function u(e){try{r(a.throw(e))}catch(e){n(e)}}function r(e){var s;e.done?i(e.value):(s=e.value,s instanceof t?s:new t((function(e){e(s)}))).then(l,u)}r((a=a.apply(e,s||[])).next())}))};let l;f((()=>{l.focus()}));let u=!1,r="",v="",y="",h="",m="";let x=!1;return e.$$.update=()=>{512&e.$$.dirty&&!1!==a.siteTitle&&p("/"),15&e.$$.dirty&&(r.length>0&&v.length>0&&y.length>0&&y==h?t(7,x=!0):t(7,x=!1))},[r,v,y,h,l,u,m,x,function(){return n(this,void 0,void 0,(function*(){t(5,u=!0);const e=yield j("/setup",{params:{siteTitle:r,userName:v,password:y},method:"POST"});e.success?(M(c,a.siteTitle=r,a),M(d,i=e.data.key,i),p("/")):t(6,m="Something went wrong. :("),t(5,u=!1)}))},a,function(e){N[e?"unshift":"push"]((()=>{l=e,t(4,l)}))},function(){r=this.value,t(0,r)},function(){v=this.value,t(1,v)},function(){y=this.value,t(2,y)},function(){h=this.value,t(3,h)}]}export default class extends e{constructor(e){super(),s(this,e,_,V,t,{})}}
