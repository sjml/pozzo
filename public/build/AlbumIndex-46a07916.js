import{S as t,i as e,s as n,c as a,m as o,t as s,a as r,d as $,e as c,b as u,g as i,f as p,h as f,j as l,k as m,l as d,o as g,n as h,p as w,R as x,q as v,r as y,u as b,L as I,v as P}from"./main-582bc884.js";function S(t){let e,n;return e=new v({props:{$$slots:{default:[_]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment)},m(t,a){o(e,t,a),n=!0},p(t,n){const a={};129&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(s(e.$$.fragment,t),n=!0)},o(t){r(e.$$.fragment,t),n=!1},d(t){$(e,t)}}}function D(t){let e,n;return e=new I({props:{loader:"AlbumPage"}}),e.$on("uploaded",t[4]),{c(){a(e.$$.fragment)},m(t,a){o(e,t,a),n=!0},p:P,i(t){n||(s(e.$$.fragment,t),n=!0)},o(t){r(e.$$.fragment,t),n=!1},d(t){$(e,t)}}}function j(t){let e,n;return e=new I({props:{loader:"PhotoPage",photoIdentifier:t[6].photoID}}),{c(){a(e.$$.fragment)},m(t,a){o(e,t,a),n=!0},p(t,n){const a={};64&n&&(a.photoIdentifier=t[6].photoID),e.$set(a)},i(t){n||(s(e.$$.fragment,t),n=!0)},o(t){r(e.$$.fragment,t),n=!1},d(t){$(e,t)}}}function _(t){let e,n,c,i;return e=new y({props:{$$slots:{default:[D]},$$scope:{ctx:t}}}),c=new y({props:{path:"/:photoID",$$slots:{default:[j,({params:t})=>({6:t}),({params:t})=>t?64:0]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment),n=b(),a(c.$$.fragment)},m(t,a){o(e,t,a),u(t,n,a),o(c,t,a),i=!0},p(t,n){const a={};129&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a);const o={};192&n&&(o.$$scope={dirty:n,ctx:t}),c.$set(o)},i(t){i||(s(e.$$.fragment,t),s(c.$$.fragment,t),i=!0)},o(t){r(e.$$.fragment,t),r(c.$$.fragment,t),i=!1},d(t){$(e,t),t&&f(n),$(c,t)}}}function k(t){let e,n,a=t[1]&&S(t);return{c(){a&&a.c(),e=c()},m(t,o){a&&a.m(t,o),u(t,e,o),n=!0},p(t,[n]){t[1]?a?(a.p(t,n),2&n&&s(a,1)):(a=S(t),a.c(),s(a,1),a.m(e.parentNode,e)):a&&(i(),r(a,1,1,(()=>{a=null})),p())},i(t){n||(s(a),n=!0)},o(t){r(a),n=!1},d(t){a&&a.d(t),t&&f(e)}}}function q(t,e,n){let a,o;l(t,m,(t=>n(1,a=t))),l(t,d,(t=>n(3,o=t)));var s=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(o,s){function r(t){try{c(a.next(t))}catch(t){s(t)}}function $(t){try{c(a.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,$)}c((a=a.apply(t,e||[])).next())}))};let{albumSlug:r}=e;function $(t){return s(this,void 0,void 0,(function*(){const e=yield x(`/album/view/${t}`,{authorize:!0});e.success?h(m,a=e.data,a):404==e.code?w("/"):console.error(e)}))}g((()=>{h(m,a=null,a)}));return t.$$set=t=>{"albumSlug"in t&&n(0,r=t.albumSlug)},t.$$.update=()=>{10&t.$$.dirty&&a&&a.isPrivate&&!o&&w("/"),1&t.$$.dirty&&$(r)},[r,a,$,o,()=>$(r)]}export default class extends t{constructor(t){super(),e(this,t,q,k,n,{albumSlug:0})}}
