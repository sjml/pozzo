import{S as t,i as n,s as e,c as o,m as a,t as c,a as r,d as s,e as l,b as u,g as $,f as i,h as f,j as m,k as p,l as d,o as g,n as h,R as b,p as k,q as v,r as w,u as x,v as y,w as I}from"./main-25e07129.js";function N(t){t[6]=t[7].default}function P(t){t[6]=t[7].default}function S(t){let n,e;return n=new v({props:{path:"/*",firstmatch:!0,$$slots:{default:[R]},$$scope:{ctx:t}}}),{c(){o(n.$$.fragment)},m(t,o){a(n,t,o),e=!0},p(t,e){const o={};513&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){e||(c(n.$$.fragment,t),e=!0)},o(t){r(n.$$.fragment,t),e=!1},d(t){s(n,t)}}}function j(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function D(t){let n,e,m;P(t);var p=t[6];function d(t){return{props:{photoIdentifier:t[8].params.photoID}}}return p&&(n=new p(d(t))),{c(){n&&o(n.$$.fragment),e=l()},m(t,o){n&&a(n,t,o),u(t,e,o),m=!0},p(t,l){P(t);const u={};if(256&l&&(u.photoIdentifier=t[8].params.photoID),p!==(p=t[6])){if(n){$();const t=n;r(t.$$.fragment,1,0,(()=>{s(t,1)})),i()}p?(n=new p(d(t)),o(n.$$.fragment),c(n.$$.fragment,1),a(n,e.parentNode,e)):n=null}else p&&n.$set(u)},i(t){m||(n&&c(n.$$.fragment,t),m=!0)},o(t){n&&r(n.$$.fragment,t),m=!1},d(t){t&&f(e),n&&s(n,t)}}}function C(t){let n;return{c(){n=I("Loading…")},m(t,e){u(t,n,e)},p:y,i:y,o:y,d(t){t&&f(n)}}}function L(t){let n,e,o={ctx:t,current:null,token:null,hasCatch:!1,pending:C,then:D,catch:j,value:7,blocks:[,,,]};return x(import("./PhotoPage-7ae153d3.js"),o),{c(){n=l(),o.block.c()},m(t,a){u(t,n,a),o.block.m(t,o.anchor=a),o.mount=()=>n.parentNode,o.anchor=n,e=!0},p(n,e){{const a=(t=n).slice();a[7]=o.resolved,o.block.p(a,e)}},i(t){e||(c(o.block),e=!0)},o(t){for(let t=0;t<3;t+=1){const n=o.blocks[t];r(n)}e=!1},d(t){t&&f(n),o.block.d(t),o.token=null,o=null}}}function _(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function q(t){let n,e,m;N(t);var p=t[6];return p&&(n=new p({}),n.$on("uploaded",t[4])),{c(){n&&o(n.$$.fragment),e=l()},m(t,o){n&&a(n,t,o),u(t,e,o),m=!0},p(t,l){if(N(t),p!==(p=t[6])){if(n){$();const t=n;r(t.$$.fragment,1,0,(()=>{s(t,1)})),i()}p?(n=new p({}),n.$on("uploaded",t[4]),o(n.$$.fragment),c(n.$$.fragment,1),a(n,e.parentNode,e)):n=null}},i(t){m||(n&&c(n.$$.fragment,t),m=!0)},o(t){n&&r(n.$$.fragment,t),m=!1},d(t){t&&f(e),n&&s(n,t)}}}function z(t){let n;return{c(){n=I("Loading…")},m(t,e){u(t,n,e)},p:y,i:y,o:y,d(t){t&&f(n)}}}function A(t){let n,e,o={ctx:t,current:null,token:null,hasCatch:!1,pending:z,then:q,catch:_,value:7,blocks:[,,,]};return x(import("./AlbumPage-76a4cfef.js"),o),{c(){n=l(),o.block.c()},m(t,a){u(t,n,a),o.block.m(t,o.anchor=a),o.mount=()=>n.parentNode,o.anchor=n,e=!0},p(n,e){{const a=(t=n).slice();a[7]=o.resolved,o.block.p(a,e)}},i(t){e||(c(o.block),e=!0)},o(t){for(let t=0;t<3;t+=1){const n=o.blocks[t];r(n)}e=!1},d(t){t&&f(n),o.block.d(t),o.token=null,o=null}}}function R(t){let n,e,l,$;return n=new v({props:{path:"/:photoID",$$slots:{default:[L,({meta:t})=>({8:t}),({meta:t})=>t?256:0]},$$scope:{ctx:t}}}),l=new v({props:{path:"/",$$slots:{default:[A]},$$scope:{ctx:t}}}),{c(){o(n.$$.fragment),e=w(),o(l.$$.fragment)},m(t,o){a(n,t,o),u(t,e,o),a(l,t,o),$=!0},p(t,e){const o={};768&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o);const a={};513&e&&(a.$$scope={dirty:e,ctx:t}),l.$set(a)},i(t){$||(c(n.$$.fragment,t),c(l.$$.fragment,t),$=!0)},o(t){r(n.$$.fragment,t),r(l.$$.fragment,t),$=!1},d(t){s(n,t),t&&f(e),s(l,t)}}}function B(t){let n,e,o=t[1]&&S(t);return{c(){o&&o.c(),n=l()},m(t,a){o&&o.m(t,a),u(t,n,a),e=!0},p(t,[e]){t[1]?o?(o.p(t,e),2&e&&c(o,1)):(o=S(t),o.c(),c(o,1),o.m(n.parentNode,n)):o&&($(),r(o,1,1,(()=>{o=null})),i())},i(t){e||(c(o),e=!0)},o(t){r(o),e=!1},d(t){o&&o.d(t),t&&f(n)}}}function E(t,n,e){let o,a;m(t,p,(t=>e(1,o=t))),m(t,d,(t=>e(3,a=t)));var c=this&&this.__awaiter||function(t,n,e,o){return new(e||(e=Promise))((function(a,c){function r(t){try{l(o.next(t))}catch(t){c(t)}}function s(t){try{l(o.throw(t))}catch(t){c(t)}}function l(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(r,s)}l((o=o.apply(t,n||[])).next())}))};let{albumSlug:r}=n;function s(t){return c(this,void 0,void 0,(function*(){const n=yield b(`/album/view/${t}`,{authorize:!0});n.success?k(p,o=n.data,o):404==n.code?h.goto("/"):console.error(n)}))}g((()=>{k(p,o=null,o)}));return t.$$set=t=>{"albumSlug"in t&&e(0,r=t.albumSlug)},t.$$.update=()=>{10&t.$$.dirty&&o&&o.isPrivate&&!a&&h.goto("/"),1&t.$$.dirty&&s(r)},[r,o,s,a,()=>s(r)]}export default class extends t{constructor(t){super(),n(this,t,E,B,e,{albumSlug:0})}}
