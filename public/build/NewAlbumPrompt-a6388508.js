import{S as t,i as s,s as e,a3 as n,c as a,m as i,t as l,a as c,d as u,C as o,y as r,a4 as d,z as m,J as f,u as h,A as v,b as p,F as b,O as w,N as $,a2 as k,K as y,h as g,$ as x,R as A,a5 as P}from"./main-582bc884.js";function D(t){let s,e,n,a,i,l,c,u,o,r,d,A,P,D,O,z,C,I,N,S;return{c(){s=m("div"),e=m("form"),n=m("label"),a=f("Album Name:\n                "),i=m("input"),l=h(),c=m("div"),u=m("label"),o=m("input"),r=f("\n                    Private"),d=h(),A=m("button"),P=f("Create Album"),O=h(),z=m("div"),C=f(t[3]),I=f("Â "),v(i,"type","text"),i.disabled=t[2],v(i,"class","svelte-1kl6n6w"),v(n,"class","svelte-1kl6n6w"),v(o,"type","checkbox"),v(u,"class","svelte-1kl6n6w"),v(c,"class","visibilityToggle"),v(A,"type","submit"),A.disabled=D=t[2]||t[1].length<=0,v(A,"class","svelte-1kl6n6w"),v(z,"class","new-album-message svelte-1kl6n6w"),v(s,"class","newAlbumPrompt svelte-1kl6n6w")},m(m,f){p(m,s,f),b(s,e),b(e,n),b(n,a),b(n,i),t[7](i),w(i,t[1]),b(e,l),b(e,c),b(c,u),b(u,o),o.checked=t[4],b(u,r),b(e,d),b(e,A),b(A,P),b(s,O),b(s,z),b(z,C),b(z,I),N||(S=[$(i,"input",t[8]),$(o,"change",t[9]),$(e,"submit",k(t[6]))],N=!0)},p(t,s){4&s&&(i.disabled=t[2]),2&s&&i.value!==t[1]&&w(i,t[1]),16&s&&(o.checked=t[4]),6&s&&D!==(D=t[2]||t[1].length<=0)&&(A.disabled=D),8&s&&y(C,t[3])},d(e){e&&g(s),t[7](null),N=!1,x(S)}}}function O(t){let s,e;return s=new n({props:{$$slots:{default:[D]},$$scope:{ctx:t}}}),s.$on("clickedOutside",t[10]),{c(){a(s.$$.fragment)},m(t,n){i(s,t,n),e=!0},p(t,[e]){const n={};8223&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n)},i(t){e||(l(s.$$.fragment,t),e=!0)},o(t){c(s.$$.fragment,t),e=!1},d(t){u(s,t)}}}function z(t,s,e){var n=this&&this.__awaiter||function(t,s,e,n){return new(e||(e=Promise))((function(a,i){function l(t){try{u(n.next(t))}catch(t){i(t)}}function c(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var s;t.done?a(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(l,c)}u((n=n.apply(t,s||[])).next())}))};const a=o();let i=null,l="",c=!1,u="",m=!1;r((function(){return n(this,void 0,void 0,(function*(){e(1,l=""),e(3,u=""),yield d(),i.focus()}))}));return[i,l,c,u,m,a,function(){return n(this,void 0,void 0,(function*(){e(2,c=!0);const t=yield A("/album/new",{params:{title:l,isPrivate:m},method:"POST",authorize:!0});t.success?a("done",{newAlbumID:t.data.albumID}):e(3,u="Duplicate name!"),e(2,c=!1)}))},function(t){P[t?"unshift":"push"]((()=>{i=t,e(0,i)}))},function(){l=this.value,e(1,l)},function(){m=this.checked,e(4,m)},()=>a("dismissed")]}export default class extends t{constructor(t){super(),s(this,t,z,O,e,{})}}
