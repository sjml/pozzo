import{S as e,i as s,s as t,a3 as a,c as i,m as n,t as l,a as u,d as r,j as c,af as o,ag as d,y as p,p as f,z as v,J as y,u as h,A as $,b,F as m,O as x,N as g,a2 as w,K as P,h as S,$ as T,R as N,n as j,a5 as O}from"./main-582bc884.js";function _(e){let s,t,a,i,n,l,u,r,c,o,d,p,f,N,j,O,_,k,z,A,C,F,J,K,M,R,U;return{c(){s=v("div"),t=v("form"),a=v("label"),i=y("Site Name:\n                "),n=v("input"),l=h(),u=v("label"),r=y("User:\n                "),c=v("input"),o=h(),d=v("label"),p=y("Password:\n                "),f=v("input"),N=h(),j=v("label"),O=y("Verify Password:\n                "),_=v("input"),k=h(),z=v("button"),A=y("Configure Site"),F=h(),J=v("div"),K=y(e[6]),M=y("Â "),$(n,"type","text"),n.disabled=e[5],$(n,"class","svelte-1xreyiu"),$(a,"class","svelte-1xreyiu"),$(c,"type","text"),c.disabled=e[5],$(c,"class","svelte-1xreyiu"),$(u,"class","svelte-1xreyiu"),$(f,"type","password"),f.disabled=e[5],$(f,"class","svelte-1xreyiu"),$(d,"class","svelte-1xreyiu"),$(_,"type","password"),_.disabled=e[5],$(_,"class","svelte-1xreyiu"),$(j,"class","svelte-1xreyiu"),$(z,"type","submit"),z.disabled=C=e[5]||!e[7],$(z,"class","svelte-1xreyiu"),$(J,"class","configMessage svelte-1xreyiu"),$(s,"class","configPrompt svelte-1xreyiu")},m(v,y){b(v,s,y),m(s,t),m(t,a),m(a,i),m(a,n),e[10](n),x(n,e[0]),m(t,l),m(t,u),m(u,r),m(u,c),x(c,e[1]),m(t,o),m(t,d),m(d,p),m(d,f),x(f,e[2]),m(t,N),m(t,j),m(j,O),m(j,_),x(_,e[3]),m(t,k),m(t,z),m(z,A),m(s,F),m(s,J),m(J,K),m(J,M),R||(U=[g(n,"input",e[11]),g(c,"input",e[12]),g(f,"input",e[13]),g(_,"input",e[14]),g(t,"submit",w(e[8]))],R=!0)},p(e,s){32&s&&(n.disabled=e[5]),1&s&&n.value!==e[0]&&x(n,e[0]),32&s&&(c.disabled=e[5]),2&s&&c.value!==e[1]&&x(c,e[1]),32&s&&(f.disabled=e[5]),4&s&&f.value!==e[2]&&x(f,e[2]),32&s&&(_.disabled=e[5]),8&s&&_.value!==e[3]&&x(_,e[3]),160&s&&C!==(C=e[5]||!e[7])&&(z.disabled=C),64&s&&P(K,e[6])},d(t){t&&S(s),e[10](null),R=!1,T(U)}}}function k(e){let s,t;return s=new a({props:{$$slots:{default:[_]},$$scope:{ctx:e}}}),{c(){i(s.$$.fragment)},m(e,a){n(s,e,a),t=!0},p(e,[t]){const a={};131327&t&&(a.$$scope={dirty:t,ctx:e}),s.$set(a)},i(e){t||(l(s.$$.fragment,e),t=!0)},o(e){u(s.$$.fragment,e),t=!1},d(e){r(s,e)}}}function z(e,s,t){let a,i;c(e,o,(e=>t(9,a=e))),c(e,d,(e=>t(15,i=e)));var n=this&&this.__awaiter||function(e,s,t,a){return new(t||(t=Promise))((function(i,n){function l(e){try{r(a.next(e))}catch(e){n(e)}}function u(e){try{r(a.throw(e))}catch(e){n(e)}}function r(e){var s;e.done?i(e.value):(s=e.value,s instanceof t?s:new t((function(e){e(s)}))).then(l,u)}r((a=a.apply(e,s||[])).next())}))};let l;p((()=>{l.focus()}));let u=!1,r="",v="",y="",h="",$="";let b=!1;return e.$$.update=()=>{512&e.$$.dirty&&!1!==a.siteTitle&&f("/"),15&e.$$.dirty&&(r.length>0&&v.length>0&&y.length>0&&y==h?t(7,b=!0):t(7,b=!1))},[r,v,y,h,l,u,$,b,function(){return n(this,void 0,void 0,(function*(){t(5,u=!0);const e=yield N("/setup",{params:{siteTitle:r,userName:v,password:y},method:"POST"});e.success?(j(o,a.siteTitle=r,a),j(d,i=e.data.key,i),f("/")):t(6,$="Something went wrong. :("),t(5,u=!1)}))},a,function(e){O[e?"unshift":"push"]((()=>{l=e,t(4,l)}))},function(){r=this.value,t(0,r)},function(){v=this.value,t(1,v)},function(){y=this.value,t(2,y)},function(){h=this.value,t(3,h)}]}export default class extends e{constructor(e){super(),s(this,e,z,k,t,{})}}
