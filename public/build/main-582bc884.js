function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(o)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function c(t){let e;return a(t,(t=>e=t))(),e}function u(t,e,n){t.$$.on_destroy.push(a(e,n))}function d(t,e,n,o){if(t){const r=f(t,e,n,o);return t[0](r)}}function f(t,e,o,r){return t[1]&&r?n(o.ctx.slice(),t[1](r(e))):o.ctx}function h(t,e,n,o,r,i,s){const l=function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(e,o,r,i);if(l){const r=f(e,n,o,s);t.p(r,l)}}function p(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function g(t,e){const n={};e=new Set(e);for(const o in t)e.has(o)||"$"===o[0]||(n[o]=t[o]);return n}function $(t,e,n=e){return t.set(n),e}function m(e){return e&&s(e.destroy)?e.destroy:t}const w="undefined"!=typeof window;let v=w?()=>window.performance.now():()=>Date.now(),y=w?t=>requestAnimationFrame(t):t;const x=new Set;function b(t){x.forEach((e=>{e.c(t)||(x.delete(e),e.f())})),0!==x.size&&y(b)}function k(t){let e;return 0===x.size&&y(b),{promise:new Promise((n=>{x.add(e={c:t,f:n})})),abort(){x.delete(e)}}}function j(t,e){t.appendChild(e)}function _(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode.removeChild(t)}function M(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function R(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function S(){return T(" ")}function O(){return T("")}function B(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function E(t){return function(e){return e.preventDefault(),t.call(this,e)}}function L(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function A(t){return function(e){e.target===this&&t.call(this,e)}}function I(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function N(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)null==e[o]?t.removeAttribute(o):"style"===o?t.style.cssText=e[o]:"__value"===o?t.value=t[o]=e[o]:n[o]&&n[o].set?t[o]=e[o]:I(t,o,e[o])}function z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function H(t,e){t.value=null==e?"":e}let D;function F(){if(void 0===D){D=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){D=!0}}return D}function V(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=C("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=F();let r;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=B(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{r=B(n.contentWindow,"resize",e)}),j(t,n),()=>{(o||r&&n.contentWindow)&&r(),P(n)}}function U(t,e,n){t.classList[n?"add":"remove"](e)}function G(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class W{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=C(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)_(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(P)}}const Z=new Set;let q,J=0;function K(t,e,n,o,r,i,s,l=0){const a=16.666/o;let c="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*i(t);c+=100*t+`%{${s(o,1-o)}}\n`}const u=c+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,f=t.ownerDocument;Z.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(C("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${o}ms linear ${r}ms 1 both`,J+=1,d}function Y(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),J-=r,J||y((()=>{J||(Z.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),Z.clear())})))}function X(n,o,r,i){if(!o)return t;const s=n.getBoundingClientRect();if(o.left===s.left&&o.right===s.right&&o.top===s.top&&o.bottom===s.bottom)return t;const{delay:l=0,duration:a=300,easing:c=e,start:u=v()+l,end:d=u+a,tick:f=t,css:h}=r(n,{from:o,to:s},i);let p,g=!0,$=!1;function m(){h&&Y(n,p),g=!1}return k((t=>{if(!$&&t>=u&&($=!0),$&&t>=d&&(f(1,0),m()),!g)return!1;if($){const e=0+1*c((t-u)/a);f(e,1-e)}return!0})),h&&(p=K(n,0,1,a,l,c,h)),l||($=!0),f(0,1),m}function Q(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),r="none"===o.transform?"":o.transform;t.style.transform=`${r} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,r)}}function tt(t){q=t}function et(){if(!q)throw new Error("Function called outside component initialization");return q}function nt(t){et().$$.on_mount.push(t)}function ot(t){et().$$.on_destroy.push(t)}function rt(){const t=et();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=G(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}function it(t,e){et().$$.context.set(t,e)}function st(t){return et().$$.context.get(t)}function lt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const at=[],ct=[],ut=[],dt=[],ft=Promise.resolve();let ht=!1;function pt(){ht||(ht=!0,ft.then(vt))}function gt(){return pt(),ft}function $t(t){ut.push(t)}let mt=!1;const wt=new Set;function vt(){if(!mt){mt=!0;do{for(let t=0;t<at.length;t+=1){const e=at[t];tt(e),yt(e.$$)}for(tt(null),at.length=0;ct.length;)ct.pop()();for(let t=0;t<ut.length;t+=1){const e=ut[t];wt.has(e)||(wt.add(e),e())}ut.length=0}while(at.length);for(;dt.length;)dt.pop()();ht=!1,mt=!1,wt.clear()}}function yt(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($t)}}let xt;function bt(){return xt||(xt=Promise.resolve(),xt.then((()=>{xt=null}))),xt}function kt(t,e,n){t.dispatchEvent(G(`${e?"intro":"outro"}${n}`))}const jt=new Set;let _t;function Pt(){_t={r:0,c:[],p:_t}}function Mt(){_t.r||i(_t.c),_t=_t.p}function Ct(t,e){t&&t.i&&(jt.delete(t),t.i(e))}function Rt(t,e,n,o){if(t&&t.o){if(jt.has(t))return;jt.add(t),_t.c.push((()=>{jt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const Tt={duration:0};function St(n,o,r){let i,l,a=o(n,r),c=!1,u=0;function d(){i&&Y(n,i)}function f(){const{delay:o=0,duration:r=300,easing:s=e,tick:f=t,css:h}=a||Tt;h&&(i=K(n,0,1,r,o,s,h,u++)),f(0,1);const p=v()+o,g=p+r;l&&l.abort(),c=!0,$t((()=>kt(n,!0,"start"))),l=k((t=>{if(c){if(t>=g)return f(1,0),kt(n,!0,"end"),d(),c=!1;if(t>=p){const e=s((t-p)/r);f(e,1-e)}}return c}))}let h=!1;return{start(){h||(Y(n),s(a)?(a=a(),bt().then(f)):f())},invalidate(){h=!1},end(){c&&(d(),c=!1)}}}function Ot(n,o,r){let l,a=o(n,r),c=!0;const u=_t;function d(){const{delay:o=0,duration:r=300,easing:s=e,tick:d=t,css:f}=a||Tt;f&&(l=K(n,1,0,r,o,s,f));const h=v()+o,p=h+r;$t((()=>kt(n,!1,"start"))),k((t=>{if(c){if(t>=p)return d(0,1),kt(n,!1,"end"),--u.r||i(u.c),!1;if(t>=h){const e=s((t-h)/r);d(1-e,e)}}return c}))}return u.r+=1,s(a)?bt().then((()=>{a=a(),d()})):d(),{end(t){t&&a.tick&&a.tick(1,0),c&&(l&&Y(n,l),c=!1)}}}function Bt(n,o,r,l){let a=o(n,r),c=l?0:1,u=null,d=null,f=null;function h(){f&&Y(n,f)}function p(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function g(o){const{delay:r=0,duration:s=300,easing:l=e,tick:g=t,css:$}=a||Tt,m={start:v()+r,b:o};o||(m.group=_t,_t.r+=1),u||d?d=m:($&&(h(),f=K(n,c,o,s,r,l,$)),o&&g(0,1),u=p(m,s),$t((()=>kt(n,o,"start"))),k((t=>{if(d&&t>d.start&&(u=p(d,s),d=null,kt(n,u.b,"start"),$&&(h(),f=K(n,c,u.b,u.duration,0,l,a.css))),u)if(t>=u.end)g(c=u.b,1-c),kt(n,u.b,"end"),d||(u.b?h():--u.group.r||i(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;c=u.a+u.d*l(e/u.duration),g(c,1-c)}return!(!u&&!d)})))}return{run(t){s(a)?bt().then((()=>{a=a(),g(t)})):g(t)},end(){h(),u=d=null}}}const Et="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Lt(t,e){t.f(),function(t,e){t.d(1),e.delete(t.key)}(t,e)}function At(t,e,n,o,r,i,s,l,a,c,u,d){let f=t.length,h=i.length,p=f;const g={};for(;p--;)g[t[p].key]=p;const $=[],m=new Map,w=new Map;for(p=h;p--;){const t=d(r,i,p),l=n(t);let a=s.get(l);a?o&&a.p(t,e):(a=c(l,t),a.c()),m.set(l,$[p]=a),l in g&&w.set(l,Math.abs(p-g[l]))}const v=new Set,y=new Set;function x(t){Ct(t,1),t.m(l,u),s.set(t.key,t),u=t.first,h--}for(;f&&h;){const e=$[h-1],n=t[f-1],o=e.key,r=n.key;e===n?(u=e.first,f--,h--):m.has(r)?!s.has(o)||v.has(o)?x(e):y.has(r)?f--:w.get(o)>w.get(r)?(y.add(o),x(e)):(v.add(r),f--):(a(n,s),f--)}for(;f--;){const e=t[f];m.has(e.key)||a(e,s)}for(;h;)x($[h-1]);return $}function It(t,e){const n={},o={},r={$$scope:1};let i=t.length;for(;i--;){const s=t[i],l=e[i];if(l){for(const t in s)t in l||(o[t]=1);for(const t in l)r[t]||(n[t]=l[t],r[t]=1);t[i]=l}else for(const t in s)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function Nt(t){return"object"==typeof t&&null!==t?t:{}}function zt(t){t&&t.c()}function Ht(t,e,n){const{fragment:r,on_mount:l,on_destroy:a,after_update:c}=t.$$;r&&r.m(e,n),$t((()=>{const e=l.map(o).filter(s);a?a.push(...e):i(e),t.$$.on_mount=[]})),c.forEach($t)}function Dt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ft(e,n,o,s,l,a,c=[-1]){const u=q;tt(e);const d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:c,skip_bound:!1};let f=!1;if(d.ctx=o?o(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),f&&function(t,e){-1===t.$$.dirty[0]&&(at.push(t),pt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),f=!0,i(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(P)}else d.fragment&&d.fragment.c();n.intro&&Ct(e.$$.fragment),Ht(e,n.target,n.anchor),vt()}tt(u)}class Vt{$destroy(){Dt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ut=[];function Gt(e,n=t){let o;const r=[];function i(t){if(l(e,t)&&(e=t,o)){const t=!Ut.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),Ut.push(n,e)}if(t){for(let t=0;t<Ut.length;t+=2)Ut[t][0](Ut[t+1]);Ut.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,l=t){const a=[s,l];return r.push(a),1===r.length&&(o=n(i)||t),s(e),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}function Wt(e,n,o){const r=!Array.isArray(e),l=r?[e]:e,c=n.length<2;return{subscribe:Gt(o,(e=>{let o=!1;const u=[];let d=0,f=t;const h=()=>{if(d)return;f();const o=n(r?u[0]:u,e);c?e(o):f=s(o)?o:t},p=l.map(((t,e)=>a(t,(t=>{u[e]=t,d&=~(1<<e),o&&h()}),(()=>{d|=1<<e}))));return o=!0,h(),function(){i(p),f()}})).subscribe}}const Zt={},qt={};function Jt(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}const Kt=function(t,e){const n=[];let o=Jt(t);return{get location(){return o},listen(e){n.push(e);const r=()=>{o=Jt(t),e({location:o,action:"POP"})};return t.addEventListener("popstate",r),()=>{t.removeEventListener("popstate",r);const o=n.indexOf(e);n.splice(o,1)}},navigate(e,{state:r,replace:i=!1}={}){r={...r,key:Date.now()+""};try{i?t.history.replaceState(r,null,e):t.history.pushState(r,null,e)}catch(n){t.location[i?"replace":"assign"](e)}o=Jt(t),n.forEach((t=>t({location:o,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(t="/"){let e=0;const n=[{pathname:t,search:""}],o=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return o[e]},pushState(t,r,i){const[s,l=""]=i.split("?");e++,n.push({pathname:s,search:l}),o.push(t)},replaceState(t,r,i){const[s,l=""]=i.split("?");n[e]={pathname:s,search:l},o[e]=t}}}}()),{navigate:Yt}=Kt,Xt=/^:(.+)/;function Qt(t,e){return t.substr(0,e.length)===e}function te(t){return"*"===t[0]}function ee(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function ne(t){return t.replace(/(^\/+|\/+$)/g,"")}function oe(t,e){return{route:t,score:t.default?0:ee(t.path).reduce(((t,e)=>(t+=4,!function(t){return""===t}(e)?!function(t){return Xt.test(t)}(e)?te(e)?t-=5:t+=3:t+=2:t+=1,t)),0),index:e}}function re(t,e){let n,o;const[r]=e.split("?"),i=ee(r),s=""===i[0],l=function(t){return t.map(oe).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let t=0,r=l.length;t<r;t++){const r=l[t].route;let a=!1;if(r.default){o={route:r,params:{},uri:e};continue}const c=ee(r.path),u={},d=Math.max(i.length,c.length);let f=0;for(;f<d;f++){const t=c[f],e=i[f];if(void 0!==t&&te(t)){u["*"===t?"*":t.slice(1)]=i.slice(f).map(decodeURIComponent).join("/");break}if(void 0===e){a=!0;break}let n=Xt.exec(t);if(n&&!s){const t=decodeURIComponent(e);u[n[1]]=t}else if(t!==e){a=!0;break}}if(!a){n={route:r,params:u,uri:"/"+i.slice(0,f).join("/")};break}}return n||o||null}function ie(t,e){return t+(e?`?${e}`:"")}function se(t,e){return`${ne("/"===e?t:`${ne(t)}/${ne(e)}`)}/`}function le(t){let e;const n=t[9].default,o=d(n,t,t[8],null);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,[e]){o&&o.p&&256&e&&h(o,n,t,t[8],e,null,null)},i(t){e||(Ct(o,t),e=!0)},o(t){Rt(o,t),e=!1},d(t){o&&o.d(t)}}}function ae(t,e,n){let o,r,i,{$$slots:s={},$$scope:l}=e,{basepath:a="/"}=e,{url:c=null}=e;const d=st(Zt),f=st(qt),h=Gt([]);u(t,h,(t=>n(7,i=t)));const p=Gt(null);let g=!1;const $=d||Gt(c?{pathname:c}:Kt.location);u(t,$,(t=>n(6,r=t)));const m=f?f.routerBase:Gt({path:a,uri:a});u(t,m,(t=>n(5,o=t)));const w=Wt([m,p],(([t,e])=>{if(null===e)return t;const{path:n}=t,{route:o,uri:r}=e;return{path:o.default?n:o.path.replace(/\*.*$/,""),uri:r}}));return d||(nt((()=>Kt.listen((t=>{$.set(t.location)})))),it(Zt,$)),it(qt,{activeRoute:p,base:m,routerBase:w,registerRoute:function(t){const{path:e}=o;let{path:n}=t;if(t._path=n,t.path=se(e,n),"undefined"==typeof window){if(g)return;const e=function(t,e){return re([t],e)}(t,r.pathname);e&&(p.set(e),g=!0)}else h.update((e=>(e.push(t),e)))},unregisterRoute:function(t){h.update((e=>{const n=e.indexOf(t);return e.splice(n,1),e}))}}),t.$$set=t=>{"basepath"in t&&n(3,a=t.basepath),"url"in t&&n(4,c=t.url),"$$scope"in t&&n(8,l=t.$$scope)},t.$$.update=()=>{if(32&t.$$.dirty){const{path:t}=o;h.update((e=>(e.forEach((e=>e.path=se(t,e._path))),e)))}if(192&t.$$.dirty){const t=re(i,r.pathname);p.set(t)}},[h,$,m,a,c,o,r,i,l,s]}class ce extends Vt{constructor(t){super(),Ft(this,t,ae,le,l,{basepath:3,url:4})}}const ue=t=>({params:4&t,location:16&t}),de=t=>({params:t[2],location:t[4]});function fe(t){let e,n,o,r;const i=[pe,he],s=[];function l(t,e){return null!==t[0]?0:1}return e=l(t),n=s[e]=i[e](t),{c(){n.c(),o=O()},m(t,n){s[e].m(t,n),_(t,o,n),r=!0},p(t,r){let a=e;e=l(t),e===a?s[e].p(t,r):(Pt(),Rt(s[a],1,1,(()=>{s[a]=null})),Mt(),n=s[e],n?n.p(t,r):(n=s[e]=i[e](t),n.c()),Ct(n,1),n.m(o.parentNode,o))},i(t){r||(Ct(n),r=!0)},o(t){Rt(n),r=!1},d(t){s[e].d(t),t&&P(o)}}}function he(t){let e;const n=t[10].default,o=d(n,t,t[9],de);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&532&e&&h(o,n,t,t[9],e,ue,de)},i(t){e||(Ct(o,t),e=!0)},o(t){Rt(o,t),e=!1},d(t){o&&o.d(t)}}}function pe(t){let e,o,r;const i=[{location:t[4]},t[2],t[3]];var s=t[0];function l(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}return s&&(e=new s(l())),{c(){e&&zt(e.$$.fragment),o=O()},m(t,n){e&&Ht(e,t,n),_(t,o,n),r=!0},p(t,n){const r=28&n?It(i,[16&n&&{location:t[4]},4&n&&Nt(t[2]),8&n&&Nt(t[3])]):{};if(s!==(s=t[0])){if(e){Pt();const t=e;Rt(t.$$.fragment,1,0,(()=>{Dt(t,1)})),Mt()}s?(e=new s(l()),zt(e.$$.fragment),Ct(e.$$.fragment,1),Ht(e,o.parentNode,o)):e=null}else s&&e.$set(r)},i(t){r||(e&&Ct(e.$$.fragment,t),r=!0)},o(t){e&&Rt(e.$$.fragment,t),r=!1},d(t){t&&P(o),e&&Dt(e,t)}}}function ge(t){let e,n,o=null!==t[1]&&t[1].route===t[7]&&fe(t);return{c(){o&&o.c(),e=O()},m(t,r){o&&o.m(t,r),_(t,e,r),n=!0},p(t,[n]){null!==t[1]&&t[1].route===t[7]?o?(o.p(t,n),2&n&&Ct(o,1)):(o=fe(t),o.c(),Ct(o,1),o.m(e.parentNode,e)):o&&(Pt(),Rt(o,1,1,(()=>{o=null})),Mt())},i(t){n||(Ct(o),n=!0)},o(t){Rt(o),n=!1},d(t){o&&o.d(t),t&&P(e)}}}function $e(t,e,o){let r,i,{$$slots:s={},$$scope:l}=e,{path:a=""}=e,{component:c=null}=e;const{registerRoute:d,unregisterRoute:f,activeRoute:h}=st(qt);u(t,h,(t=>o(1,r=t)));const g=st(Zt);u(t,g,(t=>o(4,i=t)));const $={path:a,default:""===a};let m={},w={};return d($),"undefined"!=typeof window&&ot((()=>{f($)})),t.$$set=t=>{o(13,e=n(n({},e),p(t))),"path"in t&&o(8,a=t.path),"component"in t&&o(0,c=t.component),"$$scope"in t&&o(9,l=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&r&&r.route===$&&o(2,m=r.params);{const{path:t,component:n,...r}=e;o(3,w=r)}},e=p(e),[c,r,m,w,i,h,g,$,a,l,s]}class me extends Vt{constructor(t){super(),Ft(this,t,$e,ge,l,{path:8,component:0})}}function we(t){let e,o,r,i;const s=t[16].default,l=d(s,t,t[15],null);let a=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],c={};for(let t=0;t<a.length;t+=1)c=n(c,a[t]);return{c(){e=C("a"),l&&l.c(),N(e,c)},m(n,s){_(n,e,s),l&&l.m(e,null),o=!0,r||(i=B(e,"click",t[5]),r=!0)},p(t,[n]){l&&l.p&&32768&n&&h(l,s,t,t[15],n,null,null),N(e,c=It(a,[(!o||1&n)&&{href:t[0]},(!o||4&n)&&{"aria-current":t[2]},2&n&&t[1],64&n&&t[6]]))},i(t){o||(Ct(l,t),o=!0)},o(t){Rt(l,t),o=!1},d(t){t&&P(e),l&&l.d(t),r=!1,i()}}}function ve(t,e,o){let r;const i=["to","replace","state","getProps"];let s,l,a=g(e,i),{$$slots:c={},$$scope:d}=e,{to:f="#"}=e,{replace:h=!1}=e,{state:$={}}=e,{getProps:m=(()=>({}))}=e;const{base:w}=st(qt);u(t,w,(t=>o(13,s=t)));const v=st(Zt);u(t,v,(t=>o(14,l=t)));const y=rt();let x,b,k,j;return t.$$set=t=>{e=n(n({},e),p(t)),o(6,a=g(e,i)),"to"in t&&o(7,f=t.to),"replace"in t&&o(8,h=t.replace),"state"in t&&o(9,$=t.state),"getProps"in t&&o(10,m=t.getProps),"$$scope"in t&&o(15,d=t.$$scope)},t.$$.update=()=>{8320&t.$$.dirty&&o(0,x="/"===f?s.uri:function(t,e){if(Qt(t,"/"))return t;const[n,o]=t.split("?"),[r]=e.split("?"),i=ee(n),s=ee(r);if(""===i[0])return ie(r,o);if(!Qt(i[0],"."))return ie(("/"===r?"":"/")+s.concat(i).join("/"),o);const l=s.concat(i),a=[];return l.forEach((t=>{".."===t?a.pop():"."!==t&&a.push(t)})),ie("/"+a.join("/"),o)}(f,s.uri)),16385&t.$$.dirty&&o(11,b=Qt(l.pathname,x)),16385&t.$$.dirty&&o(12,k=x===l.pathname),4096&t.$$.dirty&&o(2,r=k?"page":void 0),23553&t.$$.dirty&&o(1,j=m({location:l,href:x,isPartiallyCurrent:b,isCurrent:k}))},[x,j,r,w,v,function(t){if(y("click",t),function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)){t.preventDefault();const e=l.pathname===x||h;Yt(x,{state:$,replace:e})}},a,f,h,$,m,b,k,s,l,d,c]}class ye extends Vt{constructor(t){super(),Ft(this,t,ve,we,l,{to:7,replace:8,state:9,getProps:10})}}const xe=Gt({apiUri:`${location.origin}/api`,formats:[],siteTitle:!1,sizes:[],promo:!1,maxUploadBytes:0,simultaneousUploads:1}),be=Gt(!1),ke=Gt(!1),je=Gt(!1),_e=Gt(null),Pe=Gt(null),Me=Gt([]),Ce=Gt(localStorage.getItem("pozzoLoginJWT")||"");Ce.subscribe((t=>{localStorage.setItem("pozzoLoginJWT",t)}));const Re=Wt(Ce,(t=>t.length>0));async function Te(t,e){var n;const o={};e=null!=e?e:{},o.method=null!==(n=e.method)&&void 0!==n?n:"GET",o.cache="no-cache",e.params&&(o.body=JSON.stringify(e.params)),e.authorize&&c(Ce).length>0&&(o.headers={Authorization:`Bearer ${c(Ce)}`});const r=await fetch(`${c(xe).apiUri}${t}`,o);try{if(r.ok){const t=await r.json();return{success:!0,code:r.status,data:t}}{const t=await r.json();return{success:!1,code:r.status,data:t}}}catch(t){return{success:!1,code:400,data:{error:t,res:r}}}}async function Se(t,e=null,n=null){return new Promise(((o,r)=>{0==c(Ce).length&&o({success:!1,code:403,data:{error:"Unauthorized"}});const i=t.file,s=`${c(xe).apiUri}/upload`,l=new XMLHttpRequest,a=new FormData;l.upload.onprogress=t=>{if(t.lengthComputable){const o=t.loaded/t.total;e&&e(o),n&&o>=1&&n(!0)}},l.upload.onload=t=>{n&&n(!0)},l.upload.onerror=t=>{n&&n(!1)},l.upload.onabort=t=>{n&&n(!1)},l.onload=t=>{l.status>=200&&l.status<300?o({success:!0,code:l.status,data:JSON.parse(l.responseText)}):o({success:!1,code:l.status,data:JSON.parse(l.responseText)})},l.onerror=t=>{o({success:!1,code:500,data:{error:l.responseText}})},l.open("POST",s,!0),l.setRequestHeader("Authorization",`Bearer ${c(Ce)}`);const u={order:t.index};null!=t.targetAlbum&&(u.albumID=t.targetAlbum),a.append("data",JSON.stringify(u)),a.append("mediaUp",i),l.send(a)}))}const Oe=t=>({component:1&t}),Be=t=>({component:t[0]}),Ee=t=>({component:1&t}),Le=t=>({component:t[0]}),Ae=t=>({component:1&t}),Ie=t=>({component:t[0]}),Ne=t=>({component:1&t}),ze=t=>({component:t[0]}),He=t=>({error:2&t,component:1&t}),De=t=>({error:t[1],component:t[0]});function Fe(t){let e,n,o,r;const i=[qe,Ze,We],s=[];return e=function(t,e){return t[4]&&t[4].success?0:t[4]&&t[4].default?1:2}(t),n=s[e]=i[e](t),{c(){n.c(),o=O()},m(t,n){s[e].m(t,n),_(t,o,n),r=!0},p(t,e){n.p(t,e)},i(t){r||(Ct(n),r=!0)},o(t){Rt(n),r=!1},d(t){s[e].d(t),t&&P(o)}}}function Ve(t){let e;const n=t[11].loading,o=d(n,t,t[10],Ie);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&1025&e&&h(o,n,t,t[10],e,Ae,Ie)},i(t){e||(Ct(o,t),e=!0)},o(t){Rt(o,t),e=!1},d(t){o&&o.d(t)}}}function Ue(t){let e;const n=t[11].timeout,o=d(n,t,t[10],ze);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&1025&e&&h(o,n,t,t[10],e,Ne,ze)},i(t){e||(Ct(o,t),e=!0)},o(t){Rt(o,t),e=!1},d(t){o&&o.d(t)}}}function Ge(t){let e;const n=t[11].error,o=d(n,t,t[10],De);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&1027&e&&h(o,n,t,t[10],e,He,De)},i(t){e||(Ct(o,t),e=!0)},o(t){Rt(o,t),e=!1},d(t){o&&o.d(t)}}}function We(t){let e,o,r;const i=[t[3]];var s=t[0];function l(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}return s&&(e=new s(l())),{c(){e&&zt(e.$$.fragment),o=O()},m(t,n){e&&Ht(e,t,n),_(t,o,n),r=!0},p(t,n){const r=8&n?It(i,[Nt(t[3])]):{};if(s!==(s=t[0])){if(e){Pt();const t=e;Rt(t.$$.fragment,1,0,(()=>{Dt(t,1)})),Mt()}s?(e=new s(l()),zt(e.$$.fragment),Ct(e.$$.fragment,1),Ht(e,o.parentNode,o)):e=null}else s&&e.$set(r)},i(t){r||(e&&Ct(e.$$.fragment,t),r=!0)},o(t){e&&Rt(e.$$.fragment,t),r=!1},d(t){t&&P(o),e&&Dt(e,t)}}}function Ze(t){let e;const n=t[11].default,o=d(n,t,t[10],Be);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&1025&e&&h(o,n,t,t[10],e,Oe,Be)},i(t){e||(Ct(o,t),e=!0)},o(t){Rt(o,t),e=!1},d(t){o&&o.d(t)}}}function qe(t){let e;const n=t[11].success,o=d(n,t,t[10],Le);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&1025&e&&h(o,n,t,t[10],e,Ee,Le)},i(t){e||(Ct(o,t),e=!0)},o(t){Rt(o,t),e=!1},d(t){o&&o.d(t)}}}function Je(t){let e,n,o,r;const i=[Ge,Ue,Ve,Fe],s=[];function l(t,e){return t[2]===Xe.ERROR?0:t[2]===Xe.TIMEOUT?1:t[2]===Xe.LOADING?2:t[2]===Xe.SUCCESS?3:-1}return~(e=l(t))&&(n=s[e]=i[e](t)),{c(){n&&n.c(),o=O()},m(t,n){~e&&s[e].m(t,n),_(t,o,n),r=!0},p(t,[r]){let a=e;e=l(t),e===a?~e&&s[e].p(t,r):(n&&(Pt(),Rt(s[a],1,1,(()=>{s[a]=null})),Mt()),~e?(n=s[e],n?n.p(t,r):(n=s[e]=i[e](t),n.c()),Ct(n,1),n.m(o.parentNode,o)):n=null)},i(t){r||(Ct(n),r=!0)},o(t){Rt(n),r=!1},d(t){~e&&s[e].d(t),t&&P(o)}}}const Ke=new Map,Ye=new Map,Xe=Object.freeze({INITIALIZED:0,LOADING:1,SUCCESS:2,ERROR:3,TIMEOUT:4});function Qe(t){const e=t.resolve(),n=function(t){for(let[e,n]of Ke)if(n===t)return e;return null}(e);return n||(Ke.set(t.loader,e),t.loader)}let tn=async function(t,e){const n=await t(),o=n.default||n;return e||Ye.set(t,o),o};function en(t,e,o){let r,{$$slots:i={},$$scope:s}=e,{delay:l=200}=e,{timeout:a=null}=e,{loader:c=null}=e,{unloader:u=!1}=e,{component:d=null}=e,{error:f=null}=e,h=null,g=null,$=Xe.INITIALIZED,m=e.$$slots,w=!1;const v=rt(),y=st("svelte-loadable-capture");function x(){clearTimeout(h),clearTimeout(g)}async function b(){if(x(),"function"==typeof c){o(1,f=null),o(0,d=null),l>0?(o(2,$=Xe.INITIALIZED),h=setTimeout((()=>{o(2,$=Xe.LOADING)}),parseFloat(l))):o(2,$=Xe.LOADING),a&&(g=setTimeout((()=>{o(2,$=Xe.TIMEOUT)}),parseFloat(a)));try{o(0,d=await tn(c,u)),o(2,$=Xe.SUCCESS)}catch(t){if(o(2,$=Xe.ERROR),o(1,f=t),null==m||null==m.error)throw t}x()}}return"function"==typeof y&&Ke.has(c)&&y(c),Ye.has(c)?($=Xe.SUCCESS,d=Ye.get(c)):nt((()=>(w=!0,b().then((()=>{w&&v("load")})),()=>{w=!1,"function"==typeof u&&u()}))),t.$$set=t=>{o(18,e=n(n({},e),p(t))),"delay"in t&&o(5,l=t.delay),"timeout"in t&&o(6,a=t.timeout),"loader"in t&&o(7,c=t.loader),"unloader"in t&&o(8,u=t.unloader),"component"in t&&o(0,d=t.component),"error"in t&&o(1,f=t.error),"$$scope"in t&&o(10,s=t.$$scope)},t.$$.update=()=>{{let{delay:t,timeout:n,loader:i,component:s,error:l,...a}=e;o(3,r=a)}},e=p(e),[d,f,$,r,m,l,a,c,u,b,s,i]}class nn extends Vt{constructor(t){super(),Ft(this,t,en,Je,l,{delay:5,timeout:6,loader:7,unloader:8,component:0,error:1,load:9})}get load(){return this.$$.ctx[9]}}function on(t){let e,o,r;const i=[t[1]];var s=t[5];function l(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}return s&&(e=new s(l())),{c(){e&&zt(e.$$.fragment),o=O()},m(t,n){e&&Ht(e,t,n),_(t,o,n),r=!0},p(t,n){const r=2&n?It(i,[Nt(t[1])]):{};if(s!==(s=t[5])){if(e){Pt();const t=e;Rt(t.$$.fragment,1,0,(()=>{Dt(t,1)})),Mt()}s?(e=new s(l()),zt(e.$$.fragment),Ct(e.$$.fragment,1),Ht(e,o.parentNode,o)):e=null}else s&&e.$set(r)},i(t){r||(e&&Ct(e.$$.fragment,t),r=!0)},o(t){e&&Rt(e.$$.fragment,t),r=!1},d(t){t&&P(o),e&&Dt(e,t)}}}function rn(t){let e,n;return e=new nn({props:{loader:t[2][t[0]],$$slots:{default:[on,({component:t})=>({5:t}),({component:t})=>t?32:0]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,[n]){const o={};1&n&&(o.loader=t[2][t[0]]),98&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function sn(t,e,o){var r=this&&this.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n};const i={AlbumIndex:Qe({loader:()=>import("./AlbumIndex-46a07916.js"),resolve:()=>"AlbumIndex"}),AlbumPage:Qe({loader:()=>import("./AlbumPage-54ed434d.js"),resolve:()=>"AlbumPage"}),EditableLayout:Qe({loader:()=>import("./EditableLayout-418cfb9a.js"),resolve:()=>"EditableLayout"}),NewAlbumPrompt:Qe({loader:()=>import("./NewAlbumPrompt-a6388508.js"),resolve:()=>"NewAlbumPrompt"}),PhotoContextMenu:Qe({loader:()=>import("./PhotoContextMenu-9669f165.js"),resolve:()=>"PhotoContextMenu"}),PhotoMap:Qe({loader:()=>import("./PhotoMap-7c1eeb09.js"),resolve:()=>"PhotoMap"}),PhotoPage:Qe({loader:()=>import("./PhotoPage-4fc1ec84.js"),resolve:()=>"PhotoPage"}),SetupPage:Qe({loader:()=>import("./SetupPage-eb0998f3.js"),resolve:()=>"SetupPage"}),UploadZone:Qe({loader:()=>import("./UploadZone-efde2a73.js"),resolve:()=>"UploadZone"})};let s,{loader:l}=e;return t.$$set=t=>{o(4,e=n(n({},e),p(t))),"loader"in t&&o(0,l=t.loader)},t.$$.update=()=>{{let t=r(e,["loader"]);o(1,s=t)}},e=p(e),[l,s,i]}class ln extends Vt{constructor(t){super(),Ft(this,t,sn,rn,l,{loader:0})}}function an(t,{delay:n=0,duration:o=400,easing:r=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*i}}function cn(t){let e,n,o,r,s;const l=t[2].default,a=d(l,t,t[1],null);return{c(){e=C("div"),a&&a.c(),I(e,"class","overlay svelte-fvdid7")},m(n,i){_(n,e,i),a&&a.m(e,null),o=!0,r||(s=[B(e,"mousedown",L(t[3])),B(e,"mouseup",L(t[4])),B(e,"click",A(t[5]))],r=!0)},p(t,[e]){a&&a.p&&2&e&&h(a,l,t,t[1],e,null,null)},i(t){o||(Ct(a,t),$t((()=>{n||(n=Bt(e,an,{duration:200},!0)),n.run(1)})),o=!0)},o(t){Rt(a,t),n||(n=Bt(e,an,{duration:200},!1)),n.run(0),o=!1},d(t){t&&P(e),a&&a.d(t),t&&n&&n.end(),r=!1,i(s)}}}function un(t,e,n){let{$$slots:o={},$$scope:r}=e;const i=rt();return t.$$set=t=>{"$$scope"in t&&n(1,r=t.$$scope)},[i,r,o,function(e){lt(t,e)},function(e){lt(t,e)},()=>i("clickedOutside")]}class dn extends Vt{constructor(t){super(),Ft(this,t,un,cn,l,{})}}function fn(t){let e,n,o,r,i;const s=t[6].default,l=d(s,t,t[5],null);return{c(){e=C("div"),l&&l.c(),I(e,"class","button svelte-ri7xwj"),I(e,"title",t[0]),I(e,"style",n=`margin: ${t[4]};`),U(e,"isBig",t[1]),U(e,"isToggled",t[2]),U(e,"isDisabled",t[3])},m(n,s){_(n,e,s),l&&l.m(e,null),o=!0,r||(i=B(e,"click",t[7]),r=!0)},p(t,[r]){l&&l.p&&32&r&&h(l,s,t,t[5],r,null,null),(!o||1&r)&&I(e,"title",t[0]),(!o||16&r&&n!==(n=`margin: ${t[4]};`))&&I(e,"style",n),2&r&&U(e,"isBig",t[1]),4&r&&U(e,"isToggled",t[2]),8&r&&U(e,"isDisabled",t[3])},i(t){o||(Ct(l,t),o=!0)},o(t){Rt(l,t),o=!1},d(t){t&&P(e),l&&l.d(t),r=!1,i()}}}function hn(t,e,n){let{$$slots:o={},$$scope:r}=e,{title:i=null}=e,{isBig:s=!1}=e,{isToggled:l=!1}=e,{isDisabled:a=!1}=e,{margin:c="0"}=e;return t.$$set=t=>{"title"in t&&n(0,i=t.title),"isBig"in t&&n(1,s=t.isBig),"isToggled"in t&&n(2,l=t.isToggled),"isDisabled"in t&&n(3,a=t.isDisabled),"margin"in t&&n(4,c=t.margin),"$$scope"in t&&n(5,r=t.$$scope)},[i,s,l,a,c,r,o,function(e){lt(t,e)}]}class pn extends Vt{constructor(t){super(),Ft(this,t,hn,fn,l,{title:0,isBig:1,isToggled:2,isDisabled:3,margin:4})}}function gn(t){let e,n;return e=new dn({props:{$$slots:{default:[$n]},$$scope:{ctx:t}}}),e.$on("clickedOutside",t[14]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};524411&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function $n(t){let e,n,o,r,s,l,a,c,u,d,f,h,p,g,$,m,w,v,y;return{c(){e=C("div"),n=C("form"),o=C("label"),r=T("User:\n                    "),s=C("input"),l=S(),a=C("label"),c=T("Password:\n                    "),u=C("input"),d=S(),f=C("button"),h=T("Log In"),g=S(),$=C("div"),m=T(t[5]),w=T(" "),I(s,"type","text"),s.disabled=t[4],I(s,"class","svelte-1y8y0wm"),I(o,"class","svelte-1y8y0wm"),I(u,"type","password"),u.disabled=t[4],I(u,"class","svelte-1y8y0wm"),I(a,"class","svelte-1y8y0wm"),I(f,"type","submit"),f.disabled=p=t[4]||!t[6],I(f,"class","svelte-1y8y0wm"),I($,"class","loginMessage svelte-1y8y0wm"),I(e,"class","loginPrompt svelte-1y8y0wm")},m(i,p){_(i,e,p),j(e,n),j(n,o),j(o,r),j(o,s),t[11](s),H(s,t[0]),j(n,l),j(n,a),j(a,c),j(a,u),H(u,t[1]),j(n,d),j(n,f),j(f,h),j(e,g),j(e,$),j($,m),j($,w),v||(y=[B(s,"input",t[12]),B(u,"input",t[13]),B(n,"submit",E(t[10]))],v=!0)},p(t,e){16&e&&(s.disabled=t[4]),1&e&&s.value!==t[0]&&H(s,t[0]),16&e&&(u.disabled=t[4]),2&e&&u.value!==t[1]&&H(u,t[1]),80&e&&p!==(p=t[4]||!t[6])&&(f.disabled=p),32&e&&z(m,t[5])},d(n){n&&P(e),t[11](null),v=!1,i(y)}}}function mn(t){let e,n;return e=new pn({props:{title:"Log Out",$$slots:{default:[vn]},$$scope:{ctx:t}}}),e.$on("click",t[8]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};524288&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function wn(t){let e,n;return e=new pn({props:{title:"Log In",$$slots:{default:[yn]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};524288&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function vn(t){let e,n,o,r,i;return{c(){e=R("svg"),n=R("rect"),o=R("polyline"),r=R("line"),i=R("path"),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(o,"points","174.029 86 216.029 128 174.029 170"),I(o,"fill","none"),I(o,"stroke","currentColor"),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","24"),I(r,"x1","104"),I(r,"y1","128"),I(r,"x2","216"),I(r,"y2","128"),I(r,"fill","none"),I(r,"stroke","currentColor"),I(r,"stroke-linecap","round"),I(r,"stroke-linejoin","round"),I(r,"stroke-width","24"),I(i,"d","M120,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h72"),I(i,"fill","none"),I(i,"stroke","currentColor"),I(i,"stroke-linecap","round"),I(i,"stroke-linejoin","round"),I(i,"stroke-width","24"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256")},m(t,s){_(t,e,s),j(e,n),j(e,o),j(e,r),j(e,i)},d(t){t&&P(e)}}}function yn(t){let e,n,o,r,i;return{c(){e=R("svg"),n=R("rect"),o=R("circle"),r=R("circle"),i=R("path"),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(o,"cx","128"),I(o,"cy","128"),I(o,"r","96"),I(o,"fill","none"),I(o,"stroke","currentColor"),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","24"),I(r,"cx","128"),I(r,"cy","120"),I(r,"r","40"),I(r,"fill","none"),I(r,"stroke","currentColor"),I(r,"stroke-linecap","round"),I(r,"stroke-linejoin","round"),I(r,"stroke-width","24"),I(i,"d","M63.79905,199.37405a72.02812,72.02812,0,0,1,128.40177-.00026"),I(i,"fill","none"),I(i,"stroke","currentColor"),I(i,"stroke-linecap","round"),I(i,"stroke-linejoin","round"),I(i,"stroke-width","24"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256")},m(t,s){_(t,e,s),j(e,n),j(e,o),j(e,r),j(e,i)},d(t){t&&P(e)}}}function xn(t){let e,n,o,r,i,s=t[2]&&gn(t);const l=[wn,mn],a=[];function c(t,e){return t[7]?1:0}return n=c(t),o=a[n]=l[n](t),{c(){s&&s.c(),e=S(),o.c(),r=O()},m(t,o){s&&s.m(t,o),_(t,e,o),a[n].m(t,o),_(t,r,o),i=!0},p(t,[i]){t[2]?s?(s.p(t,i),4&i&&Ct(s,1)):(s=gn(t),s.c(),Ct(s,1),s.m(e.parentNode,e)):s&&(Pt(),Rt(s,1,1,(()=>{s=null})),Mt());let u=n;n=c(t),n===u?a[n].p(t,i):(Pt(),Rt(a[u],1,1,(()=>{a[u]=null})),Mt(),o=a[n],o?o.p(t,i):(o=a[n]=l[n](t),o.c()),Ct(o,1),o.m(r.parentNode,r))},i(t){i||(Ct(s),Ct(o),i=!0)},o(t){Rt(s),Rt(o),i=!1},d(t){s&&s.d(t),t&&P(e),a[n].d(t),t&&P(r)}}}function bn(t,e,n){let o,r;u(t,Ce,(t=>n(16,o=t))),u(t,Re,(t=>n(7,r=t)));var i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};nt((()=>{0!=o.length&&function(){i(this,void 0,void 0,(function*(){const t=yield Te("/login/check",{authorize:!0});t.success?s=setTimeout((()=>{s=null,$(Ce,o=t.data.newToken,o)}),1e3*(t.data.validIn+.5)):-4==t.data.code||l()}))}()}));let s=null;function l(){null!=s&&(clearTimeout(s),s=null),$(Ce,o="",o)}let a,c=!1;let d=!1,f="",h="",p="";let g=!1;return t.$$.update=()=>{3&t.$$.dirty&&(f.length>0&&h.length>0?n(6,g=!0):n(6,g=!1))},[f,h,c,a,d,p,g,r,l,function(){return i(this,void 0,void 0,(function*(){n(0,f=""),n(1,h=""),n(5,p=""),n(2,c=!0),yield gt(),a.focus()}))},function(){return i(this,void 0,void 0,(function*(){n(4,d=!0);const t=yield Te("/login/",{params:{userName:f,password:h},method:"POST"});t.success?($(Ce,o=t.data.token,o),n(2,c=!1)):n(5,p="Incorrect!"),n(4,d=!1)}))},function(t){ct[t?"unshift":"push"]((()=>{a=t,n(3,a)}))},function(){f=this.value,n(0,f)},function(){h=this.value,n(1,h)},()=>n(2,c=!1)]}class kn extends Vt{constructor(t){super(),Ft(this,t,bn,xn,l,{})}}function jn(t){let e,n=(t[5].siteTitle||"Pozzo")+"";return{c(){e=T(n)},m(t,n){_(t,e,n)},p(t,o){32&o&&n!==(n=(t[5].siteTitle||"Pozzo")+"")&&z(e,n)},d(t){t&&P(e)}}}function _n(t){let e,n,o,r,i,s,l;const a=[Mn,Pn],c=[];function u(t,e){return t[0]?0:1}return i=u(t),s=c[i]=a[i](t),{c(){e=C("div"),n=R("svg"),o=R("path"),r=S(),s.c(),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","2"),I(o,"d","M9 5l7 7-7 7"),I(o,"class","svelte-hglghj"),I(n,"class","w-6 h-6 svelte-hglghj"),I(n,"fill","none"),I(n,"stroke","currentColor"),I(n,"viewBox","0 0 24 24"),I(n,"xmlns","http://www.w3.org/2000/svg"),I(e,"class","backLink svelte-hglghj")},m(t,s){_(t,e,s),j(e,n),j(n,o),j(e,r),c[i].m(e,null),l=!0},p(t,n){let o=i;i=u(t),i===o?c[i].p(t,n):(Pt(),Rt(c[o],1,1,(()=>{c[o]=null})),Mt(),s=c[i],s?s.p(t,n):(s=c[i]=a[i](t),s.c()),Ct(s,1),s.m(e,null))},i(t){l||(Ct(s),l=!0)},o(t){Rt(s),l=!1},d(t){t&&P(e),c[i].d()}}}function Pn(e){let n,o=e[1].title+"";return{c(){n=T(o)},m(t,e){_(t,n,e)},p(t,e){2&e&&o!==(o=t[1].title+"")&&z(n,o)},i:t,o:t,d(t){t&&P(n)}}}function Mn(t){let e,n;return e=new ye({props:{to:`/album/${t[1].slug}`,$$slots:{default:[Cn]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.to=`/album/${t[1].slug}`),32770&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Cn(t){let e,n=t[1].title+"";return{c(){e=T(n)},m(t,n){_(t,e,n)},p(t,o){2&o&&n!==(n=t[1].title+"")&&z(e,n)},d(t){t&&P(e)}}}function Rn(t){let e,n,o,r,i,s=t[0].title+"";return{c(){e=C("div"),n=R("svg"),o=R("path"),r=S(),i=T(s),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","2"),I(o,"d","M9 5l7 7-7 7"),I(o,"class","svelte-hglghj"),I(n,"class","w-6 h-6 svelte-hglghj"),I(n,"fill","none"),I(n,"stroke","currentColor"),I(n,"viewBox","0 0 24 24"),I(n,"xmlns","http://www.w3.org/2000/svg"),I(e,"class","backLink svelte-hglghj")},m(t,s){_(t,e,s),j(e,n),j(n,o),j(e,r),j(e,i)},p(t,e){1&e&&s!==(s=t[0].title+"")&&z(i,s)},d(t){t&&P(e)}}}function Tn(e){let n,o,r=(e[5].siteTitle||"Pozzo")+"";return{c(){n=C("h2"),o=T(r),I(n,"class","svelte-hglghj")},m(t,e){_(t,n,e),j(n,o)},p(t,e){32&e&&r!==(r=(t[5].siteTitle||"Pozzo")+"")&&z(o,r)},i:t,o:t,d(t){t&&P(n)}}}function Sn(t){let e,n;return e=new ye({props:{to:"/",$$slots:{default:[Bn]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};32800&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function On(t){let e,n;return e=new ye({props:{to:`/album/${t[1].slug}`,$$slots:{default:[En]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.to=`/album/${t[1].slug}`),32770&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Bn(t){let e,n,o,r,i,s=(t[5].siteTitle||"Pozzo")+"";return{c(){e=R("svg"),n=R("rect"),o=R("polyline"),r=S(),i=T(s),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(n,"class","svelte-hglghj"),I(o,"points","160 208 80 128 160 48"),I(o,"fill","none"),I(o,"stroke","currentColor"),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","24"),I(o,"class","svelte-hglghj"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256"),I(e,"class","svelte-hglghj")},m(t,s){_(t,e,s),j(e,n),j(e,o),_(t,r,s),_(t,i,s)},p(t,e){32&e&&s!==(s=(t[5].siteTitle||"Pozzo")+"")&&z(i,s)},d(t){t&&P(e),t&&P(r),t&&P(i)}}}function En(t){let e,n,o,r,i,s=t[1].title+"";return{c(){e=R("svg"),n=R("rect"),o=R("polyline"),r=S(),i=T(s),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(n,"class","svelte-hglghj"),I(o,"points","160 208 80 128 160 48"),I(o,"fill","none"),I(o,"stroke","currentColor"),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","24"),I(o,"class","svelte-hglghj"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256"),I(e,"class","svelte-hglghj")},m(t,s){_(t,e,s),j(e,n),j(e,o),_(t,r,s),_(t,i,s)},p(t,e){2&e&&s!==(s=t[1].title+"")&&z(i,s)},d(t){t&&P(e),t&&P(r),t&&P(i)}}}function Ln(t){let e,n,o,r,i,s,l,a,c;const u=[In,An],d=[];function f(t,e){return null==t[3]?0:1}e=f(t),n=d[e]=u[e](t);const h=[Fn,Dn],p=[];function g(t,e){return null==t[4]?0:1}return r=g(t),i=p[r]=h[r](t),a=new pn({props:{margin:"0 5px 0 0",title:(t[6]?"Hide":"View")+" Metadata",isToggled:t[6],$$slots:{default:[Wn]},$$scope:{ctx:t}}}),a.$on("click",t[10]),{c(){n.c(),o=S(),i.c(),s=S(),l=C("div"),zt(a.$$.fragment),I(l,"class","metaDataToggle svelte-hglghj")},m(t,n){d[e].m(t,n),_(t,o,n),p[r].m(t,n),_(t,s,n),_(t,l,n),Ht(a,l,null),c=!0},p(t,l){let c=e;e=f(t),e===c?d[e].p(t,l):(Pt(),Rt(d[c],1,1,(()=>{d[c]=null})),Mt(),n=d[e],n?n.p(t,l):(n=d[e]=u[e](t),n.c()),Ct(n,1),n.m(o.parentNode,o));let $=r;r=g(t),r===$?p[r].p(t,l):(Pt(),Rt(p[$],1,1,(()=>{p[$]=null})),Mt(),i=p[r],i?i.p(t,l):(i=p[r]=h[r](t),i.c()),Ct(i,1),i.m(s.parentNode,s));const m={};64&l&&(m.title=(t[6]?"Hide":"View")+" Metadata"),64&l&&(m.isToggled=t[6]),32768&l&&(m.$$scope={dirty:l,ctx:t}),a.$set(m)},i(t){c||(Ct(n),Ct(i),Ct(a.$$.fragment,t),c=!0)},o(t){Rt(n),Rt(i),Rt(a.$$.fragment,t),c=!1},d(t){d[e].d(t),t&&P(o),p[r].d(t),t&&P(s),t&&P(l),Dt(a)}}}function An(t){let e,n;return e=new pn({props:{title:"Previous Photo",margin:"0 5px 0 0",isDisabled:!1,$$slots:{default:[zn]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};32776&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function In(t){let e,n;return e=new pn({props:{title:"(No Previous Photo)",margin:"0 5px 0 0",isDisabled:!0,$$slots:{default:[Hn]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};32768&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Nn(t){let e,n,o;return{c(){e=R("svg"),n=R("rect"),o=R("path"),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(n,"class","svelte-hglghj"),I(o,"d","M114.34277,229.65723l-96-96a8.003,8.003,0,0,1,0-11.31446l96-96A8.00065,8.00065,0,0,1,128,32V72h80a16.01833,16.01833,0,0,1,16,16v80a16.01833,16.01833,0,0,1-16,16H128v40a8.00066,8.00066,0,0,1-13.65723,5.65723Z"),I(o,"class","svelte-hglghj"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256"),I(e,"class","svelte-hglghj")},m(t,r){_(t,e,r),j(e,n),j(e,o)},d(t){t&&P(e)}}}function zn(t){let e,n;return e=new ye({props:{to:t[3],$$slots:{default:[Nn]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};8&n&&(o.to=t[3]),32768&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Hn(t){let e,n,o;return{c(){e=R("svg"),n=R("rect"),o=R("path"),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(n,"class","svelte-hglghj"),I(o,"d","M114.34277,229.65723l-96-96a8.003,8.003,0,0,1,0-11.31446l96-96A8.00065,8.00065,0,0,1,128,32V72h80a16.01833,16.01833,0,0,1,16,16v80a16.01833,16.01833,0,0,1-16,16H128v40a8.00066,8.00066,0,0,1-13.65723,5.65723Z"),I(o,"class","svelte-hglghj"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256"),I(e,"class","svelte-hglghj")},m(t,r){_(t,e,r),j(e,n),j(e,o)},d(t){t&&P(e)}}}function Dn(t){let e,n;return e=new pn({props:{title:"Next Photo",margin:"0 5px 0 0",isDisabled:!1,$$slots:{default:[Un]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};32784&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Fn(t){let e,n;return e=new pn({props:{title:"(No Next Photo)",margin:"0 5px 0 0",isDisabled:!0,$$slots:{default:[Gn]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};32768&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Vn(t){let e,n,o;return{c(){e=R("svg"),n=R("rect"),o=R("path"),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(n,"class","svelte-hglghj"),I(o,"d","M132.93848,231.39062A8,8,0,0,1,128,224V184H48a16.01833,16.01833,0,0,1-16-16V88A16.01833,16.01833,0,0,1,48,72h80V32a8.00065,8.00065,0,0,1,13.65723-5.65723l96,96a8.003,8.003,0,0,1,0,11.31446l-96,96A8.002,8.002,0,0,1,132.93848,231.39062Z"),I(o,"class","svelte-hglghj"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256"),I(e,"class","svelte-hglghj")},m(t,r){_(t,e,r),j(e,n),j(e,o)},d(t){t&&P(e)}}}function Un(t){let e,n;return e=new ye({props:{to:t[4],$$slots:{default:[Vn]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};16&n&&(o.to=t[4]),32768&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Gn(t){let e,n,o;return{c(){e=R("svg"),n=R("rect"),o=R("path"),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(n,"class","svelte-hglghj"),I(o,"d","M132.93848,231.39062A8,8,0,0,1,128,224V184H48a16.01833,16.01833,0,0,1-16-16V88A16.01833,16.01833,0,0,1,48,72h80V32a8.00065,8.00065,0,0,1,13.65723-5.65723l96,96a8.003,8.003,0,0,1,0,11.31446l-96,96A8.002,8.002,0,0,1,132.93848,231.39062Z"),I(o,"class","svelte-hglghj"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256"),I(e,"class","svelte-hglghj")},m(t,r){_(t,e,r),j(e,n),j(e,o)},d(t){t&&P(e)}}}function Wn(t){let e,n,o,r;return{c(){e=R("svg"),n=R("rect"),o=R("path"),r=R("circle"),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(n,"class","svelte-hglghj"),I(o,"d","M122.66459,25.8792,42.0101,42.0101,25.8792,122.66459a8,8,0,0,0,2.1878,7.22578L132.51977,234.34315a8,8,0,0,0,11.31371,0l90.50967-90.50967a8,8,0,0,0,0-11.31371L129.89037,28.067A8,8,0,0,0,122.66459,25.8792Z"),I(o,"fill","none"),I(o,"stroke","currentColor"),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","24"),I(o,"class","svelte-hglghj"),I(r,"cx","84"),I(r,"cy","84"),I(r,"r","16"),I(r,"class","svelte-hglghj"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256"),I(e,"class","svelte-hglghj")},m(t,i){_(t,e,i),j(e,n),j(e,o),j(e,r)},d(t){t&&P(e)}}}function Zn(t){let e,n;return e=new pn({props:{margin:"0 5px 0 0",title:"Fullscreen",$$slots:{default:[Jn]},$$scope:{ctx:t}}}),e.$on("click",t[12]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};32768&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function qn(t){let e,n;return e=new pn({props:{margin:"0 5px 0 0",title:"Exit Fullscreen",$$slots:{default:[Kn]},$$scope:{ctx:t}}}),e.$on("click",t[11]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};32768&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Jn(t){let e,n,o,r,i,s,l,a,c,u;return{c(){e=R("svg"),n=R("rect"),o=R("polyline"),r=R("line"),i=R("polyline"),s=R("line"),l=R("polyline"),a=R("line"),c=R("polyline"),u=R("line"),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(n,"class","svelte-hglghj"),I(o,"points","168 48 208 48 208 88"),I(o,"fill","none"),I(o,"stroke","currentColor"),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","24"),I(o,"class","svelte-hglghj"),I(r,"x1","152"),I(r,"y1","104"),I(r,"x2","208"),I(r,"y2","48"),I(r,"fill","none"),I(r,"stroke","currentColor"),I(r,"stroke-linecap","round"),I(r,"stroke-linejoin","round"),I(r,"stroke-width","24"),I(r,"class","svelte-hglghj"),I(i,"points","88 208 48 208 48 168"),I(i,"fill","none"),I(i,"stroke","currentColor"),I(i,"stroke-linecap","round"),I(i,"stroke-linejoin","round"),I(i,"stroke-width","24"),I(i,"class","svelte-hglghj"),I(s,"x1","104"),I(s,"y1","152"),I(s,"x2","48"),I(s,"y2","208"),I(s,"fill","none"),I(s,"stroke","currentColor"),I(s,"stroke-linecap","round"),I(s,"stroke-linejoin","round"),I(s,"stroke-width","24"),I(s,"class","svelte-hglghj"),I(l,"points","208 168 208 208 168 208"),I(l,"fill","none"),I(l,"stroke","currentColor"),I(l,"stroke-linecap","round"),I(l,"stroke-linejoin","round"),I(l,"stroke-width","24"),I(l,"class","svelte-hglghj"),I(a,"x1","152"),I(a,"y1","152"),I(a,"x2","208"),I(a,"y2","208"),I(a,"fill","none"),I(a,"stroke","currentColor"),I(a,"stroke-linecap","round"),I(a,"stroke-linejoin","round"),I(a,"stroke-width","24"),I(a,"class","svelte-hglghj"),I(c,"points","48 88 48 48 88 48"),I(c,"fill","none"),I(c,"stroke","currentColor"),I(c,"stroke-linecap","round"),I(c,"stroke-linejoin","round"),I(c,"stroke-width","24"),I(c,"class","svelte-hglghj"),I(u,"x1","104"),I(u,"y1","104"),I(u,"x2","48"),I(u,"y2","48"),I(u,"fill","none"),I(u,"stroke","currentColor"),I(u,"stroke-linecap","round"),I(u,"stroke-linejoin","round"),I(u,"stroke-width","24"),I(u,"class","svelte-hglghj"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256"),I(e,"class","svelte-hglghj")},m(t,d){_(t,e,d),j(e,n),j(e,o),j(e,r),j(e,i),j(e,s),j(e,l),j(e,a),j(e,c),j(e,u)},d(t){t&&P(e)}}}function Kn(t){let e,n,o,r,i,s;return{c(){e=R("svg"),n=R("rect"),o=R("polyline"),r=R("polyline"),i=R("polyline"),s=R("polyline"),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(n,"class","svelte-hglghj"),I(o,"points","208 96 160 96 160 48"),I(o,"fill","none"),I(o,"stroke","currentColor"),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","24"),I(o,"class","svelte-hglghj"),I(r,"points","48 160 96 160 96 208"),I(r,"fill","none"),I(r,"stroke","currentColor"),I(r,"stroke-linecap","round"),I(r,"stroke-linejoin","round"),I(r,"stroke-width","24"),I(r,"class","svelte-hglghj"),I(i,"points","160 208 160 160 208 160"),I(i,"fill","none"),I(i,"stroke","currentColor"),I(i,"stroke-linecap","round"),I(i,"stroke-linejoin","round"),I(i,"stroke-width","24"),I(i,"class","svelte-hglghj"),I(s,"points","96 48 96 96 48 96"),I(s,"fill","none"),I(s,"stroke","currentColor"),I(s,"stroke-linecap","round"),I(s,"stroke-linejoin","round"),I(s,"stroke-width","24"),I(s,"class","svelte-hglghj"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256"),I(e,"class","svelte-hglghj")},m(t,l){_(t,e,l),j(e,n),j(e,o),j(e,r),j(e,i),j(e,s)},d(t){t&&P(e)}}}function Yn(t){let e,n,o,r,s,l,a,c,u,d,f,h,p,g,$,m,w,v,y,x,b,k,M,R;r=new ye({props:{to:"/",$$slots:{default:[jn]},$$scope:{ctx:t}}});let T=t[1]&&_n(t),O=t[0]&&Rn(t);const E=[On,Sn,Tn],L=[];function N(t,e){return t[0]?0:t[1]?1:2}d=N(t),f=L[d]=E[d](t);let z=t[0]&&Ln(t);const H=[qn,Zn],D=[];function F(t,e){return t[7]?0:1}return w=F(t),v=D[w]=H[w](t),b=new kn({}),{c(){e=C("nav"),n=C("div"),o=C("div"),zt(r.$$.fragment),s=S(),T&&T.c(),l=S(),O&&O.c(),a=S(),c=C("div"),u=C("div"),f.c(),h=S(),p=C("div"),g=S(),z&&z.c(),$=S(),m=C("div"),v.c(),y=S(),x=C("div"),zt(b.$$.fragment),I(o,"class","homeLink svelte-hglghj"),I(n,"class","fullBreadcrumbs svelte-hglghj"),I(u,"class","backLink svelte-hglghj"),I(c,"class","backButton svelte-hglghj"),I(p,"class","spacer svelte-hglghj"),I(m,"class","fullscreenButton svelte-hglghj"),I(x,"class","login svelte-hglghj"),I(e,"class","svelte-hglghj"),U(e,"collapsed",t[2])},m(i,f){_(i,e,f),j(e,n),j(n,o),Ht(r,o,null),j(n,s),T&&T.m(n,null),j(n,l),O&&O.m(n,null),j(e,a),j(e,c),j(c,u),L[d].m(u,null),j(e,h),j(e,p),j(e,g),z&&z.m(e,null),j(e,$),j(e,m),D[w].m(m,null),j(e,y),j(e,x),Ht(b,x,null),k=!0,M||(R=[B(window,"keydown",t[9]),B(e,"dblclick",A(t[13]))],M=!0)},p(t,[o]){const i={};32800&o&&(i.$$scope={dirty:o,ctx:t}),r.$set(i),t[1]?T?(T.p(t,o),2&o&&Ct(T,1)):(T=_n(t),T.c(),Ct(T,1),T.m(n,l)):T&&(Pt(),Rt(T,1,1,(()=>{T=null})),Mt()),t[0]?O?O.p(t,o):(O=Rn(t),O.c(),O.m(n,null)):O&&(O.d(1),O=null);let s=d;d=N(t),d===s?L[d].p(t,o):(Pt(),Rt(L[s],1,1,(()=>{L[s]=null})),Mt(),f=L[d],f?f.p(t,o):(f=L[d]=E[d](t),f.c()),Ct(f,1),f.m(u,null)),t[0]?z?(z.p(t,o),1&o&&Ct(z,1)):(z=Ln(t),z.c(),Ct(z,1),z.m(e,$)):z&&(Pt(),Rt(z,1,1,(()=>{z=null})),Mt());let a=w;w=F(t),w===a?D[w].p(t,o):(Pt(),Rt(D[a],1,1,(()=>{D[a]=null})),Mt(),v=D[w],v?v.p(t,o):(v=D[w]=H[w](t),v.c()),Ct(v,1),v.m(m,null)),4&o&&U(e,"collapsed",t[2])},i(t){k||(Ct(r.$$.fragment,t),Ct(T),Ct(f),Ct(z),Ct(v),Ct(b.$$.fragment,t),k=!0)},o(t){Rt(r.$$.fragment,t),Rt(T),Rt(f),Rt(z),Rt(v),Rt(b.$$.fragment,t),k=!1},d(t){t&&P(e),Dt(r),T&&T.d(),O&&O.d(),L[d].d(),z&&z.d(),D[w].d(),Dt(b),M=!1,i(R)}}}function Xn(t,e,n){let o,r,i,s,l;u(t,Pe,(t=>n(0,o=t))),u(t,_e,(t=>n(1,r=t))),u(t,xe,(t=>n(5,i=t))),u(t,be,(t=>n(6,s=t))),u(t,ke,(t=>n(7,l=t)));const a=rt();let c=!1,d=null,f=null;return t.$$.update=()=>{3&t.$$.dirty&&function(t,e){if(null==t||null==e)return;const o=e.photos.findIndex((e=>e.id==t.id));-1!=o?(n(3,d=0==o?null:`/album/${e.slug}/${e.photos[o-1].id}`),o==e.photos.length-1?n(4,f=null):n(4,f=`/album/${e.slug}/${e.photos[o+1].id}`)):console.error("photo not in album!")}(o,r)},[o,r,c,d,f,i,s,l,a,function(t){"ArrowLeft"==t.key&&null!=d?Yt(d):"ArrowRight"==t.key&&null!=f&&Yt(f)},()=>$(be,s=!s,s),()=>a("fullScreenOff"),()=>a("fullScreenOn"),()=>(n(2,c=!c),!1)]}class Qn extends Vt{constructor(t){super(),Ft(this,t,Xn,Yn,l,{})}}var to="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function eo(t){var e={exports:{}};return t(e,e.exports),e.exports
/*!
 * Copyright 2019 SmugMug, Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */}var no=eo((function(t){(t.exports=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight,this.widowLayoutStyle=t.widowLayoutStyle,this.isBreakoutRow=t.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(t){var e,n,o,r=this.items.concat(t),i=this.width-(r.length-1)*this.spacing,s=r.reduce((function(t,e){return t+e.aspectRatio}),0),l=i/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&t.aspectRatio>=1?(this.items.push(t),this.completeLayout(i/t.aspectRatio,"justify"),!0):s<this.minAspectRatio?(this.items.push(Object.assign({},t)),!0):s>this.maxAspectRatio?0===this.items.length?(this.items.push(Object.assign({},t)),this.completeLayout(i/s,"justify"),!0):(e=this.width-(this.items.length-1)*this.spacing,n=this.items.reduce((function(t,e){return t+e.aspectRatio}),0),o=e/this.targetRowHeight,Math.abs(s-l)>Math.abs(n-o)?(this.completeLayout(e/n,"justify"),!1):(this.items.push(Object.assign({},t)),this.completeLayout(i/s,"justify"),!0)):(this.items.push(Object.assign({},t)),this.completeLayout(i/s,"justify"),!0)},isLayoutComplete:function(){return this.height>0},completeLayout:function(t,e){var n,o,r,i,s,l=this.left,a=this.width-(this.items.length-1)*this.spacing;(void 0===e||["justify","center","left"].indexOf(e)<0)&&(e="left"),t!==(o=Math.max(this.edgeCaseMinRowHeight,Math.min(t,this.edgeCaseMaxRowHeight)))?(this.height=o,n=a/o/(a/t)):(this.height=t,n=1),this.items.forEach((function(t){t.top=this.top,t.width=t.aspectRatio*this.height*n,t.height=this.height,t.left=l,l+=t.width+this.spacing}),this),"justify"===e?(l-=this.spacing+this.left,r=(l-this.width)/this.items.length,i=this.items.map((function(t,e){return Math.round((e+1)*r)})),1===this.items.length?this.items[0].width-=Math.round(r):this.items.forEach((function(t,e){e>0?(t.left-=i[e-1],t.width-=i[e]-i[e-1]):t.width-=i[e]}))):"center"===e&&(s=(this.width-l)/2,this.items.forEach((function(t){t.left+=s+this.spacing}),this))},forceComplete:function(t,e){"number"==typeof e?this.completeLayout(e,this.widowLayoutStyle):this.completeLayout(this.targetRowHeight,this.widowLayoutStyle)},getItems:function(){return this.items}}}));
/*!
 * Copyright 2019 SmugMug, Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */function oo(t,e){var n;return!1!==t.fullWidthBreakoutRowCadence&&(e._rows.length+1)%t.fullWidthBreakoutRowCadence==0&&(n=!0),new no({top:e._containerHeight,left:t.containerPadding.left,width:t.containerWidth-t.containerPadding.left-t.containerPadding.right,spacing:t.boxSpacing.horizontal,targetRowHeight:t.targetRowHeight,targetRowHeightTolerance:t.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*t.targetRowHeight,edgeCaseMaxRowHeight:2*t.targetRowHeight,rightToLeft:!1,isBreakoutRow:n,widowLayoutStyle:t.widowLayoutStyle})}function ro(t,e,n){return e._rows.push(n),e._layoutItems=e._layoutItems.concat(n.getItems()),e._containerHeight+=n.height+t.boxSpacing.vertical,n.items}var io=function(t,e){var n={},o={},r={containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1,widowLayoutStyle:"left"},i={},s={};return e=e||{},n=Object.assign(r,e),i.top=isNaN(parseFloat(n.containerPadding.top))?n.containerPadding:n.containerPadding.top,i.right=isNaN(parseFloat(n.containerPadding.right))?n.containerPadding:n.containerPadding.right,i.bottom=isNaN(parseFloat(n.containerPadding.bottom))?n.containerPadding:n.containerPadding.bottom,i.left=isNaN(parseFloat(n.containerPadding.left))?n.containerPadding:n.containerPadding.left,s.horizontal=isNaN(parseFloat(n.boxSpacing.horizontal))?n.boxSpacing:n.boxSpacing.horizontal,s.vertical=isNaN(parseFloat(n.boxSpacing.vertical))?n.boxSpacing:n.boxSpacing.vertical,n.containerPadding=i,n.boxSpacing=s,o._layoutItems=[],o._awakeItems=[],o._inViewportItems=[],o._leadingOrphans=[],o._trailingOrphans=[],o._containerHeight=n.containerPadding.top,o._rows=[],o._orphans=[],n._widowCount=0,function(t,e,n){var o,r,i,s=[];return t.forceAspectRatio&&n.forEach((function(e){e.forcedAspectRatio=!0,e.aspectRatio=t.forceAspectRatio})),n.some((function(n,i){if(isNaN(n.aspectRatio))throw new Error("Item "+i+" has an invalid aspect ratio");if(r||(r=oo(t,e)),o=r.addItem(n),r.isLayoutComplete()){if(s=s.concat(ro(t,e,r)),e._rows.length>=t.maxNumRows)return r=null,!0;if(r=oo(t,e),!o&&(o=r.addItem(n),r.isLayoutComplete())){if(s=s.concat(ro(t,e,r)),e._rows.length>=t.maxNumRows)return r=null,!0;r=oo(t,e)}}})),r&&r.getItems().length&&t.showWidows&&(e._rows.length?(i=e._rows[e._rows.length-1].isBreakoutRow?e._rows[e._rows.length-1].targetRowHeight:e._rows[e._rows.length-1].height,r.forceComplete(!1,i)):r.forceComplete(!1),s=s.concat(ro(t,e,r)),t._widowCount=r.getItems().length),e._containerHeight=e._containerHeight-t.boxSpacing.vertical,e._containerHeight=e._containerHeight+t.containerPadding.bottom,{containerHeight:e._containerHeight,widowCount:t._widowCount,boxes:e._layoutItems}}(n,o,t.map((function(t){return t.width&&t.height?{aspectRatio:t.width/t.height}:{aspectRatio:t}})))};function so(t){const e=Math.floor(Math.log(t)/Math.log(1024)),n=e<=1?0:2;return`${(t/Math.pow(1024,e)).toFixed(n)} ${["B","kB","MB","GB","TB"][e]}`}function lo(t){const e=new Date(1e3*t);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}function ao(t){const e=1/t,n=Math.round(e);return Math.abs(n-e)<1e-4?`1/${n}`:t.toFixed(5).replace(/0*$/,"")}function co(t,e,n,o="jpg"){return`/photos/${e.match(/.{1,2}/g).slice(0,3).map((t=>"ad"==t?"a_":t)).join("/")}/${e}_${n}_${t}.${o}`}function uo(t){return window.navigator.platform.startsWith("Mac")?t.metaKey:t.ctrlKey}function fo(t){let e,n;return e=new ln({props:{loader:"PhotoContextMenu",posX:t[0],posY:t[1]}}),e.$on("dismissed",t[11]),e.$on("delete",t[4]),e.$on("move",t[5]),e.$on("coverPhotoClicked",t[6]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.posX=t[0]),2&n&&(o.posY=t[1]),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function ho(t){let e,n,o,r,s,l=t[2]&&fo(t);const a=t[10].default,c=d(a,t,t[9],null);return{c(){e=S(),l&&l.c(),n=S(),c&&c.c()},m(i,a){_(i,e,a),l&&l.m(i,a),_(i,n,a),c&&c.m(i,a),o=!0,r||(s=[B(document.body,"contextmenu",t[3]),B(document.body,"keydown",t[7])],r=!0)},p(t,[e]){t[2]?l?(l.p(t,e),4&e&&Ct(l,1)):(l=fo(t),l.c(),Ct(l,1),l.m(n.parentNode,n)):l&&(Pt(),Rt(l,1,1,(()=>{l=null})),Mt()),c&&c.p&&512&e&&h(c,a,t,t[9],e,null,null)},i(t){o||(Ct(l),Ct(c,t),o=!0)},o(t){Rt(l),Rt(c,t),o=!1},d(t){t&&P(e),l&&l.d(t),t&&P(n),c&&c.d(t),r=!1,i(s)}}}function po(t,e,n){let o,r,i;u(t,Re,(t=>n(12,o=t))),u(t,Me,(t=>n(13,r=t))),u(t,_e,(t=>n(14,i=t)));let{$$slots:s={},$$scope:l}=e;var a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};const c=rt();let{photos:d=[]}=e,f=-1,h=-1,p=!1;return t.$$set=t=>{"photos"in t&&n(8,d=t.photos),"$$scope"in t&&n(9,l=t.$$scope)},[f,h,p,function(t){return a(this,void 0,void 0,(function*(){o&&(t.preventDefault(),p&&(n(2,p=!1),yield gt()),n(0,f=t.clientX),n(1,h=t.clientY),n(2,p=!0))}))},function(t){n(8,d=d.filter((t=>r.indexOf(t)<0))),c("deleted",{newPhotos:d}),n(2,p=!1),$(Me,r=[],r)},function(t){n(8,d=d.filter((t=>r.indexOf(t)<0))),c("moved",{newPhotos:d,targetAlbumID:t.detail.targetAlbumID}),n(2,p=!1),$(Me,r=[],r)},function(t){i.coverPhoto==r[0]?$(_e,i.coverPhoto=null,i):$(_e,i.coverPhoto=r[0],i),c("coverChanged"),n(2,p=!1),$(Me,r=[],r)},function(t){o&&(p||("a"==t.key&&uo(t)&&($(Me,r=d,r),t.preventDefault()),"d"==t.key&&uo(t)&&($(Me,r=[],r),t.preventDefault())))},d,l,s,()=>n(2,p=!1)]}class go extends Vt{constructor(t){super(),Ft(this,t,po,ho,l,{photos:8})}}var $o,mo=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],wo=Object.defineProperty({decode83:function(t){for(var e=0,n=0;n<t.length;n++){var o=t[n];e=83*e+mo.indexOf(o)}return e},encode83:function(t,e){for(var n="",o=1;o<=e;o++){var r=Math.floor(t)/Math.pow(83,e-o)%83;n+=mo[Math.floor(r)]}return n}},"__esModule",{value:!0}),vo=eo((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sRGBToLinear=function(t){var e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},e.linearTosRGB=function(t){var e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.round(12.92*e*255+.5):Math.round(255*(1.055*Math.pow(e,1/2.4)-.055)+.5)},e.sign=function(t){return t<0?-1:1},e.signPow=function(t,n){return e.sign(t)*Math.pow(Math.abs(t),n)}})),yo=to&&to.__extends||($o=function(t,e){return($o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xo=function(t){function e(e){var n=t.call(this,e)||this;return n.name="ValidationError",n.message=e,n}return yo(e,t),e}(Error),bo=Object.defineProperty({ValidationError:xo},"__esModule",{value:!0}),ko=function(t){if(!t||t.length<6)throw new bo.ValidationError("The blurhash string must be at least 6 characters");var e=wo.decode83(t[0]),n=Math.floor(e/9)+1,o=e%9+1;if(t.length!==4+2*o*n)throw new bo.ValidationError("blurhash length mismatch: length is "+t.length+" but it should be "+(4+2*o*n))},jo=function(t){var e=t>>16,n=t>>8&255,o=255&t;return[vo.sRGBToLinear(e),vo.sRGBToLinear(n),vo.sRGBToLinear(o)]},_o=function(t,e){var n=Math.floor(t/361),o=Math.floor(t/19)%19,r=t%19;return[vo.signPow((n-9)/9,2)*e,vo.signPow((o-9)/9,2)*e,vo.signPow((r-9)/9,2)*e]},Po=function(t,e,n,o){ko(t),o|=1;for(var r=wo.decode83(t[0]),i=Math.floor(r/9)+1,s=r%9+1,l=(wo.decode83(t[1])+1)/166,a=new Array(s*i),c=0;c<a.length;c++)if(0===c){var u=wo.decode83(t.substring(2,6));a[c]=jo(u)}else{u=wo.decode83(t.substring(4+2*c,6+2*c));a[c]=_o(u,l*o)}for(var d=4*e,f=new Uint8ClampedArray(d*n),h=0;h<n;h++)for(var p=0;p<e;p++){for(var g=0,$=0,m=0,w=0;w<i;w++)for(c=0;c<s;c++){var v=Math.cos(Math.PI*p*c/e)*Math.cos(Math.PI*h*w/n),y=a[c+w*s];g+=y[0]*v,$+=y[1]*v,m+=y[2]*v}var x=vo.linearTosRGB(g),b=vo.linearTosRGB($),k=vo.linearTosRGB(m);f[4*p+0+h*d]=x,f[4*p+1+h*d]=b,f[4*p+2+h*d]=k,f[4*p+3+h*d]=255}return f},Mo=Object.defineProperty({isBlurhashValid:function(t){try{ko(t)}catch(t){return{result:!1,errorReason:t.message}}return{result:!0}},default:Po},"__esModule",{value:!0}),Co=function(t,e,n,o,r){if(o<1||o>9||r<1||r>9)throw new bo.ValidationError("BlurHash must have between 1 and 9 components");if(e*n*4!==t.length)throw new bo.ValidationError("Width and height must match the pixels array");for(var i=[],s=function(r){for(var s=function(o){var s=0==o&&0==r?1:2,l=function(t,e,n,o){for(var r=0,i=0,s=0,l=4*e,a=0;a<e;a++)for(var c=0;c<n;c++){var u=o(a,c);r+=u*vo.sRGBToLinear(t[4*a+0+c*l]),i+=u*vo.sRGBToLinear(t[4*a+1+c*l]),s+=u*vo.sRGBToLinear(t[4*a+2+c*l])}var d=1/(e*n);return[r*d,i*d,s*d]}(t,e,n,(function(t,i){return s*Math.cos(Math.PI*o*t/e)*Math.cos(Math.PI*r*i/n)}));i.push(l)},l=0;l<o;l++)s(l)},l=0;l<r;l++)s(l);var a,c,u=i[0],d=i.slice(1),f="",h=o-1+9*(r-1);if(f+=wo.encode83(h,1),d.length>0){var p=Math.max.apply(Math,d.map((function(t){return Math.max.apply(Math,t)}))),g=Math.floor(Math.max(0,Math.min(82,Math.floor(166*p-.5))));a=(g+1)/166,f+=wo.encode83(g,1)}else a=1,f+=wo.encode83(0,1);return f+=wo.encode83((c=u,(vo.linearTosRGB(c[0])<<16)+(vo.linearTosRGB(c[1])<<8)+vo.linearTosRGB(c[2])),4),d.forEach((function(t){f+=wo.encode83(function(t,e){return 19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*vo.signPow(t[0]/e,.5)+9.5))))*19+19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*vo.signPow(t[1]/e,.5)+9.5))))+Math.floor(Math.max(0,Math.min(18,Math.floor(9*vo.signPow(t[2]/e,.5)+9.5))))}(t,a),2)})),f},Ro=Object.defineProperty({default:Co},"__esModule",{value:!0}),To=eo((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.decode=Mo.default,e.isBlurhashValid=Mo.isBlurhashValid,e.encode=Ro.default,function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(bo)}));function So(e){let n,o,r,i,s,l,a,c,u;return{c(){n=C("canvas"),r=S(),i=C("img"),I(n,"class","preload svelte-134ohlg"),I(n,"style",o=`object-fit: ${e[1]};`),U(n,"removed",e[7]>1),I(i,"loading",s=e[0]?"lazy":null),I(i,"class","main svelte-134ohlg"),I(i,"style",l=`object-fit: ${e[1]};`),I(i,"alt",e[6]),I(i,"srcset",e[4]),i.src!==(a=e[5])&&I(i,"src",a),U(i,"loading",e[7]<2)},m(t,o){_(t,n,o),e[13](n),_(t,r,o),_(t,i,o),e[14](i),c||(u=B(i,"load",e[15]),c=!0)},p(t,[e]){2&e&&o!==(o=`object-fit: ${t[1]};`)&&I(n,"style",o),128&e&&U(n,"removed",t[7]>1),1&e&&s!==(s=t[0]?"lazy":null)&&I(i,"loading",s),2&e&&l!==(l=`object-fit: ${t[1]};`)&&I(i,"style",l),64&e&&I(i,"alt",t[6]),16&e&&I(i,"srcset",t[4]),32&e&&i.src!==(a=t[5])&&I(i,"src",a),128&e&&U(i,"loading",t[7]<2)},i:t,o:t,d(t){t&&P(n),e[13](null),t&&P(r),t&&P(i),e[14](null),c=!1,u()}}}function Oo(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};let r,i,{photo:s=null}=e,{lazy:l=!1}=e,{size:a="large"}=e,{objectFit:c="contain"}=e,{altTitle:u=null}=e,d=-1;let f="",h="",p="";function g(t){return o(this,void 0,void 0,(function*(){null==t?(n(4,f=""),n(5,h="")):(n(4,f=`${co(a,s.hash,s.uniq)}, ${co(a+"2x",s.hash,s.uniq)} 2x`),n(5,h=co(a,s.hash,s.uniq)))}))}let $=-1;function m(t){var e;return o(this,void 0,void 0,(function*(){yield gt(),n(7,$=t),0==t&&(n(12,d=s.id),g(null),n(6,p=""),function(){o(this,void 0,void 0,(function*(){if($>1)return;const t=To.decode(s.blurHash,32,32,1),e=document.createElement("canvas");e.width=32,e.height=32;const o=e.getContext("2d"),l=o.createImageData(32,32);l.data.set(t),o.putImageData(l,0,0);const a=r.getContext("2d");let c=i.clientWidth,u=i.clientHeight;c/u>1?c=u*s.aspect:u=c/s.aspect,n(2,r.width=c+2,r),n(2,r.height=u,r),a.drawImage(e,0,0,c+2,u),m(1)}))}()),1==t&&g(s),2==t&&n(6,p=null!==(e=null!=u?u:s.title)&&void 0!==e?e:null)}))}return t.$$set=t=>{"photo"in t&&n(9,s=t.photo),"lazy"in t&&n(0,l=t.lazy),"size"in t&&n(10,a=t.size),"objectFit"in t&&n(1,c=t.objectFit),"altTitle"in t&&n(11,u=t.altTitle)},t.$$.update=()=>{4608&t.$$.dirty&&(null==s?void 0:s.id)!=d&&m(0)},[l,c,r,i,f,h,p,$,m,s,a,u,d,function(t){ct[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(t){ct[t?"unshift":"push"]((()=>{i=t,n(3,i)}))},()=>m(2)]}class Bo extends Vt{constructor(t){super(),Ft(this,t,Oo,So,l,{photo:9,lazy:0,size:10,objectFit:1,altTitle:11})}}function Eo(t){let e,n,o,r,s,l,a,c=t[3]&&Lo(t),u=t[0].hash&&t[0].uniq&&Ao(t),d=t[0].isVideo&&Io();return{c(){e=C("div"),c&&c.c(),n=S(),u&&u.c(),o=S(),d&&d.c(),I(e,"class","navSlot svelte-1rp2yre"),I(e,"style",r=`top: ${t[1].top}px; left: ${t[1].left}px; width: ${t[1].width}px; height: ${t[1].height}px;`),U(e,"selected",t[4])},m(r,i){_(r,e,i),c&&c.m(e,null),j(e,n),u&&u.m(e,null),j(e,o),d&&d.m(e,null),s=!0,l||(a=[B(e,"click",t[5]),B(e,"contextmenu",t[6])],l=!0)},p(t,i){t[3]?c?c.p(t,i):(c=Lo(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),t[0].hash&&t[0].uniq?u?(u.p(t,i),1&i&&Ct(u,1)):(u=Ao(t),u.c(),Ct(u,1),u.m(e,o)):u&&(Pt(),Rt(u,1,1,(()=>{u=null})),Mt()),t[0].isVideo?d||(d=Io(),d.c(),d.m(e,null)):d&&(d.d(1),d=null),(!s||2&i&&r!==(r=`top: ${t[1].top}px; left: ${t[1].left}px; width: ${t[1].width}px; height: ${t[1].height}px;`))&&I(e,"style",r),16&i&&U(e,"selected",t[4])},i(t){s||(Ct(u),s=!0)},o(t){Rt(u),s=!1},d(t){t&&P(e),c&&c.d(),u&&u.d(),d&&d.d(),l=!1,i(a)}}}function Lo(t){let e,n,o;return{c(){e=C("div"),n=C("div"),o=T(t[3]),I(n,"class","textOverlay svelte-1rp2yre"),I(e,"class","textOverlayContainer svelte-1rp2yre")},m(t,r){_(t,e,r),j(e,n),j(n,o)},p(t,e){8&e&&z(o,t[3])},d(t){t&&P(e)}}}function Ao(t){let e,n;return e=new Bo({props:{photo:t[0],size:t[2],altTitle:t[3],objectFit:"cover",lazy:!0}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.photo=t[0]),4&n&&(o.size=t[2]),8&n&&(o.altTitle=t[3]),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Io(t){let e;return{c(){e=C("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><path d="M128,24A104,104,0,1,0,232,128,104.12041,104.12041,0,0,0,128,24Zm36.4375,110.65625-48,32A7.99612,7.99612,0,0,1,104,160V96a7.99612,7.99612,0,0,1,12.4375-6.65625l48,32a7.99959,7.99959,0,0,1,0,13.3125Z"></path></svg>',I(e,"class","videoIndicator svelte-1rp2yre")},m(t,n){_(t,e,n)},d(t){t&&P(e)}}}function No(t){let e,n,o=t[1]&&Eo(t);return{c(){o&&o.c(),e=O()},m(t,r){o&&o.m(t,r),_(t,e,r),n=!0},p(t,[n]){t[1]?o?(o.p(t,n),2&n&&Ct(o,1)):(o=Eo(t),o.c(),Ct(o,1),o.m(e.parentNode,e)):o&&(Pt(),Rt(o,1,1,(()=>{o=null})),Mt())},i(t){n||(Ct(o),n=!0)},o(t){Rt(o),n=!1},d(t){o&&o.d(t),t&&P(e)}}}function zo(t,e,n){let o,r;u(t,Me,(t=>n(7,o=t))),u(t,Re,(t=>n(8,r=t)));let{photo:i=null}=e,{layoutDims:s=null}=e,{size:l="medium"}=e,{textOverlay:a=null}=e,c=!1;return t.$$set=t=>{"photo"in t&&n(0,i=t.photo),"layoutDims"in t&&n(1,s=t.layoutDims),"size"in t&&n(2,l=t.size),"textOverlay"in t&&n(3,a=t.textOverlay)},t.$$.update=()=>{129&t.$$.dirty&&n(4,c=o.indexOf(i)>=0)},[i,s,l,a,c,function(t){r&&uo(t)&&(t.preventDefault(),$(Me,o=c?o.filter((t=>t.id!=i.id)):[...o,i],o))},function(){r&&0==o.length&&$(Me,o=[i],o)},o]}class Ho extends Vt{constructor(t){super(),Ft(this,t,zo,No,l,{photo:0,layoutDims:1,size:2,textOverlay:3})}}function Do(t,e,n){const o=t.slice();return o[18]=e[n],o[20]=n,o}function Fo(e){let n,o;return n=new ln({props:{loader:"UploadZone"}}),n.$on("done",e[8]),{c(){zt(n.$$.fragment)},m(t,e){Ht(n,t,e),o=!0},p:t,i(t){o||(Ct(n.$$.fragment,t),o=!0)},o(t){Rt(n.$$.fragment,t),o=!1},d(t){Dt(n,t)}}}function Vo(e){let n,o;return n=new ln({props:{loader:"NewAlbumPrompt"}}),n.$on("dismissed",e[10]),n.$on("done",e[11]),{c(){zt(n.$$.fragment)},m(t,e){Ht(n,t,e),o=!0},p:t,i(t){o||(Ct(n.$$.fragment,t),o=!0)},o(t){Rt(n.$$.fragment,t),o=!1},d(t){Dt(n,t)}}}function Uo(t){let e,n,o,r,i,s;o=new pn({props:{title:"Add Album",margin:"0 0 0 10px",$$slots:{default:[Go]},$$scope:{ctx:t}}}),o.$on("click",t[12]);let l=t[0]?.length>1&&Wo(t);return{c(){e=C("h2"),e.textContent="Albums",n=S(),zt(o.$$.fragment),r=S(),l&&l.c(),i=O(),I(e,"class","svelte-fpj1v5")},m(t,a){_(t,e,a),_(t,n,a),Ht(o,t,a),_(t,r,a),l&&l.m(t,a),_(t,i,a),s=!0},p(t,e){const n={};2097152&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n),t[0]?.length>1?l?(l.p(t,e),1&e&&Ct(l,1)):(l=Wo(t),l.c(),Ct(l,1),l.m(i.parentNode,i)):l&&(Pt(),Rt(l,1,1,(()=>{l=null})),Mt())},i(t){s||(Ct(o.$$.fragment,t),Ct(l),s=!0)},o(t){Rt(o.$$.fragment,t),Rt(l),s=!1},d(t){t&&P(e),t&&P(n),Dt(o,t),t&&P(r),l&&l.d(t),t&&P(i)}}}function Go(t){let e,n,o,r,i;return{c(){e=R("svg"),n=R("rect"),o=R("circle"),r=R("line"),i=R("line"),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(o,"cx","128"),I(o,"cy","128"),I(o,"r","96"),I(o,"fill","none"),I(o,"stroke","currentColor"),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","24"),I(r,"x1","88"),I(r,"y1","128"),I(r,"x2","168"),I(r,"y2","128"),I(r,"fill","none"),I(r,"stroke","currentColor"),I(r,"stroke-linecap","round"),I(r,"stroke-linejoin","round"),I(r,"stroke-width","24"),I(i,"x1","128"),I(i,"y1","88"),I(i,"x2","128"),I(i,"y2","168"),I(i,"fill","none"),I(i,"stroke","currentColor"),I(i,"stroke-linecap","round"),I(i,"stroke-linejoin","round"),I(i,"stroke-width","24"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256")},m(t,s){_(t,e,s),j(e,n),j(e,o),j(e,r),j(e,i)},d(t){t&&P(e)}}}function Wo(t){let e,n,o;return n=new pn({props:{margin:"0 0 0 0",title:(t[6]?"Exit":"Enter")+" Edit Mode",$$slots:{default:[Zo]},$$scope:{ctx:t}}}),n.$on("click",t[13]),{c(){e=C("div"),zt(n.$$.fragment),I(e,"class","reorderButton svelte-fpj1v5"),U(e,"toggled",t[6])},m(t,r){_(t,e,r),Ht(n,e,null),o=!0},p(t,o){const r={};64&o&&(r.title=(t[6]?"Exit":"Enter")+" Edit Mode"),2097152&o&&(r.$$scope={dirty:o,ctx:t}),n.$set(r),64&o&&U(e,"toggled",t[6])},i(t){o||(Ct(n.$$.fragment,t),o=!0)},o(t){Rt(n.$$.fragment,t),o=!1},d(t){t&&P(e),Dt(n)}}}function Zo(t){let e,n,o,r,i,s;return{c(){e=R("svg"),n=R("rect"),o=R("polyline"),r=R("line"),i=R("polyline"),s=R("line"),I(n,"width","256"),I(n,"height","256"),I(n,"fill","none"),I(o,"points","192 144 224 176 192 208"),I(o,"fill","none"),I(o,"stroke","currentColor"),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","24"),I(r,"x1","32"),I(r,"y1","176"),I(r,"x2","224"),I(r,"y2","176"),I(r,"fill","none"),I(r,"stroke","currentColor"),I(r,"stroke-linecap","round"),I(r,"stroke-linejoin","round"),I(r,"stroke-width","24"),I(i,"points","64 112 32 80 64 48"),I(i,"fill","none"),I(i,"stroke","currentColor"),I(i,"stroke-linecap","round"),I(i,"stroke-linejoin","round"),I(i,"stroke-width","24"),I(s,"x1","224.00006"),I(s,"y1","80"),I(s,"x2","32.00006"),I(s,"y2","80"),I(s,"fill","none"),I(s,"stroke","currentColor"),I(s,"stroke-linecap","round"),I(s,"stroke-linejoin","round"),I(s,"stroke-width","24"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","currentColor"),I(e,"viewBox","0 0 256 256")},m(t,l){_(t,e,l),j(e,n),j(e,o),j(e,r),j(e,i),j(e,s)},d(t){t&&P(e)}}}function qo(t){let e,n,o,r;const i=[Ko,Jo],s=[];function l(t,e){return t[6]?0:1}return e=l(t),n=s[e]=i[e](t),{c(){n.c(),o=O()},m(t,n){s[e].m(t,n),_(t,o,n),r=!0},p(t,r){let a=e;e=l(t),e===a?s[e].p(t,r):(Pt(),Rt(s[a],1,1,(()=>{s[a]=null})),Mt(),n=s[e],n?n.p(t,r):(n=s[e]=i[e](t),n.c()),Ct(n,1),n.m(o.parentNode,o))},i(t){r||(Ct(n),r=!0)},o(t){Rt(n),r=!1},d(t){s[e].d(t),t&&P(o)}}}function Jo(t){let e,n,o,r,i,s=0==t[0].length&&Yo(),l=t[4]&&Xo(t);return{c(){e=C("div"),s&&s.c(),n=S(),l&&l.c(),I(e,"class","albumListDisplay svelte-fpj1v5"),I(e,"style",o=`height: ${t[4]?.containerHeight||0}px;`),$t((()=>t[14].call(e)))},m(o,a){_(o,e,a),s&&s.m(e,null),j(e,n),l&&l.m(e,null),r=V(e,t[14].bind(e)),i=!0},p(t,r){0==t[0].length?s||(s=Yo(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),t[4]?l?(l.p(t,r),16&r&&Ct(l,1)):(l=Xo(t),l.c(),Ct(l,1),l.m(e,null)):l&&(Pt(),Rt(l,1,1,(()=>{l=null})),Mt()),(!i||16&r&&o!==(o=`height: ${t[4]?.containerHeight||0}px;`))&&I(e,"style",o)},i(t){i||(Ct(l),i=!0)},o(t){Rt(l),i=!1},d(t){t&&P(e),s&&s.d(),l&&l.d(),r()}}}function Ko(t){let e,n;return e=new ln({props:{loader:"EditableLayout",photoList:t[1]}}),e.$on("reordered",t[9]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.photoList=t[1]),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Yo(t){let e;return{c(){e=C("div"),e.textContent="(No albums on this site… yet.)"},m(t,n){_(t,e,n)},d(t){t&&P(e)}}}function Xo(t){let e,n;return e=new go({props:{photos:t[1],$$slots:{default:[er]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.photos=t[1]),2097171&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Qo(t){let e,n,o;return e=new Ho({props:{size:"medium",photo:t[1][t[20]],layoutDims:t[4].boxes[t[20]],textOverlay:t[18].title}}),{c(){zt(e.$$.fragment),n=S()},m(t,r){Ht(e,t,r),_(t,n,r),o=!0},p(t,n){const o={};2&n&&(o.photo=t[1][t[20]]),16&n&&(o.layoutDims=t[4].boxes[t[20]]),1&n&&(o.textOverlay=t[18].title),e.$set(o)},i(t){o||(Ct(e.$$.fragment,t),o=!0)},o(t){Rt(e.$$.fragment,t),o=!1},d(t){Dt(e,t),t&&P(n)}}}function tr(t){let e,n;return e=new ye({props:{to:`/album/${t[18].slug}`,$$slots:{default:[Qo]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.to=`/album/${t[18].slug}`),2097171&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function er(t){let e,n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=tr(Do(t,o,e));const i=t=>Rt(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=O()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);_(t,e,o),n=!0},p(t,n){if(19&n){let s;for(o=t[0],s=0;s<o.length;s+=1){const i=Do(t,o,s);r[s]?(r[s].p(i,n),Ct(r[s],1)):(r[s]=tr(i),r[s].c(),Ct(r[s],1),r[s].m(e.parentNode,e))}for(Pt(),s=o.length;s<r.length;s+=1)i(s);Mt()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)Ct(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Rt(r[t]);n=!1},d(t){M(r,t),t&&P(e)}}}function nr(t){let e,n,o,r,i,s,l=t[3]&&!t[6]&&Fo(t),a=t[5]&&Vo(t),c=t[3]&&Uo(t),u=t[0]&&qo(t);return{c(){l&&l.c(),e=S(),a&&a.c(),n=S(),o=C("div"),r=C("div"),c&&c.c(),i=S(),u&&u.c(),I(r,"class","header svelte-fpj1v5"),I(o,"class","albumList svelte-fpj1v5")},m(t,d){l&&l.m(t,d),_(t,e,d),a&&a.m(t,d),_(t,n,d),_(t,o,d),j(o,r),c&&c.m(r,null),j(o,i),u&&u.m(o,null),s=!0},p(t,[i]){t[3]&&!t[6]?l?(l.p(t,i),72&i&&Ct(l,1)):(l=Fo(t),l.c(),Ct(l,1),l.m(e.parentNode,e)):l&&(Pt(),Rt(l,1,1,(()=>{l=null})),Mt()),t[5]?a?(a.p(t,i),32&i&&Ct(a,1)):(a=Vo(t),a.c(),Ct(a,1),a.m(n.parentNode,n)):a&&(Pt(),Rt(a,1,1,(()=>{a=null})),Mt()),t[3]?c?(c.p(t,i),8&i&&Ct(c,1)):(c=Uo(t),c.c(),Ct(c,1),c.m(r,null)):c&&(Pt(),Rt(c,1,1,(()=>{c=null})),Mt()),t[0]?u?(u.p(t,i),1&i&&Ct(u,1)):(u=qo(t),u.c(),Ct(u,1),u.m(o,null)):u&&(Pt(),Rt(u,1,1,(()=>{u=null})),Mt())},i(t){s||(Ct(l),Ct(a),Ct(c),Ct(u),s=!0)},o(t){Rt(l),Rt(a),Rt(c),Rt(u),s=!1},d(t){l&&l.d(t),t&&P(e),a&&a.d(t),t&&P(n),t&&P(o),c&&c.d(),u&&u.d()}}}function or(t,e,n){let o;u(t,Re,(t=>n(3,o=t)));var r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};let i,s,l;function a(t){return r(this,void 0,void 0,(function*(){const e=yield Te("/album/list",{authorize:t});e.success?n(0,i=e.data):console.error(e)}))}let c=null;let d=!1,f=!1;return t.$$.update=()=>{8&t.$$.dirty&&a(o),1&t.$$.dirty&&i&&n(1,s=i.map((t=>{if(t.coverPhoto){const e=Object.assign({},t.coverPhoto);return e.id=t.id,e.title=t.title,e}return{id:t.id,title:t.title,aspect:4/3,hash:"",uniq:"",blurHash:"",isVideo:!1,uploadTimeStamp:0,uploadedBy:0,originalFilename:"",size:0,width:0,height:0,tags:[],make:null,model:null,lens:null,mime:null,creationDate:null,subjectArea:null,aperture:null,iso:null,shutterSpeed:null,gpsLat:null,gpsLon:null,gpsAlt:null}}))),7&t.$$.dirty&&i&&function(t,e){if(!t||!e)return;const o=e.map((t=>null!=t?t.aspect:4/3));n(4,c=io(o,{targetRowHeight:300,containerWidth:t,containerPadding:10,widowLayoutStyle:"center"}))}(l,s)},[i,s,l,o,c,d,f,a,function(t){t.detail.numFiles>0&&Yt("/album/unsorted")},function(t){return r(this,void 0,void 0,(function*(){const e=yield Te("/album/reorderList/",{params:{newOrdering:t.detail.newPhotos.map((t=>t.id))},method:"POST",authorize:!0});e.success?n(1,s=t.detail.newPhotos):console.error(e)}))},()=>n(5,d=!1),()=>{n(5,d=!1),a(o)},()=>n(5,d=!0),()=>{n(6,f=!f)},function(){l=this.clientWidth,n(2,l)}]}class rr extends Vt{constructor(t){super(),Ft(this,t,or,nr,l,{})}}function ir(e){let n;return{c(){n=C("div"),n.innerHTML='<div class="error svelte-197tbwd">404</div> \n    <div class="explain svelte-197tbwd">There’s nothing here…</div>',I(n,"class","notFound svelte-197tbwd")},m(t,e){_(t,n,e)},p:t,i:t,o:t,d(t){t&&P(n)}}}class sr extends Vt{constructor(t){super(),Ft(this,t,null,ir,l,{})}}const{document:lr}=Et;function ar(t){let e,n;return e=new rr({}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function cr(e){let n,o;return n=new ln({props:{loader:"SetupPage"}}),{c(){zt(n.$$.fragment)},m(t,e){Ht(n,t,e),o=!0},p:t,i(t){o||(Ct(n.$$.fragment,t),o=!0)},o(t){Rt(n.$$.fragment,t),o=!1},d(t){Dt(n,t)}}}function ur(t){let e,n;return e=new ln({props:{loader:"AlbumIndex",albumSlug:t[9].albumSlug}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};512&n&&(o.albumSlug=t[9].albumSlug),e.$set(o)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function dr(t){let e,n;return e=new sr({}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function fr(t){let e,n,o,r,i,s,l,a,c,u;return e=new Qn({}),e.$on("fullScreenOn",t[4]),e.$on("fullScreenOff",t[5]),o=new me({props:{path:"/",$$slots:{default:[ar]},$$scope:{ctx:t}}}),i=new me({props:{path:"/setup",$$slots:{default:[cr]},$$scope:{ctx:t}}}),l=new me({props:{path:"/album/:albumSlug/*",$$slots:{default:[ur,({params:t})=>({9:t}),({params:t})=>t?512:0]},$$scope:{ctx:t}}}),c=new me({props:{$$slots:{default:[dr]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment),n=S(),zt(o.$$.fragment),r=S(),zt(i.$$.fragment),s=S(),zt(l.$$.fragment),a=S(),zt(c.$$.fragment)},m(t,d){Ht(e,t,d),_(t,n,d),Ht(o,t,d),_(t,r,d),Ht(i,t,d),_(t,s,d),Ht(l,t,d),_(t,a,d),Ht(c,t,d),u=!0},p(t,e){const n={};1024&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const r={};1024&e&&(r.$$scope={dirty:e,ctx:t}),i.$set(r);const s={};1536&e&&(s.$$scope={dirty:e,ctx:t}),l.$set(s);const a={};1024&e&&(a.$$scope={dirty:e,ctx:t}),c.$set(a)},i(t){u||(Ct(e.$$.fragment,t),Ct(o.$$.fragment,t),Ct(i.$$.fragment,t),Ct(l.$$.fragment,t),Ct(c.$$.fragment,t),u=!0)},o(t){Rt(e.$$.fragment,t),Rt(o.$$.fragment,t),Rt(i.$$.fragment,t),Rt(l.$$.fragment,t),Rt(c.$$.fragment,t),u=!1},d(t){Dt(e,t),t&&P(n),Dt(o,t),t&&P(r),Dt(i,t),t&&P(s),Dt(l,t),t&&P(a),Dt(c,t)}}}function hr(t){let e;function n(t,e){return t[0].promo?gr:pr}let o=n(t),r=o(t);return{c(){e=C("div"),r.c(),I(e,"class","promo svelte-1pvat3c")},m(t,n){_(t,e,n),r.m(e,null)},p(t,i){o!==(o=n(t))&&(r.d(1),r=o(t),r&&(r.c(),r.m(e,null)))},d(t){t&&P(e),r.d()}}}function pr(t){let e;return{c(){e=C("div"),e.textContent=" "},m(t,n){_(t,e,n)},d(t){t&&P(e)}}}function gr(t){let e;return{c(){e=C("a"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="20" height="20" viewBox="0 0 24 24" class="svelte-1pvat3c"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>\n                    Pozzo Gallery',I(e,"href","https://github.com/sjml/pozzo"),I(e,"target","_"),I(e,"class","svelte-1pvat3c")},m(t,n){_(t,e,n)},d(t){t&&P(e)}}}function $r(t){let e,n,o,r,i,s;lr.title=e="\n        "+t[2]+"\n    ",r=new ce({props:{$$slots:{default:[fr]},$$scope:{ctx:t}}});let l=null==t[1]&&hr(t);return{c(){n=S(),o=C("div"),zt(r.$$.fragment),i=S(),l&&l.c(),I(o,"class","container svelte-1pvat3c")},m(t,e){_(t,n,e),_(t,o,e),Ht(r,o,null),j(o,i),l&&l.m(o,null),s=!0},p(t,[n]){(!s||4&n)&&e!==(e="\n        "+t[2]+"\n    ")&&(lr.title=e);const i={};1024&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i),null==t[1]?l?l.p(t,n):(l=hr(t),l.c(),l.m(o,null)):l&&(l.d(1),l=null)},i(t){s||(Ct(r.$$.fragment,t),s=!0)},o(t){Rt(r.$$.fragment,t),s=!1},d(t){t&&P(n),t&&P(o),Dt(r),l&&l.d()}}}function mr(t){t?document.documentElement.requestFullscreen():document.exitFullscreen()}function wr(t,e,n){let o,r,i,s;u(t,xe,(t=>n(0,o=t))),u(t,ke,(t=>n(6,r=t))),u(t,_e,(t=>n(3,i=t))),u(t,Pe,(t=>n(1,s=t)));var l=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};nt((function(){return l(this,void 0,void 0,(function*(){const t=yield Te("/info");t.success?(Object.assign(o,t.data),xe.set(o),o.siteTitle):console.error(t),document.addEventListener("fullscreenchange",(()=>{$(ke,r=null!=document.fullscreenElement,r)}))}))}));let a="Pozzo";return t.$$.update=()=>{if(15&t.$$.dirty){const t=o.siteTitle;"string"==typeof t&&(n(2,a=t),i&&(n(2,a+=` | ${i.title}`),s&&n(2,a+=` | ${s.title}`)))}},[o,s,a,i,()=>mr(!0),()=>mr(!1)]}const vr=new class extends Vt{constructor(t){super(),Ft(this,t,wr,$r,l,{})}}({target:document.body,props:{}});export{i as $,I as A,Me as B,rt as C,io as D,U as E,j as F,pn as G,W as H,R as I,T as J,z as K,ln as L,$t as M,B as N,H as O,V as P,M as Q,Te as R,Vt as S,go as T,ye as U,Ho as V,s as W,Q as X,X as Y,m as Z,At as _,Rt as a,Lt as a0,co as a1,E as a2,dn as a3,gt as a4,ct as a5,Et as a6,Bt as a7,an as a8,Pe as a9,be as aa,lo as ab,ao as ac,so as ad,Bo as ae,xe as af,Ce as ag,je as ah,Se as ai,St as aj,Ot as ak,lt as al,vr as am,_ as b,zt as c,Dt as d,O as e,Mt as f,Pt as g,P as h,Ft as i,u as j,_e as k,Re as l,Ht as m,$ as n,ot as o,Yt as p,ce as q,me as r,l as s,Ct as t,S as u,t as v,eo as w,to as x,nt as y,C as z};
