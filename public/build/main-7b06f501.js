function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function a(t){let e;return l(t,(t=>e=t))(),e}function c(t,e,n){t.$$.on_destroy.push(l(e,n))}function u(t,e,n,o){if(t){const r=d(t,e,n,o);return t[0](r)}}function d(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function f(t,e,n,o,r,i,s){const l=function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(e,o,r,i);if(l){const r=d(e,n,o,s);t.p(r,l)}}function h(t,e,n=e){return t.set(n),e}function p(e){return e&&i(e.destroy)?e.destroy:t}const m="undefined"!=typeof window;let g=m?()=>window.performance.now():()=>Date.now(),$=m?t=>requestAnimationFrame(t):t;const w=new Set;function v(t){w.forEach((e=>{e.c(t)||(w.delete(e),e.f())})),0!==w.size&&$(v)}function b(t){let e;return 0===w.size&&$(v),{promise:new Promise((n=>{w.add(e={c:t,f:n})})),abort(){w.delete(e)}}}function y(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function j(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function M(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function C(t){return document.createTextNode(t)}function P(){return C(" ")}function R(){return C("")}function S(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function T(t){return function(e){return e.preventDefault(),t.call(this,e)}}function q(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function z(t){return function(e){e.target===this&&t.call(this,e)}}function H(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function O(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function B(t,e){t.value=null==e?"":e}let N;function L(){if(void 0===N){N=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){N=!0}}return N}function E(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=_("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=L();let r;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=S(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{r=S(n.contentWindow,"resize",e)}),y(t,n),()=>{(o||r&&n.contentWindow)&&r(),x(n)}}function A(t,e,n){t.classList[n?"add":"remove"](e)}function I(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class D{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=_(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)k(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(x)}}const F=new Set;let W,V=0;function G(t,e,n,o,r,i,s,l=0){const a=16.666/o;let c="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*i(t);c+=100*t+`%{${s(o,1-o)}}\n`}const u=c+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,f=t.ownerDocument;F.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(_("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${o}ms linear ${r}ms 1 both`,V+=1,d}function U(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),V-=r,V||$((()=>{V||(F.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),F.clear())})))}function Y(n,o,r,i){if(!o)return t;const s=n.getBoundingClientRect();if(o.left===s.left&&o.right===s.right&&o.top===s.top&&o.bottom===s.bottom)return t;const{delay:l=0,duration:a=300,easing:c=e,start:u=g()+l,end:d=u+a,tick:f=t,css:h}=r(n,{from:o,to:s},i);let p,m=!0,$=!1;function w(){h&&U(n,p),m=!1}return b((t=>{if(!$&&t>=u&&($=!0),$&&t>=d&&(f(1,0),w()),!m)return!1;if($){const e=0+1*c((t-u)/a);f(e,1-e)}return!0})),h&&(p=G(n,0,1,a,l,c,h)),l||($=!0),f(0,1),w}function Z(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),r="none"===o.transform?"":o.transform;t.style.transform=`${r} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,r)}}function J(t){W=t}function K(){if(!W)throw new Error("Function called outside component initialization");return W}function X(t){K().$$.on_mount.push(t)}function Q(t){K().$$.on_destroy.push(t)}function tt(){const t=K();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=I(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}function et(t){return K().$$.context.get(t)}function nt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const ot=[],rt=[],it=[],st=[],lt=Promise.resolve();let at=!1;function ct(){at||(at=!0,lt.then(pt))}function ut(){return ct(),lt}function dt(t){it.push(t)}let ft=!1;const ht=new Set;function pt(){if(!ft){ft=!0;do{for(let t=0;t<ot.length;t+=1){const e=ot[t];J(e),mt(e.$$)}for(J(null),ot.length=0;rt.length;)rt.pop()();for(let t=0;t<it.length;t+=1){const e=it[t];ht.has(e)||(ht.add(e),e())}it.length=0}while(ot.length);for(;st.length;)st.pop()();at=!1,ft=!1,ht.clear()}}function mt(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(dt)}}let gt;function $t(){return gt||(gt=Promise.resolve(),gt.then((()=>{gt=null}))),gt}function wt(t,e,n){t.dispatchEvent(I(`${e?"intro":"outro"}${n}`))}const vt=new Set;let bt;function yt(){bt={r:0,c:[],p:bt}}function kt(){bt.r||r(bt.c),bt=bt.p}function xt(t,e){t&&t.i&&(vt.delete(t),t.i(e))}function jt(t,e,n,o){if(t&&t.o){if(vt.has(t))return;vt.add(t),bt.c.push((()=>{vt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const _t={duration:0};function Mt(n,o,r){let s,l,a=o(n,r),c=!1,u=0;function d(){s&&U(n,s)}function f(){const{delay:o=0,duration:r=300,easing:i=e,tick:f=t,css:h}=a||_t;h&&(s=G(n,0,1,r,o,i,h,u++)),f(0,1);const p=g()+o,m=p+r;l&&l.abort(),c=!0,dt((()=>wt(n,!0,"start"))),l=b((t=>{if(c){if(t>=m)return f(1,0),wt(n,!0,"end"),d(),c=!1;if(t>=p){const e=i((t-p)/r);f(e,1-e)}}return c}))}let h=!1;return{start(){h||(U(n),i(a)?(a=a(),$t().then(f)):f())},invalidate(){h=!1},end(){c&&(d(),c=!1)}}}function Ct(n,o,s){let l,a=o(n,s),c=!0;const u=bt;function d(){const{delay:o=0,duration:i=300,easing:s=e,tick:d=t,css:f}=a||_t;f&&(l=G(n,1,0,i,o,s,f));const h=g()+o,p=h+i;dt((()=>wt(n,!1,"start"))),b((t=>{if(c){if(t>=p)return d(0,1),wt(n,!1,"end"),--u.r||r(u.c),!1;if(t>=h){const e=s((t-h)/i);d(1-e,e)}}return c}))}return u.r+=1,i(a)?$t().then((()=>{a=a(),d()})):d(),{end(t){t&&a.tick&&a.tick(1,0),c&&(l&&U(n,l),c=!1)}}}function Pt(n,o,s,l){let a=o(n,s),c=l?0:1,u=null,d=null,f=null;function h(){f&&U(n,f)}function p(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function m(o){const{delay:i=0,duration:s=300,easing:l=e,tick:m=t,css:$}=a||_t,w={start:g()+i,b:o};o||(w.group=bt,bt.r+=1),u||d?d=w:($&&(h(),f=G(n,c,o,s,i,l,$)),o&&m(0,1),u=p(w,s),dt((()=>wt(n,o,"start"))),b((t=>{if(d&&t>d.start&&(u=p(d,s),d=null,wt(n,u.b,"start"),$&&(h(),f=G(n,c,u.b,u.duration,0,l,a.css))),u)if(t>=u.end)m(c=u.b,1-c),wt(n,u.b,"end"),d||(u.b?h():--u.group.r||r(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;c=u.a+u.d*l(e/u.duration),m(c,1-c)}return!(!u&&!d)})))}return{run(t){i(a)?$t().then((()=>{a=a(),m(t)})):m(t)},end(){h(),u=d=null}}}function Rt(t,e){const n=e.token={};function o(t,o,r,i){if(e.token!==n)return;e.resolved=i;let s=e.ctx;void 0!==r&&(s=s.slice(),s[r]=i);const l=t&&(e.current=t)(s);let a=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(yt(),jt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),kt())})):e.block.d(1),l.c(),xt(l,1),l.m(e.mount(),e.anchor),a=!0),e.block=l,e.blocks&&(e.blocks[o]=l),a&&pt()}if((r=t)&&"object"==typeof r&&"function"==typeof r.then){const n=K();if(t.then((t=>{J(n),o(e.then,1,e.value,t),J(null)}),(t=>{if(J(n),o(e.catch,2,e.error,t),J(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var r}const St="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Tt(t,e){t.f(),function(t,e){t.d(1),e.delete(t.key)}(t,e)}function qt(t,e,n,o,r,i,s,l,a,c,u,d){let f=t.length,h=i.length,p=f;const m={};for(;p--;)m[t[p].key]=p;const g=[],$=new Map,w=new Map;for(p=h;p--;){const t=d(r,i,p),l=n(t);let a=s.get(l);a?o&&a.p(t,e):(a=c(l,t),a.c()),$.set(l,g[p]=a),l in m&&w.set(l,Math.abs(p-m[l]))}const v=new Set,b=new Set;function y(t){xt(t,1),t.m(l,u),s.set(t.key,t),u=t.first,h--}for(;f&&h;){const e=g[h-1],n=t[f-1],o=e.key,r=n.key;e===n?(u=e.first,f--,h--):$.has(r)?!s.has(o)||v.has(o)?y(e):b.has(r)?f--:w.get(o)>w.get(r)?(b.add(o),y(e)):(v.add(r),f--):(a(n,s),f--)}for(;f--;){const e=t[f];$.has(e.key)||a(e,s)}for(;h;)y(g[h-1]);return g}function zt(t){t&&t.c()}function Ht(t,e,o){const{fragment:s,on_mount:l,on_destroy:a,after_update:c}=t.$$;s&&s.m(e,o),dt((()=>{const e=l.map(n).filter(i);a?a.push(...e):r(e),t.$$.on_mount=[]})),c.forEach(dt)}function Ot(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Bt(e,n,i,s,l,a,c=[-1]){const u=W;J(e);const d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:c,skip_bound:!1};let f=!1;if(d.ctx=i?i(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),f&&function(t,e){-1===t.$$.dirty[0]&&(ot.push(t),ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),f=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(x)}else d.fragment&&d.fragment.c();n.intro&&xt(e.$$.fragment),Ht(e,n.target,n.anchor),pt()}J(u)}class Nt{$destroy(){Ot(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Lt=[];function Et(e,n=t){let o;const r=[];function i(t){if(s(e,t)&&(e=t,o)){const t=!Lt.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),Lt.push(n,e)}if(t){for(let t=0;t<Lt.length;t+=2)Lt[t][0](Lt[t+1]);Lt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,l=t){const a=[s,l];return r.push(a),1===r.length&&(o=n(i)||t),s(e),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}function At(t,e=!1){return(t=t.slice(t.startsWith("/#")?2:0,t.endsWith("/*")?-2:void 0)).startsWith("/")||(t="/"+t),"/"===t&&(t=""),e&&!t.endsWith("/")&&(t+="/"),t}function It(t,e,n){if(""===n)return t;if("/"===n[0])return n;let o=t=>t.split("/").filter((t=>""!==t)),r=o(t);return"/"+(e?o(e):[]).map(((t,e)=>r[e])).join("/")+"/"+n}function Dt(t,e,n,o){let r=[e,"data-"+e].reduce(((e,o)=>{let r=t.getAttribute(o);return n&&t.removeAttribute(o),null===r?e:r}),!1);return!o&&""===r||(r||o||!1)}function Ft(t){let e=t.split("&").map((t=>t.split("="))).reduce(((t,e)=>{let n=e[0];if(!n)return t;let o=!(e.length>1)||e[e.length-1];return"string"==typeof o&&o.includes(",")&&(o=o.split(",")),void 0===t[n]?t[n]=[o]:t[n].push(o),t}),{});return Object.entries(e).reduce(((t,e)=>(t[e[0]]=e[1].length>1?e[1]:e[1][0],t)),{})}var Wt,Vt,Gt={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run:function(t,e,n,o){return 1===t?e&&e():2===t?n&&n():o&&o()},getDeafault:function(){return window&&"srcdoc"!==window.location.pathname?1:3}},Ut=function(){let t,e=Gt.getDeafault(),n=n=>t&&t(Yt(e));function o(t){t&&(e=t),window.onhashchange=window.onpopstate=Vt=null,e!==Gt.OFF&&Gt.run(e,(t=>window.onpopstate=n),(t=>window.onhashchange=n))&&n()}return{mode:t=>o(t),get:t=>Yt(e),go(t){(function(t,e){Gt.run(t,(t=>history.pushState({},"",e)),(t=>window.location.hash=e),(t=>Vt=e))})(e,t),n()},start(e){t=e,o()},stop(){t=null,o(Gt.OFF)}}}();function Yt(t){let e=Wt,n=Wt=Gt.run(t,(t=>window.location.pathname+window.location.search),(t=>String(window.location.hash.slice(1)||"/")),(t=>Vt||"/")),o=n.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return{url:n,from:e,path:o[1]||"",query:Ft(o[2]||""),hash:o[3]||""}}function Zt(t){let e=et("tinro");e&&(e.exact||e.fallback)&&function(t){throw new Error("[Tinro] "+t)}(`${t.fallback?"<Route fallback>":`<Route path="${t.path}">`}  can't be inside ${e.fallback?"<Route fallback>":`<Route path="${e.path||"/"}"> with exact path`}`);let n=t.fallback?"fallbacks":"childs",o=Et({}),r={router:{},exact:!1,pattern:null,meta:{},parent:e,fallback:t.fallback,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,update(t){r.exact=!t.path.endsWith("/*"),r.pattern=At(`${r.parent&&r.parent.pattern||""}${t.path}`),r.redirect=t.redirect,r.firstmatch=t.firstmatch,r.breadcrumb=t.breadcrumb,r.match()},register:()=>{if(r.parent)return r.parent[n].add(r),()=>{r.parent[n].delete(r),r.router.un&&r.router.un()}},show:()=>{t.onShow(),!r.fallback&&r.parent&&r.parent.activeChilds.add(r)},hide:()=>{t.onHide(),!r.fallback&&r.parent&&r.parent.activeChilds.delete(r)},match:async()=>{r.matched=!1;let{path:e,url:n,from:i,query:s}=r.router,l=function(t,e){t=At(t,!0),e=At(e,!0);let n=[],o={},r=!0,i=t.split("/").map((t=>t.startsWith(":")?(n.push(t.slice(1)),"([^\\/]+)"):t)).join("\\/"),s=e.match(new RegExp(`^${i}$`));return s||(r=!1,s=e.match(new RegExp(`^${i}`))),s?(n.forEach(((t,e)=>o[t]=s[e+1])),{exact:r,params:o,part:s[0].slice(0,-1)}):null}(r.pattern,e);if(!r.fallback&&l&&r.redirect&&(!r.exact||r.exact&&l.exact))return await ut(),Kt.goto(It(e,r.parent&&r.parent.pattern,r.redirect));if(r.meta=l&&{from:i,url:n,query:s,match:l.part,pattern:r.pattern,breadcrumbs:r.parent&&r.parent.meta&&r.parent.meta.breadcrumbs.slice()||[],params:l.params,subscribe:o.subscribe},r.breadcrumb&&r.meta&&r.meta.breadcrumbs.push({name:r.breadcrumb,path:l.part}),o.set(r.meta),!l||r.fallback||!(!r.exact||r.exact&&l.exact)||r.parent&&r.parent.firstmatch&&r.parent.matched?r.hide():(t.onMeta(r.meta),r.parent&&(r.parent.matched=!0),r.show()),await ut(),l&&!r.fallback&&(r.childs.size>0&&0==r.activeChilds.size||0==r.childs.size&&r.fallbacks.size>0)){let t=r;for(;0==t.fallbacks.size;)if(t=t.parent,!t)return;t&&t.fallbacks.forEach((t=>{t.redirect?Kt.goto(It("/",t.parent&&t.parent.pattern,t.redirect)):t.show()}))}}};return i="tinro",s=r,K().$$.context.set(i,s),X((()=>r.register())),r.router.un=Kt.subscribe((t=>{r.router.path=t.path,r.router.url=t.url,r.router.query=t.query,r.router.from=t.from,null!==r.pattern&&r.match()})),r;var i,s}function Jt(){return et("tinro").meta}var Kt=function(){let{subscribe:t}=Et(Ut.get(),(t=>{Ut.start(t);let e=function(t){let e=e=>{let n=e.target.closest("a[href]"),o=n&&Dt(n,"target",!1,"_self"),r=n&&Dt(n,"tinro-ignore"),i=e.ctrlKey||e.metaKey||e.altKey||e.shiftKey;if("_self"==o&&!r&&!i&&n){let o=n.getAttribute("href").replace(/^\/#/,"");/^\/\/|^[a-zA-Z]+:/.test(o)||(e.preventDefault(),t(o.startsWith("/")?o:n.href.replace(window.location.origin,"")))}};return addEventListener("click",e),()=>removeEventListener("click",e)}(Ut.go);return()=>{Ut.stop(),e()}}));return{subscribe:t,goto:t=>Ut.go(t),params:Xt,meta:Jt,useHashNavigation:t=>Ut.mode(t?Gt.HASH:Gt.HISTORY),mode:{hash:()=>Ut.mode(Gt.HASH),history:()=>Ut.mode(Gt.HISTORY),memory:()=>Ut.mode(Gt.MEMORY)}}}();function Xt(){return et("tinro").meta.params}const Qt=t=>({params:2&t,meta:4&t}),te=t=>({params:t[1],meta:t[2]});function ee(t){let e;const n=t[9].default,o=u(n,t,t[8],te);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&262&e&&f(o,n,t,t[8],e,Qt,te)},i(t){e||(xt(o,t),e=!0)},o(t){jt(o,t),e=!1},d(t){o&&o.d(t)}}}function ne(t){let e,n,o=t[0]&&ee(t);return{c(){o&&o.c(),e=R()},m(t,r){o&&o.m(t,r),k(t,e,r),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&xt(o,1)):(o=ee(t),o.c(),xt(o,1),o.m(e.parentNode,e)):o&&(yt(),jt(o,1,1,(()=>{o=null})),kt())},i(t){n||(xt(o),n=!0)},o(t){jt(o),n=!1},d(t){o&&o.d(t),t&&x(e)}}}function oe(t,e,n){let{$$slots:o={},$$scope:r}=e,{path:i="/*"}=e,{fallback:s=!1}=e,{redirect:l=!1}=e,{firstmatch:a=!1}=e,{breadcrumb:c=null}=e,u=!1,d={},f={};const h=Zt({fallback:s,onShow(){n(0,u=!0)},onHide(){n(0,u=!1)},onMeta(t){n(2,f=t),n(1,d=f.params)}});return t.$$set=t=>{"path"in t&&n(3,i=t.path),"fallback"in t&&n(4,s=t.fallback),"redirect"in t&&n(5,l=t.redirect),"firstmatch"in t&&n(6,a=t.firstmatch),"breadcrumb"in t&&n(7,c=t.breadcrumb),"$$scope"in t&&n(8,r=t.$$scope)},t.$$.update=()=>{232&t.$$.dirty&&h.update({path:i,redirect:l,firstmatch:a,breadcrumb:c})},[u,d,f,i,s,l,a,c,r,o]}class re extends Nt{constructor(t){super(),Bt(this,t,oe,ne,s,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}const ie=Et({apiUri:`${location.origin}/api`,formats:[],siteTitle:!1,sizes:[],promo:!1,maxUploadBytes:0,simultaneousUploads:1}),se=Et(!1),le=Et(!1),ae=Et(!1),ce=Et(!1),ue=Et(null),de=Et(null),fe=Et([]),he=Et(localStorage.getItem("pozzoLoginJWT")||"");he.subscribe((t=>{localStorage.setItem("pozzoLoginJWT",t)}));const pe=function(e,n,o){const s=!Array.isArray(e),a=s?[e]:e,c=n.length<2;return{subscribe:Et(o,(e=>{let o=!1;const u=[];let d=0,f=t;const h=()=>{if(d)return;f();const o=n(s?u[0]:u,e);c?e(o):f=i(o)?o:t},p=a.map(((t,e)=>l(t,(t=>{u[e]=t,d&=~(1<<e),o&&h()}),(()=>{d|=1<<e}))));return o=!0,h(),function(){r(p),f()}})).subscribe}}(he,(t=>t.length>0));async function me(t,e){var n;const o={};e=null!=e?e:{},o.method=null!==(n=e.method)&&void 0!==n?n:"GET",o.cache="no-cache",e.params&&(o.body=JSON.stringify(e.params)),e.authorize&&a(he).length>0&&(o.headers={Authorization:`Bearer ${a(he)}`});const r=await fetch(`${a(ie).apiUri}${t}`,o);try{if(r.ok){const t=await r.json();return{success:!0,code:r.status,data:t}}{const t=await r.json();return{success:!1,code:r.status,data:t}}}catch(t){return{success:!1,code:400,data:{error:t,res:r}}}}async function ge(t,e=null,n=null){return new Promise(((o,r)=>{0==a(he).length&&o({success:!1,code:403,data:{error:"Unauthorized"}});const i=t.file,s=`${a(ie).apiUri}/upload`,l=new XMLHttpRequest,c=new FormData;l.upload.onprogress=t=>{if(t.lengthComputable){const o=t.loaded/t.total;e&&e(o),n&&o>=1&&n(!0)}},l.upload.onload=t=>{n&&n(!0)},l.upload.onerror=t=>{n&&n(!1)},l.upload.onabort=t=>{n&&n(!1)},l.onload=t=>{l.status>=200&&l.status<300?o({success:!0,code:l.status,data:JSON.parse(l.responseText)}):o({success:!1,code:l.status,data:JSON.parse(l.responseText)})},l.onerror=t=>{o({success:!1,code:500,data:{error:l.responseText}})},l.open("POST",s,!0),l.setRequestHeader("Authorization",`Bearer ${a(he)}`);const u={order:t.index};null!=t.targetAlbum&&(u.albumID=t.targetAlbum),c.append("data",JSON.stringify(u)),c.append("mediaUp",i),l.send(c)}))}function $e(t,{delay:n=0,duration:o=400,easing:r=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*i}}function we(t){let e,n,o,i,s;const l=t[2].default,a=u(l,t,t[1],null);return{c(){e=_("div"),a&&a.c(),H(e,"class","overlay svelte-fvdid7")},m(n,r){k(n,e,r),a&&a.m(e,null),o=!0,i||(s=[S(e,"mousedown",q(t[3])),S(e,"mouseup",q(t[4])),S(e,"click",z(t[5]))],i=!0)},p(t,[e]){a&&a.p&&2&e&&f(a,l,t,t[1],e,null,null)},i(t){o||(xt(a,t),dt((()=>{n||(n=Pt(e,$e,{duration:200},!0)),n.run(1)})),o=!0)},o(t){jt(a,t),n||(n=Pt(e,$e,{duration:200},!1)),n.run(0),o=!1},d(t){t&&x(e),a&&a.d(t),t&&n&&n.end(),i=!1,r(s)}}}function ve(t,e,n){let o;c(t,ce,(t=>n(6,o=t)));let{$$slots:r={},$$scope:i}=e;const s=tt();X((()=>h(ce,o=!0,o))),Q((()=>h(ce,o=!1,o)));return t.$$set=t=>{"$$scope"in t&&n(1,i=t.$$scope)},[s,i,r,function(e){nt(t,e)},function(e){nt(t,e)},()=>s("clickedOutside")]}class be extends Nt{constructor(t){super(),Bt(this,t,ve,we,s,{})}}function ye(t){let e,n,o,r,i;const s=t[6].default,l=u(s,t,t[5],null);return{c(){e=_("div"),l&&l.c(),H(e,"class","button svelte-ri7xwj"),H(e,"title",t[0]),H(e,"style",n=`margin: ${t[4]};`),A(e,"isBig",t[1]),A(e,"isToggled",t[2]),A(e,"isDisabled",t[3])},m(n,s){k(n,e,s),l&&l.m(e,null),o=!0,r||(i=S(e,"click",t[7]),r=!0)},p(t,[r]){l&&l.p&&32&r&&f(l,s,t,t[5],r,null,null),(!o||1&r)&&H(e,"title",t[0]),(!o||16&r&&n!==(n=`margin: ${t[4]};`))&&H(e,"style",n),2&r&&A(e,"isBig",t[1]),4&r&&A(e,"isToggled",t[2]),8&r&&A(e,"isDisabled",t[3])},i(t){o||(xt(l,t),o=!0)},o(t){jt(l,t),o=!1},d(t){t&&x(e),l&&l.d(t),r=!1,i()}}}function ke(t,e,n){let{$$slots:o={},$$scope:r}=e,{title:i=null}=e,{isBig:s=!1}=e,{isToggled:l=!1}=e,{isDisabled:a=!1}=e,{margin:c="0"}=e;return t.$$set=t=>{"title"in t&&n(0,i=t.title),"isBig"in t&&n(1,s=t.isBig),"isToggled"in t&&n(2,l=t.isToggled),"isDisabled"in t&&n(3,a=t.isDisabled),"margin"in t&&n(4,c=t.margin),"$$scope"in t&&n(5,r=t.$$scope)},[i,s,l,a,c,r,o,function(e){nt(t,e)}]}class xe extends Nt{constructor(t){super(),Bt(this,t,ke,ye,s,{title:0,isBig:1,isToggled:2,isDisabled:3,margin:4})}}function je(t){let e,n;return e=new be({props:{$$slots:{default:[_e]},$$scope:{ctx:t}}}),e.$on("clickedOutside",t[14]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};524411&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function _e(t){let e,n,o,i,s,l,a,c,u,d,f,h,p,m,g,$,w,v,b;return{c(){e=_("div"),n=_("form"),o=_("label"),i=C("User:\n                    "),s=_("input"),l=P(),a=_("label"),c=C("Password:\n                    "),u=_("input"),d=P(),f=_("button"),h=C("Log In"),m=P(),g=_("div"),$=C(t[5]),w=C(" "),H(s,"type","text"),s.disabled=t[4],H(s,"class","svelte-1y8y0wm"),H(o,"class","svelte-1y8y0wm"),H(u,"type","password"),u.disabled=t[4],H(u,"class","svelte-1y8y0wm"),H(a,"class","svelte-1y8y0wm"),H(f,"type","submit"),f.disabled=p=t[4]||!t[6],H(f,"class","svelte-1y8y0wm"),H(g,"class","loginMessage svelte-1y8y0wm"),H(e,"class","loginPrompt svelte-1y8y0wm")},m(r,p){k(r,e,p),y(e,n),y(n,o),y(o,i),y(o,s),t[11](s),B(s,t[0]),y(n,l),y(n,a),y(a,c),y(a,u),B(u,t[1]),y(n,d),y(n,f),y(f,h),y(e,m),y(e,g),y(g,$),y(g,w),v||(b=[S(s,"input",t[12]),S(u,"input",t[13]),S(n,"submit",T(t[10]))],v=!0)},p(t,e){16&e&&(s.disabled=t[4]),1&e&&s.value!==t[0]&&B(s,t[0]),16&e&&(u.disabled=t[4]),2&e&&u.value!==t[1]&&B(u,t[1]),80&e&&p!==(p=t[4]||!t[6])&&(f.disabled=p),32&e&&O($,t[5])},d(n){n&&x(e),t[11](null),v=!1,r(b)}}}function Me(t){let e,n;return e=new xe({props:{title:"Log Out",$$slots:{default:[Pe]},$$scope:{ctx:t}}}),e.$on("click",t[8]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};524288&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Ce(t){let e,n;return e=new xe({props:{title:"Log In",$$slots:{default:[Re]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};524288&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Pe(t){let e,n,o,r,i;return{c(){e=M("svg"),n=M("rect"),o=M("polyline"),r=M("line"),i=M("path"),H(n,"width","256"),H(n,"height","256"),H(n,"fill","none"),H(o,"points","174.029 86 216.029 128 174.029 170"),H(o,"fill","none"),H(o,"stroke","currentColor"),H(o,"stroke-linecap","round"),H(o,"stroke-linejoin","round"),H(o,"stroke-width","24"),H(r,"x1","104"),H(r,"y1","128"),H(r,"x2","216"),H(r,"y2","128"),H(r,"fill","none"),H(r,"stroke","currentColor"),H(r,"stroke-linecap","round"),H(r,"stroke-linejoin","round"),H(r,"stroke-width","24"),H(i,"d","M120,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h72"),H(i,"fill","none"),H(i,"stroke","currentColor"),H(i,"stroke-linecap","round"),H(i,"stroke-linejoin","round"),H(i,"stroke-width","24"),H(e,"xmlns","http://www.w3.org/2000/svg"),H(e,"fill","currentColor"),H(e,"viewBox","0 0 256 256")},m(t,s){k(t,e,s),y(e,n),y(e,o),y(e,r),y(e,i)},d(t){t&&x(e)}}}function Re(t){let e,n,o,r,i;return{c(){e=M("svg"),n=M("rect"),o=M("circle"),r=M("circle"),i=M("path"),H(n,"width","256"),H(n,"height","256"),H(n,"fill","none"),H(o,"cx","128"),H(o,"cy","128"),H(o,"r","96"),H(o,"fill","none"),H(o,"stroke","currentColor"),H(o,"stroke-linecap","round"),H(o,"stroke-linejoin","round"),H(o,"stroke-width","24"),H(r,"cx","128"),H(r,"cy","120"),H(r,"r","40"),H(r,"fill","none"),H(r,"stroke","currentColor"),H(r,"stroke-linecap","round"),H(r,"stroke-linejoin","round"),H(r,"stroke-width","24"),H(i,"d","M63.79905,199.37405a72.02812,72.02812,0,0,1,128.40177-.00026"),H(i,"fill","none"),H(i,"stroke","currentColor"),H(i,"stroke-linecap","round"),H(i,"stroke-linejoin","round"),H(i,"stroke-width","24"),H(e,"xmlns","http://www.w3.org/2000/svg"),H(e,"fill","currentColor"),H(e,"viewBox","0 0 256 256")},m(t,s){k(t,e,s),y(e,n),y(e,o),y(e,r),y(e,i)},d(t){t&&x(e)}}}function Se(t){let e,n,o,r,i,s=t[2]&&je(t);const l=[Ce,Me],a=[];function c(t,e){return t[7]?1:0}return n=c(t),o=a[n]=l[n](t),{c(){s&&s.c(),e=P(),o.c(),r=R()},m(t,o){s&&s.m(t,o),k(t,e,o),a[n].m(t,o),k(t,r,o),i=!0},p(t,[i]){t[2]?s?(s.p(t,i),4&i&&xt(s,1)):(s=je(t),s.c(),xt(s,1),s.m(e.parentNode,e)):s&&(yt(),jt(s,1,1,(()=>{s=null})),kt());let u=n;n=c(t),n===u?a[n].p(t,i):(yt(),jt(a[u],1,1,(()=>{a[u]=null})),kt(),o=a[n],o?o.p(t,i):(o=a[n]=l[n](t),o.c()),xt(o,1),o.m(r.parentNode,r))},i(t){i||(xt(s),xt(o),i=!0)},o(t){jt(s),jt(o),i=!1},d(t){s&&s.d(t),t&&x(e),a[n].d(t),t&&x(r)}}}function Te(t,e,n){let o,r;c(t,he,(t=>n(16,o=t))),c(t,pe,(t=>n(7,r=t)));var i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};X((()=>{0!=o.length&&function(){i(this,void 0,void 0,(function*(){const t=yield me("/login/check",{authorize:!0});t.success?s=setTimeout((()=>{s=null,h(he,o=t.data.newToken,o)}),1e3*(t.data.validIn+.5)):-4==t.data.code||l()}))}()}));let s=null;function l(){null!=s&&(clearTimeout(s),s=null),h(he,o="",o)}let a,u=!1;let d=!1,f="",p="",m="";let g=!1;return t.$$.update=()=>{3&t.$$.dirty&&(f.length>0&&p.length>0?n(6,g=!0):n(6,g=!1))},[f,p,u,a,d,m,g,r,l,function(){return i(this,void 0,void 0,(function*(){n(0,f=""),n(1,p=""),n(5,m=""),n(2,u=!0),yield ut(),a.focus()}))},function(){return i(this,void 0,void 0,(function*(){n(4,d=!0);const t=yield me("/login/",{params:{userName:f,password:p},method:"POST"});t.success?(h(he,o=t.data.token,o),n(2,u=!1)):n(5,m="Incorrect!"),n(4,d=!1)}))},function(t){rt[t?"unshift":"push"]((()=>{a=t,n(3,a)}))},function(){f=this.value,n(0,f)},function(){p=this.value,n(1,p)},()=>n(2,u=!1)]}class qe extends Nt{constructor(t){super(),Bt(this,t,Te,Se,s,{})}}function ze(t){let e,n,o,r;function i(t,e){return t[0]?Oe:He}let s=i(t),l=s(t);return{c(){e=_("div"),n=M("svg"),o=M("path"),r=P(),l.c(),H(o,"stroke-linecap","round"),H(o,"stroke-linejoin","round"),H(o,"stroke-width","2"),H(o,"d","M9 5l7 7-7 7"),H(o,"class","svelte-jsqlcf"),H(n,"class","w-6 h-6 svelte-jsqlcf"),H(n,"fill","none"),H(n,"stroke","currentColor"),H(n,"viewBox","0 0 24 24"),H(n,"xmlns","http://www.w3.org/2000/svg"),H(e,"class","backLink svelte-jsqlcf")},m(t,i){k(t,e,i),y(e,n),y(n,o),y(e,r),l.m(e,null)},p(t,n){s===(s=i(t))&&l?l.p(t,n):(l.d(1),l=s(t),l&&(l.c(),l.m(e,null)))},d(t){t&&x(e),l.d()}}}function He(t){let e,n=t[1].title+"";return{c(){e=C(n)},m(t,n){k(t,e,n)},p(t,o){2&o&&n!==(n=t[1].title+"")&&O(e,n)},d(t){t&&x(e)}}}function Oe(t){let e,n,o,r=t[1].title+"";return{c(){e=_("a"),n=C(r),H(e,"href",o=`/album/${t[1].slug}`),H(e,"class","svelte-jsqlcf")},m(t,o){k(t,e,o),y(e,n)},p(t,i){2&i&&r!==(r=t[1].title+"")&&O(n,r),2&i&&o!==(o=`/album/${t[1].slug}`)&&H(e,"href",o)},d(t){t&&x(e)}}}function Be(t){let e,n,o,r,i,s=t[0].title+"";return{c(){e=_("div"),n=M("svg"),o=M("path"),r=P(),i=C(s),H(o,"stroke-linecap","round"),H(o,"stroke-linejoin","round"),H(o,"stroke-width","2"),H(o,"d","M9 5l7 7-7 7"),H(o,"class","svelte-jsqlcf"),H(n,"class","w-6 h-6 svelte-jsqlcf"),H(n,"fill","none"),H(n,"stroke","currentColor"),H(n,"viewBox","0 0 24 24"),H(n,"xmlns","http://www.w3.org/2000/svg"),H(e,"class","backLink svelte-jsqlcf")},m(t,s){k(t,e,s),y(e,n),y(n,o),y(e,r),y(e,i)},p(t,e){1&e&&s!==(s=t[0].title+"")&&O(i,s)},d(t){t&&x(e)}}}function Ne(t){let e,n,o=(t[5].siteTitle||"Pozzo")+"";return{c(){e=_("h2"),n=C(o),H(e,"class","svelte-jsqlcf")},m(t,o){k(t,e,o),y(e,n)},p(t,e){32&e&&o!==(o=(t[5].siteTitle||"Pozzo")+"")&&O(n,o)},d(t){t&&x(e)}}}function Le(t){let e,n,o,r,i,s,l=(t[5].siteTitle||"Pozzo")+"";return{c(){e=_("a"),n=M("svg"),o=M("rect"),r=M("polyline"),i=P(),s=C(l),H(o,"width","256"),H(o,"height","256"),H(o,"fill","none"),H(o,"class","svelte-jsqlcf"),H(r,"points","160 208 80 128 160 48"),H(r,"fill","none"),H(r,"stroke","currentColor"),H(r,"stroke-linecap","round"),H(r,"stroke-linejoin","round"),H(r,"stroke-width","24"),H(r,"class","svelte-jsqlcf"),H(n,"xmlns","http://www.w3.org/2000/svg"),H(n,"fill","currentColor"),H(n,"viewBox","0 0 256 256"),H(n,"class","svelte-jsqlcf"),H(e,"href","/"),H(e,"class","svelte-jsqlcf")},m(t,l){k(t,e,l),y(e,n),y(n,o),y(n,r),y(e,i),y(e,s)},p(t,e){32&e&&l!==(l=(t[5].siteTitle||"Pozzo")+"")&&O(s,l)},d(t){t&&x(e)}}}function Ee(t){let e,n,o,r,i,s,l,a=t[1].title+"";return{c(){e=_("a"),n=M("svg"),o=M("rect"),r=M("polyline"),i=P(),s=C(a),H(o,"width","256"),H(o,"height","256"),H(o,"fill","none"),H(o,"class","svelte-jsqlcf"),H(r,"points","160 208 80 128 160 48"),H(r,"fill","none"),H(r,"stroke","currentColor"),H(r,"stroke-linecap","round"),H(r,"stroke-linejoin","round"),H(r,"stroke-width","24"),H(r,"class","svelte-jsqlcf"),H(n,"xmlns","http://www.w3.org/2000/svg"),H(n,"fill","currentColor"),H(n,"viewBox","0 0 256 256"),H(n,"class","svelte-jsqlcf"),H(e,"href",l=`/album/${t[1].slug}`),H(e,"class","svelte-jsqlcf")},m(t,l){k(t,e,l),y(e,n),y(n,o),y(n,r),y(e,i),y(e,s)},p(t,n){2&n&&a!==(a=t[1].title+"")&&O(s,a),2&n&&l!==(l=`/album/${t[1].slug}`)&&H(e,"href",l)},d(t){t&&x(e)}}}function Ae(t){let e,n,o,r,i,s,l;return e=new xe({props:{title:null==t[3]?"(No Previous Photo)":"Previous Photo",margin:"0 5px 0 0",isDisabled:null==t[3],$$slots:{default:[Ie]},$$scope:{ctx:t}}}),o=new xe({props:{title:null==t[4]?"(No Next Photo)":"Next Photo",margin:"0 5px 0 0",isDisabled:null==t[4],$$slots:{default:[De]},$$scope:{ctx:t}}}),s=new xe({props:{margin:"0 5px 0 0",title:(t[6]?"Hide":"View")+" Metadata",isToggled:t[6],$$slots:{default:[Fe]},$$scope:{ctx:t}}}),s.$on("click",t[10]),{c(){zt(e.$$.fragment),n=P(),zt(o.$$.fragment),r=P(),i=_("div"),zt(s.$$.fragment),H(i,"class","metaDataToggle svelte-jsqlcf")},m(t,a){Ht(e,t,a),k(t,n,a),Ht(o,t,a),k(t,r,a),k(t,i,a),Ht(s,i,null),l=!0},p(t,n){const r={};8&n&&(r.title=null==t[3]?"(No Previous Photo)":"Previous Photo"),8&n&&(r.isDisabled=null==t[3]),32776&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};16&n&&(i.title=null==t[4]?"(No Next Photo)":"Next Photo"),16&n&&(i.isDisabled=null==t[4]),32784&n&&(i.$$scope={dirty:n,ctx:t}),o.$set(i);const l={};64&n&&(l.title=(t[6]?"Hide":"View")+" Metadata"),64&n&&(l.isToggled=t[6]),32768&n&&(l.$$scope={dirty:n,ctx:t}),s.$set(l)},i(t){l||(xt(e.$$.fragment,t),xt(o.$$.fragment,t),xt(s.$$.fragment,t),l=!0)},o(t){jt(e.$$.fragment,t),jt(o.$$.fragment,t),jt(s.$$.fragment,t),l=!1},d(t){Ot(e,t),t&&x(n),Ot(o,t),t&&x(r),t&&x(i),Ot(s)}}}function Ie(t){let e,n,o,r;return{c(){e=_("a"),n=M("svg"),o=M("rect"),r=M("path"),H(o,"width","256"),H(o,"height","256"),H(o,"fill","none"),H(o,"class","svelte-jsqlcf"),H(r,"d","M114.34277,229.65723l-96-96a8.003,8.003,0,0,1,0-11.31446l96-96A8.00065,8.00065,0,0,1,128,32V72h80a16.01833,16.01833,0,0,1,16,16v80a16.01833,16.01833,0,0,1-16,16H128v40a8.00066,8.00066,0,0,1-13.65723,5.65723Z"),H(r,"class","svelte-jsqlcf"),H(n,"xmlns","http://www.w3.org/2000/svg"),H(n,"fill","currentColor"),H(n,"viewBox","0 0 256 256"),H(n,"class","svelte-jsqlcf"),H(e,"href",t[3]),H(e,"class","svelte-jsqlcf")},m(t,i){k(t,e,i),y(e,n),y(n,o),y(n,r)},p(t,n){8&n&&H(e,"href",t[3])},d(t){t&&x(e)}}}function De(t){let e,n,o,r;return{c(){e=_("a"),n=M("svg"),o=M("rect"),r=M("path"),H(o,"width","256"),H(o,"height","256"),H(o,"fill","none"),H(o,"class","svelte-jsqlcf"),H(r,"d","M132.93848,231.39062A8,8,0,0,1,128,224V184H48a16.01833,16.01833,0,0,1-16-16V88A16.01833,16.01833,0,0,1,48,72h80V32a8.00065,8.00065,0,0,1,13.65723-5.65723l96,96a8.003,8.003,0,0,1,0,11.31446l-96,96A8.002,8.002,0,0,1,132.93848,231.39062Z"),H(r,"class","svelte-jsqlcf"),H(n,"xmlns","http://www.w3.org/2000/svg"),H(n,"fill","currentColor"),H(n,"viewBox","0 0 256 256"),H(n,"class","svelte-jsqlcf"),H(e,"href",t[4]),H(e,"class","svelte-jsqlcf")},m(t,i){k(t,e,i),y(e,n),y(n,o),y(n,r)},p(t,n){16&n&&H(e,"href",t[4])},d(t){t&&x(e)}}}function Fe(t){let e,n,o,r;return{c(){e=M("svg"),n=M("rect"),o=M("path"),r=M("circle"),H(n,"width","256"),H(n,"height","256"),H(n,"fill","none"),H(n,"class","svelte-jsqlcf"),H(o,"d","M122.66459,25.8792,42.0101,42.0101,25.8792,122.66459a8,8,0,0,0,2.1878,7.22578L132.51977,234.34315a8,8,0,0,0,11.31371,0l90.50967-90.50967a8,8,0,0,0,0-11.31371L129.89037,28.067A8,8,0,0,0,122.66459,25.8792Z"),H(o,"fill","none"),H(o,"stroke","currentColor"),H(o,"stroke-linecap","round"),H(o,"stroke-linejoin","round"),H(o,"stroke-width","24"),H(o,"class","svelte-jsqlcf"),H(r,"cx","84"),H(r,"cy","84"),H(r,"r","16"),H(r,"class","svelte-jsqlcf"),H(e,"xmlns","http://www.w3.org/2000/svg"),H(e,"fill","currentColor"),H(e,"viewBox","0 0 256 256"),H(e,"class","svelte-jsqlcf")},m(t,i){k(t,e,i),y(e,n),y(e,o),y(e,r)},d(t){t&&x(e)}}}function We(t){let e,n;return e=new xe({props:{margin:"0 5px 0 0",title:"Fullscreen",$$slots:{default:[Ge]},$$scope:{ctx:t}}}),e.$on("click",t[12]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};32768&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Ve(t){let e,n;return e=new xe({props:{margin:"0 5px 0 0",title:"Exit Fullscreen",$$slots:{default:[Ue]},$$scope:{ctx:t}}}),e.$on("click",t[11]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};32768&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Ge(t){let e,n,o,r,i,s,l,a,c,u;return{c(){e=M("svg"),n=M("rect"),o=M("polyline"),r=M("line"),i=M("polyline"),s=M("line"),l=M("polyline"),a=M("line"),c=M("polyline"),u=M("line"),H(n,"width","256"),H(n,"height","256"),H(n,"fill","none"),H(n,"class","svelte-jsqlcf"),H(o,"points","168 48 208 48 208 88"),H(o,"fill","none"),H(o,"stroke","currentColor"),H(o,"stroke-linecap","round"),H(o,"stroke-linejoin","round"),H(o,"stroke-width","24"),H(o,"class","svelte-jsqlcf"),H(r,"x1","152"),H(r,"y1","104"),H(r,"x2","208"),H(r,"y2","48"),H(r,"fill","none"),H(r,"stroke","currentColor"),H(r,"stroke-linecap","round"),H(r,"stroke-linejoin","round"),H(r,"stroke-width","24"),H(r,"class","svelte-jsqlcf"),H(i,"points","88 208 48 208 48 168"),H(i,"fill","none"),H(i,"stroke","currentColor"),H(i,"stroke-linecap","round"),H(i,"stroke-linejoin","round"),H(i,"stroke-width","24"),H(i,"class","svelte-jsqlcf"),H(s,"x1","104"),H(s,"y1","152"),H(s,"x2","48"),H(s,"y2","208"),H(s,"fill","none"),H(s,"stroke","currentColor"),H(s,"stroke-linecap","round"),H(s,"stroke-linejoin","round"),H(s,"stroke-width","24"),H(s,"class","svelte-jsqlcf"),H(l,"points","208 168 208 208 168 208"),H(l,"fill","none"),H(l,"stroke","currentColor"),H(l,"stroke-linecap","round"),H(l,"stroke-linejoin","round"),H(l,"stroke-width","24"),H(l,"class","svelte-jsqlcf"),H(a,"x1","152"),H(a,"y1","152"),H(a,"x2","208"),H(a,"y2","208"),H(a,"fill","none"),H(a,"stroke","currentColor"),H(a,"stroke-linecap","round"),H(a,"stroke-linejoin","round"),H(a,"stroke-width","24"),H(a,"class","svelte-jsqlcf"),H(c,"points","48 88 48 48 88 48"),H(c,"fill","none"),H(c,"stroke","currentColor"),H(c,"stroke-linecap","round"),H(c,"stroke-linejoin","round"),H(c,"stroke-width","24"),H(c,"class","svelte-jsqlcf"),H(u,"x1","104"),H(u,"y1","104"),H(u,"x2","48"),H(u,"y2","48"),H(u,"fill","none"),H(u,"stroke","currentColor"),H(u,"stroke-linecap","round"),H(u,"stroke-linejoin","round"),H(u,"stroke-width","24"),H(u,"class","svelte-jsqlcf"),H(e,"xmlns","http://www.w3.org/2000/svg"),H(e,"fill","currentColor"),H(e,"viewBox","0 0 256 256"),H(e,"class","svelte-jsqlcf")},m(t,d){k(t,e,d),y(e,n),y(e,o),y(e,r),y(e,i),y(e,s),y(e,l),y(e,a),y(e,c),y(e,u)},d(t){t&&x(e)}}}function Ue(t){let e,n,o,r,i,s;return{c(){e=M("svg"),n=M("rect"),o=M("polyline"),r=M("polyline"),i=M("polyline"),s=M("polyline"),H(n,"width","256"),H(n,"height","256"),H(n,"fill","none"),H(n,"class","svelte-jsqlcf"),H(o,"points","208 96 160 96 160 48"),H(o,"fill","none"),H(o,"stroke","currentColor"),H(o,"stroke-linecap","round"),H(o,"stroke-linejoin","round"),H(o,"stroke-width","24"),H(o,"class","svelte-jsqlcf"),H(r,"points","48 160 96 160 96 208"),H(r,"fill","none"),H(r,"stroke","currentColor"),H(r,"stroke-linecap","round"),H(r,"stroke-linejoin","round"),H(r,"stroke-width","24"),H(r,"class","svelte-jsqlcf"),H(i,"points","160 208 160 160 208 160"),H(i,"fill","none"),H(i,"stroke","currentColor"),H(i,"stroke-linecap","round"),H(i,"stroke-linejoin","round"),H(i,"stroke-width","24"),H(i,"class","svelte-jsqlcf"),H(s,"points","96 48 96 96 48 96"),H(s,"fill","none"),H(s,"stroke","currentColor"),H(s,"stroke-linecap","round"),H(s,"stroke-linejoin","round"),H(s,"stroke-width","24"),H(s,"class","svelte-jsqlcf"),H(e,"xmlns","http://www.w3.org/2000/svg"),H(e,"fill","currentColor"),H(e,"viewBox","0 0 256 256"),H(e,"class","svelte-jsqlcf")},m(t,l){k(t,e,l),y(e,n),y(e,o),y(e,r),y(e,i),y(e,s)},d(t){t&&x(e)}}}function Ye(t){let e,n,o,i,s,l,a,c,u,d,f,h,p,m,g,$,w,v,b,j,M,R,T,q=(t[5].siteTitle||"Pozzo")+"",B=t[1]&&ze(t),N=t[0]&&Be(t);function L(t,e){return t[0]?Ee:t[1]?Le:Ne}let E=L(t),I=E(t),D=t[0]&&Ae(t);const F=[Ve,We],W=[];function V(t,e){return t[7]?0:1}return $=V(t),w=W[$]=F[$](t),j=new qe({}),{c(){e=_("nav"),n=_("div"),o=_("div"),i=_("a"),s=C(q),l=P(),B&&B.c(),a=P(),N&&N.c(),c=P(),u=_("div"),d=_("div"),I.c(),f=P(),h=_("div"),p=P(),D&&D.c(),m=P(),g=_("div"),w.c(),v=P(),b=_("div"),zt(j.$$.fragment),H(i,"href","/"),H(i,"class","svelte-jsqlcf"),H(o,"class","homeLink svelte-jsqlcf"),H(n,"class","fullBreadcrumbs svelte-jsqlcf"),H(d,"class","backLink svelte-jsqlcf"),H(u,"class","backButton svelte-jsqlcf"),H(h,"class","spacer svelte-jsqlcf"),H(g,"class","fullscreenButton svelte-jsqlcf"),H(b,"class","login svelte-jsqlcf"),H(e,"class","svelte-jsqlcf"),A(e,"collapsed",t[2])},m(r,w){k(r,e,w),y(e,n),y(n,o),y(o,i),y(i,s),y(n,l),B&&B.m(n,null),y(n,a),N&&N.m(n,null),y(e,c),y(e,u),y(u,d),I.m(d,null),y(e,f),y(e,h),y(e,p),D&&D.m(e,null),y(e,m),y(e,g),W[$].m(g,null),y(e,v),y(e,b),Ht(j,b,null),M=!0,R||(T=[S(window,"keydown",t[9]),S(e,"dblclick",z(t[13]))],R=!0)},p(t,[o]){(!M||32&o)&&q!==(q=(t[5].siteTitle||"Pozzo")+"")&&O(s,q),t[1]?B?B.p(t,o):(B=ze(t),B.c(),B.m(n,a)):B&&(B.d(1),B=null),t[0]?N?N.p(t,o):(N=Be(t),N.c(),N.m(n,null)):N&&(N.d(1),N=null),E===(E=L(t))&&I?I.p(t,o):(I.d(1),I=E(t),I&&(I.c(),I.m(d,null))),t[0]?D?(D.p(t,o),1&o&&xt(D,1)):(D=Ae(t),D.c(),xt(D,1),D.m(e,m)):D&&(yt(),jt(D,1,1,(()=>{D=null})),kt());let r=$;$=V(t),$===r?W[$].p(t,o):(yt(),jt(W[r],1,1,(()=>{W[r]=null})),kt(),w=W[$],w?w.p(t,o):(w=W[$]=F[$](t),w.c()),xt(w,1),w.m(g,null)),4&o&&A(e,"collapsed",t[2])},i(t){M||(xt(D),xt(w),xt(j.$$.fragment,t),M=!0)},o(t){jt(D),jt(w),jt(j.$$.fragment,t),M=!1},d(t){t&&x(e),B&&B.d(),N&&N.d(),I.d(),D&&D.d(),W[$].d(),Ot(j),R=!1,r(T)}}}function Ze(t,e,n){let o,r,i,s,l;c(t,de,(t=>n(0,o=t))),c(t,ue,(t=>n(1,r=t))),c(t,ie,(t=>n(5,i=t))),c(t,se,(t=>n(6,s=t))),c(t,le,(t=>n(7,l=t)));const a=tt();let u=!1,d=null,f=null;return t.$$.update=()=>{3&t.$$.dirty&&function(t,e){if(null==t||null==e)return;const o=e.photos.findIndex((e=>e.id==t.id));-1!=o?(n(3,d=0==o?null:`/album/${e.slug}/${e.photos[o-1].id}`),o==e.photos.length-1?n(4,f=null):n(4,f=`/album/${e.slug}/${e.photos[o+1].id}`)):console.error("photo not in album!")}(o,r)},[o,r,u,d,f,i,s,l,a,function(t){"ArrowLeft"==t.key&&null!=d?Kt.goto(d):"ArrowRight"==t.key&&null!=f&&Kt.goto(f)},()=>h(se,s=!s,s),()=>a("fullScreenOff"),()=>a("fullScreenOn"),()=>(n(2,u=!u),!1)]}class Je extends Nt{constructor(t){super(),Bt(this,t,Ze,Ye,s,{})}}var Ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Xe(t){var e={exports:{}};return t(e,e.exports),e.exports
/*!
 * Copyright 2019 SmugMug, Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */}var Qe=Xe((function(t){(t.exports=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight,this.widowLayoutStyle=t.widowLayoutStyle,this.isBreakoutRow=t.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(t){var e,n,o,r=this.items.concat(t),i=this.width-(r.length-1)*this.spacing,s=r.reduce((function(t,e){return t+e.aspectRatio}),0),l=i/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&t.aspectRatio>=1?(this.items.push(t),this.completeLayout(i/t.aspectRatio,"justify"),!0):s<this.minAspectRatio?(this.items.push(Object.assign({},t)),!0):s>this.maxAspectRatio?0===this.items.length?(this.items.push(Object.assign({},t)),this.completeLayout(i/s,"justify"),!0):(e=this.width-(this.items.length-1)*this.spacing,n=this.items.reduce((function(t,e){return t+e.aspectRatio}),0),o=e/this.targetRowHeight,Math.abs(s-l)>Math.abs(n-o)?(this.completeLayout(e/n,"justify"),!1):(this.items.push(Object.assign({},t)),this.completeLayout(i/s,"justify"),!0)):(this.items.push(Object.assign({},t)),this.completeLayout(i/s,"justify"),!0)},isLayoutComplete:function(){return this.height>0},completeLayout:function(t,e){var n,o,r,i,s,l=this.left,a=this.width-(this.items.length-1)*this.spacing;(void 0===e||["justify","center","left"].indexOf(e)<0)&&(e="left"),t!==(o=Math.max(this.edgeCaseMinRowHeight,Math.min(t,this.edgeCaseMaxRowHeight)))?(this.height=o,n=a/o/(a/t)):(this.height=t,n=1),this.items.forEach((function(t){t.top=this.top,t.width=t.aspectRatio*this.height*n,t.height=this.height,t.left=l,l+=t.width+this.spacing}),this),"justify"===e?(l-=this.spacing+this.left,r=(l-this.width)/this.items.length,i=this.items.map((function(t,e){return Math.round((e+1)*r)})),1===this.items.length?this.items[0].width-=Math.round(r):this.items.forEach((function(t,e){e>0?(t.left-=i[e-1],t.width-=i[e]-i[e-1]):t.width-=i[e]}))):"center"===e&&(s=(this.width-l)/2,this.items.forEach((function(t){t.left+=s+this.spacing}),this))},forceComplete:function(t,e){"number"==typeof e?this.completeLayout(e,this.widowLayoutStyle):this.completeLayout(this.targetRowHeight,this.widowLayoutStyle)},getItems:function(){return this.items}}}));
/*!
 * Copyright 2019 SmugMug, Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */function tn(t,e){var n;return!1!==t.fullWidthBreakoutRowCadence&&(e._rows.length+1)%t.fullWidthBreakoutRowCadence==0&&(n=!0),new Qe({top:e._containerHeight,left:t.containerPadding.left,width:t.containerWidth-t.containerPadding.left-t.containerPadding.right,spacing:t.boxSpacing.horizontal,targetRowHeight:t.targetRowHeight,targetRowHeightTolerance:t.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*t.targetRowHeight,edgeCaseMaxRowHeight:2*t.targetRowHeight,rightToLeft:!1,isBreakoutRow:n,widowLayoutStyle:t.widowLayoutStyle})}function en(t,e,n){return e._rows.push(n),e._layoutItems=e._layoutItems.concat(n.getItems()),e._containerHeight+=n.height+t.boxSpacing.vertical,n.items}var nn=function(t,e){var n={},o={},r={containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1,widowLayoutStyle:"left"},i={},s={};return e=e||{},n=Object.assign(r,e),i.top=isNaN(parseFloat(n.containerPadding.top))?n.containerPadding:n.containerPadding.top,i.right=isNaN(parseFloat(n.containerPadding.right))?n.containerPadding:n.containerPadding.right,i.bottom=isNaN(parseFloat(n.containerPadding.bottom))?n.containerPadding:n.containerPadding.bottom,i.left=isNaN(parseFloat(n.containerPadding.left))?n.containerPadding:n.containerPadding.left,s.horizontal=isNaN(parseFloat(n.boxSpacing.horizontal))?n.boxSpacing:n.boxSpacing.horizontal,s.vertical=isNaN(parseFloat(n.boxSpacing.vertical))?n.boxSpacing:n.boxSpacing.vertical,n.containerPadding=i,n.boxSpacing=s,o._layoutItems=[],o._awakeItems=[],o._inViewportItems=[],o._leadingOrphans=[],o._trailingOrphans=[],o._containerHeight=n.containerPadding.top,o._rows=[],o._orphans=[],n._widowCount=0,function(t,e,n){var o,r,i,s=[];return t.forceAspectRatio&&n.forEach((function(e){e.forcedAspectRatio=!0,e.aspectRatio=t.forceAspectRatio})),n.some((function(n,i){if(isNaN(n.aspectRatio))throw new Error("Item "+i+" has an invalid aspect ratio");if(r||(r=tn(t,e)),o=r.addItem(n),r.isLayoutComplete()){if(s=s.concat(en(t,e,r)),e._rows.length>=t.maxNumRows)return r=null,!0;if(r=tn(t,e),!o&&(o=r.addItem(n),r.isLayoutComplete())){if(s=s.concat(en(t,e,r)),e._rows.length>=t.maxNumRows)return r=null,!0;r=tn(t,e)}}})),r&&r.getItems().length&&t.showWidows&&(e._rows.length?(i=e._rows[e._rows.length-1].isBreakoutRow?e._rows[e._rows.length-1].targetRowHeight:e._rows[e._rows.length-1].height,r.forceComplete(!1,i)):r.forceComplete(!1),s=s.concat(en(t,e,r)),t._widowCount=r.getItems().length),e._containerHeight=e._containerHeight-t.boxSpacing.vertical,e._containerHeight=e._containerHeight+t.containerPadding.bottom,{containerHeight:e._containerHeight,widowCount:t._widowCount,boxes:e._layoutItems}}(n,o,t.map((function(t){return t.width&&t.height?{aspectRatio:t.width/t.height}:{aspectRatio:t}})))};function on(t){let e,n,o,i,s,l,a,c,u,d,f,h,p,m,g,$,w,v,b,j;return{c(){e=_("div"),n=_("form"),o=_("label"),i=C("Album Name:\n                "),s=_("input"),l=P(),a=_("div"),c=_("label"),u=_("input"),d=C("\n                    Private"),f=P(),h=_("button"),p=C("Create Album"),g=P(),$=_("div"),w=C(t[3]),v=C(" "),H(s,"type","text"),s.disabled=t[2],H(s,"class","svelte-1kl6n6w"),H(o,"class","svelte-1kl6n6w"),H(u,"type","checkbox"),H(c,"class","svelte-1kl6n6w"),H(a,"class","visibilityToggle"),H(h,"type","submit"),h.disabled=m=t[2]||t[1].length<=0,H(h,"class","svelte-1kl6n6w"),H($,"class","new-album-message svelte-1kl6n6w"),H(e,"class","newAlbumPrompt svelte-1kl6n6w")},m(r,m){k(r,e,m),y(e,n),y(n,o),y(o,i),y(o,s),t[7](s),B(s,t[1]),y(n,l),y(n,a),y(a,c),y(c,u),u.checked=t[4],y(c,d),y(n,f),y(n,h),y(h,p),y(e,g),y(e,$),y($,w),y($,v),b||(j=[S(s,"input",t[8]),S(u,"change",t[9]),S(n,"submit",T(t[6]))],b=!0)},p(t,e){4&e&&(s.disabled=t[2]),2&e&&s.value!==t[1]&&B(s,t[1]),16&e&&(u.checked=t[4]),6&e&&m!==(m=t[2]||t[1].length<=0)&&(h.disabled=m),8&e&&O(w,t[3])},d(n){n&&x(e),t[7](null),b=!1,r(j)}}}function rn(t){let e,n;return e=new be({props:{$$slots:{default:[on]},$$scope:{ctx:t}}}),e.$on("clickedOutside",t[10]),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,[n]){const o={};8223&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function sn(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};const r=tt();let i=null,s="",l=!1,a="",c=!1;X((function(){return o(this,void 0,void 0,(function*(){n(1,s=""),n(3,a=""),yield ut(),i.focus()}))}));return[i,s,l,a,c,r,function(){return o(this,void 0,void 0,(function*(){n(2,l=!0);const t=yield me("/album/new",{params:{title:s,isPrivate:c},method:"POST",authorize:!0});t.success?r("done",{newAlbumID:t.data.albumID}):n(3,a="Duplicate name!"),n(2,l=!1)}))},function(t){rt[t?"unshift":"push"]((()=>{i=t,n(0,i)}))},function(){s=this.value,n(1,s)},function(){c=this.checked,n(4,c)},()=>r("dismissed")]}class ln extends Nt{constructor(t){super(),Bt(this,t,sn,rn,s,{})}}function an(t){const e=Math.floor(Math.log(t)/Math.log(1024)),n=e<=1?0:2;return`${(t/Math.pow(1024,e)).toFixed(n)} ${["B","kB","MB","GB","TB"][e]}`}function cn(t){const e=new Date(1e3*t);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}function un(t){const e=1/t,n=Math.round(e);return Math.abs(n-e)<1e-4?`1/${n}`:t.toFixed(5).replace(/0*$/,"")}function dn(t,e,n,o="jpg"){return`/photos/${e.match(/.{1,2}/g).slice(0,3).map((t=>"ad"==t?"a_":t)).join("/")}/${e}_${n}_${t}.${o}`}function fn(t){return window.navigator.platform.startsWith("Mac")?t.metaKey:t.ctrlKey}function hn(t){t[18]=t[19].default}function pn(t){let e,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:$n,then:gn,catch:mn,value:19,blocks:[,,,]};return Rt(import("./PhotoContextMenu-50e61c27.js"),o),{c(){e=R(),o.block.c()},m(t,r){k(t,e,r),o.block.m(t,o.anchor=r),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(e,n){{const r=(t=e).slice();r[19]=o.resolved,o.block.p(r,n)}},i(t){n||(xt(o.block),n=!0)},o(t){for(let t=0;t<3;t+=1){jt(o.blocks[t])}n=!1},d(t){t&&x(e),o.block.d(t),o.token=null,o=null}}}function mn(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function gn(t){let e,n,o;hn(t);var r=t[18];function i(t){return{props:{posX:t[0],posY:t[1]}}}return r&&(e=new r(i(t)),e.$on("dismissed",t[11]),e.$on("delete",t[4]),e.$on("move",t[5]),e.$on("coverPhotoClicked",t[6])),{c(){e&&zt(e.$$.fragment),n=R()},m(t,r){e&&Ht(e,t,r),k(t,n,r),o=!0},p(t,o){hn(t);const s={};if(1&o&&(s.posX=t[0]),2&o&&(s.posY=t[1]),r!==(r=t[18])){if(e){yt();const t=e;jt(t.$$.fragment,1,0,(()=>{Ot(t,1)})),kt()}r?(e=new r(i(t)),e.$on("dismissed",t[11]),e.$on("delete",t[4]),e.$on("move",t[5]),e.$on("coverPhotoClicked",t[6]),zt(e.$$.fragment),xt(e.$$.fragment,1),Ht(e,n.parentNode,n)):e=null}else r&&e.$set(s)},i(t){o||(e&&xt(e.$$.fragment,t),o=!0)},o(t){e&&jt(e.$$.fragment,t),o=!1},d(t){t&&x(n),e&&Ot(e,t)}}}function $n(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function wn(t){let e,n,o,i,s,l=t[2]&&pn(t);const a=t[10].default,c=u(a,t,t[9],null);return{c(){e=P(),l&&l.c(),n=P(),c&&c.c()},m(r,a){k(r,e,a),l&&l.m(r,a),k(r,n,a),c&&c.m(r,a),o=!0,i||(s=[S(document.body,"contextmenu",t[3]),S(document.body,"keydown",t[7])],i=!0)},p(t,[e]){t[2]?l?(l.p(t,e),4&e&&xt(l,1)):(l=pn(t),l.c(),xt(l,1),l.m(n.parentNode,n)):l&&(yt(),jt(l,1,1,(()=>{l=null})),kt()),c&&c.p&&512&e&&f(c,a,t,t[9],e,null,null)},i(t){o||(xt(l),xt(c,t),o=!0)},o(t){jt(l),jt(c,t),o=!1},d(t){t&&x(e),l&&l.d(t),t&&x(n),c&&c.d(t),i=!1,r(s)}}}function vn(t,e,n){let o,r,i,s;c(t,pe,(t=>n(12,o=t))),c(t,fe,(t=>n(13,r=t))),c(t,ue,(t=>n(14,i=t))),c(t,ce,(t=>n(15,s=t)));let{$$slots:l={},$$scope:a}=e;var u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};const d=tt();let{stubs:f=[]}=e,p=-1,m=-1,g=!1;return t.$$set=t=>{"stubs"in t&&n(8,f=t.stubs),"$$scope"in t&&n(9,a=t.$$scope)},[p,m,g,function(t){return u(this,void 0,void 0,(function*(){o&&(t.preventDefault(),g&&(n(2,g=!1),yield ut()),n(0,p=t.clientX),n(1,m=t.clientY),n(2,g=!0))}))},function(t){n(8,f=f.filter((t=>r.indexOf(t)<0))),d("deleted",{newStubs:f}),n(2,g=!1),h(fe,r=[],r)},function(t){n(8,f=f.filter((t=>r.indexOf(t)<0))),d("moved",{newStubs:f,targetAlbumID:t.detail.targetAlbumID}),n(2,g=!1),h(fe,r=[],r)},function(t){i.coverPhoto==r[0]?h(ue,i.coverPhoto=null,i):h(ue,i.coverPhoto=r[0],i),d("coverChanged"),n(2,g=!1),h(fe,r=[],r)},function(t){o&&(g||s||("a"==t.key&&fn(t)&&(h(fe,r=f,r),t.preventDefault()),"d"==t.key&&fn(t)&&(h(fe,r=[],r),t.preventDefault())))},f,a,l,()=>n(2,g=!1)]}class bn extends Nt{constructor(t){super(),Bt(this,t,vn,wn,s,{stubs:8})}}var yn,kn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],xn=Object.defineProperty({decode83:function(t){for(var e=0,n=0;n<t.length;n++){var o=t[n];e=83*e+kn.indexOf(o)}return e},encode83:function(t,e){for(var n="",o=1;o<=e;o++){var r=Math.floor(t)/Math.pow(83,e-o)%83;n+=kn[Math.floor(r)]}return n}},"__esModule",{value:!0}),jn=Xe((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sRGBToLinear=function(t){var e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},e.linearTosRGB=function(t){var e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.round(12.92*e*255+.5):Math.round(255*(1.055*Math.pow(e,1/2.4)-.055)+.5)},e.sign=function(t){return t<0?-1:1},e.signPow=function(t,n){return e.sign(t)*Math.pow(Math.abs(t),n)}})),_n=Ke&&Ke.__extends||(yn=function(t,e){return(yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mn=function(t){function e(e){var n=t.call(this,e)||this;return n.name="ValidationError",n.message=e,n}return _n(e,t),e}(Error),Cn=Object.defineProperty({ValidationError:Mn},"__esModule",{value:!0}),Pn=function(t){if(!t||t.length<6)throw new Cn.ValidationError("The blurhash string must be at least 6 characters");var e=xn.decode83(t[0]),n=Math.floor(e/9)+1,o=e%9+1;if(t.length!==4+2*o*n)throw new Cn.ValidationError("blurhash length mismatch: length is "+t.length+" but it should be "+(4+2*o*n))},Rn=function(t){var e=t>>16,n=t>>8&255,o=255&t;return[jn.sRGBToLinear(e),jn.sRGBToLinear(n),jn.sRGBToLinear(o)]},Sn=function(t,e){var n=Math.floor(t/361),o=Math.floor(t/19)%19,r=t%19;return[jn.signPow((n-9)/9,2)*e,jn.signPow((o-9)/9,2)*e,jn.signPow((r-9)/9,2)*e]},Tn=function(t,e,n,o){Pn(t),o|=1;for(var r=xn.decode83(t[0]),i=Math.floor(r/9)+1,s=r%9+1,l=(xn.decode83(t[1])+1)/166,a=new Array(s*i),c=0;c<a.length;c++)if(0===c){var u=xn.decode83(t.substring(2,6));a[c]=Rn(u)}else{u=xn.decode83(t.substring(4+2*c,6+2*c));a[c]=Sn(u,l*o)}for(var d=4*e,f=new Uint8ClampedArray(d*n),h=0;h<n;h++)for(var p=0;p<e;p++){for(var m=0,g=0,$=0,w=0;w<i;w++)for(c=0;c<s;c++){var v=Math.cos(Math.PI*p*c/e)*Math.cos(Math.PI*h*w/n),b=a[c+w*s];m+=b[0]*v,g+=b[1]*v,$+=b[2]*v}var y=jn.linearTosRGB(m),k=jn.linearTosRGB(g),x=jn.linearTosRGB($);f[4*p+0+h*d]=y,f[4*p+1+h*d]=k,f[4*p+2+h*d]=x,f[4*p+3+h*d]=255}return f},qn=Object.defineProperty({isBlurhashValid:function(t){try{Pn(t)}catch(t){return{result:!1,errorReason:t.message}}return{result:!0}},default:Tn},"__esModule",{value:!0}),zn=function(t,e,n,o,r){if(o<1||o>9||r<1||r>9)throw new Cn.ValidationError("BlurHash must have between 1 and 9 components");if(e*n*4!==t.length)throw new Cn.ValidationError("Width and height must match the pixels array");for(var i=[],s=function(r){for(var s=function(o){var s=0==o&&0==r?1:2,l=function(t,e,n,o){for(var r=0,i=0,s=0,l=4*e,a=0;a<e;a++)for(var c=0;c<n;c++){var u=o(a,c);r+=u*jn.sRGBToLinear(t[4*a+0+c*l]),i+=u*jn.sRGBToLinear(t[4*a+1+c*l]),s+=u*jn.sRGBToLinear(t[4*a+2+c*l])}var d=1/(e*n);return[r*d,i*d,s*d]}(t,e,n,(function(t,i){return s*Math.cos(Math.PI*o*t/e)*Math.cos(Math.PI*r*i/n)}));i.push(l)},l=0;l<o;l++)s(l)},l=0;l<r;l++)s(l);var a,c,u=i[0],d=i.slice(1),f="",h=o-1+9*(r-1);if(f+=xn.encode83(h,1),d.length>0){var p=Math.max.apply(Math,d.map((function(t){return Math.max.apply(Math,t)}))),m=Math.floor(Math.max(0,Math.min(82,Math.floor(166*p-.5))));a=(m+1)/166,f+=xn.encode83(m,1)}else a=1,f+=xn.encode83(0,1);return f+=xn.encode83((c=u,(jn.linearTosRGB(c[0])<<16)+(jn.linearTosRGB(c[1])<<8)+jn.linearTosRGB(c[2])),4),d.forEach((function(t){f+=xn.encode83(function(t,e){return 19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*jn.signPow(t[0]/e,.5)+9.5))))*19+19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*jn.signPow(t[1]/e,.5)+9.5))))+Math.floor(Math.max(0,Math.min(18,Math.floor(9*jn.signPow(t[2]/e,.5)+9.5))))}(t,a),2)})),f},Hn=Object.defineProperty({default:zn},"__esModule",{value:!0}),On=Xe((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.decode=qn.default,e.isBlurhashValid=qn.isBlurhashValid,e.encode=Hn.default,function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(Cn)}));function Bn(e){let n,o,r,i,s,l,a,c,u;return{c(){n=_("canvas"),r=P(),i=_("img"),H(n,"class","preload svelte-134ohlg"),H(n,"style",o=`object-fit: ${e[1]};`),A(n,"removed",e[7]>1),H(i,"loading",s=e[0]?"lazy":null),H(i,"class","main svelte-134ohlg"),H(i,"style",l=`object-fit: ${e[1]};`),H(i,"alt",e[6]),H(i,"srcset",e[4]),i.src!==(a=e[5])&&H(i,"src",a),A(i,"loading",e[7]<2)},m(t,o){k(t,n,o),e[13](n),k(t,r,o),k(t,i,o),e[14](i),c||(u=S(i,"load",e[15]),c=!0)},p(t,[e]){2&e&&o!==(o=`object-fit: ${t[1]};`)&&H(n,"style",o),128&e&&A(n,"removed",t[7]>1),1&e&&s!==(s=t[0]?"lazy":null)&&H(i,"loading",s),2&e&&l!==(l=`object-fit: ${t[1]};`)&&H(i,"style",l),64&e&&H(i,"alt",t[6]),16&e&&H(i,"srcset",t[4]),32&e&&i.src!==(a=t[5])&&H(i,"src",a),128&e&&A(i,"loading",t[7]<2)},i:t,o:t,d(t){t&&x(n),e[13](null),t&&x(r),t&&x(i),e[14](null),c=!1,u()}}}function Nn(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};let r,i,{photo:s=null}=e,{lazy:l=!1}=e,{size:a="large"}=e,{objectFit:c="contain"}=e,{altTitle:u=null}=e,d=-1;let f="",h="",p="";function m(t){return o(this,void 0,void 0,(function*(){null==t?(n(4,f=""),n(5,h="")):(n(4,f=`${dn(a,s.hash,s.uniq)}, ${dn(a+"2x",s.hash,s.uniq)} 2x`),n(5,h=dn(a,s.hash,s.uniq)))}))}let g=-1;function $(t){var e;return o(this,void 0,void 0,(function*(){yield ut(),n(7,g=t),0==t&&(n(12,d=s.id),m(null),n(6,p=""),function(){o(this,void 0,void 0,(function*(){if(g>1)return;const t=On.decode(s.blurHash,32,32,1),e=document.createElement("canvas");e.width=32,e.height=32;const o=e.getContext("2d"),l=o.createImageData(32,32);l.data.set(t),o.putImageData(l,0,0);const a=r.getContext("2d");let c=i.clientWidth,u=i.clientHeight;c/u>1?c=u*s.aspect:u=c/s.aspect,n(2,r.width=c+2,r),n(2,r.height=u,r),a.drawImage(e,0,0,c+2,u),$(1)}))}()),1==t&&m(s),2==t&&n(6,p=null!==(e=null!=u?u:s.title)&&void 0!==e?e:null)}))}return t.$$set=t=>{"photo"in t&&n(9,s=t.photo),"lazy"in t&&n(0,l=t.lazy),"size"in t&&n(10,a=t.size),"objectFit"in t&&n(1,c=t.objectFit),"altTitle"in t&&n(11,u=t.altTitle)},t.$$.update=()=>{4608&t.$$.dirty&&(null==s?void 0:s.id)!=d&&$(0)},[l,c,r,i,f,h,p,g,$,s,a,u,d,function(t){rt[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(t){rt[t?"unshift":"push"]((()=>{i=t,n(3,i)}))},()=>$(2)]}class Ln extends Nt{constructor(t){super(),Bt(this,t,Nn,Bn,s,{photo:9,lazy:0,size:10,objectFit:1,altTitle:11})}}function En(t){let e,n,o,i,s,l,a,c=t[3]&&An(t),u=t[0].hash&&t[0].uniq&&In(t),d=t[0].isVideo&&Dn();return{c(){e=_("div"),c&&c.c(),n=P(),u&&u.c(),o=P(),d&&d.c(),H(e,"class","navSlot svelte-1rp2yre"),H(e,"style",i=`top: ${t[1].top}px; left: ${t[1].left}px; width: ${t[1].width}px; height: ${t[1].height}px;`),A(e,"selected",t[4])},m(r,i){k(r,e,i),c&&c.m(e,null),y(e,n),u&&u.m(e,null),y(e,o),d&&d.m(e,null),s=!0,l||(a=[S(e,"click",t[5]),S(e,"contextmenu",t[6])],l=!0)},p(t,r){t[3]?c?c.p(t,r):(c=An(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),t[0].hash&&t[0].uniq?u?(u.p(t,r),1&r&&xt(u,1)):(u=In(t),u.c(),xt(u,1),u.m(e,o)):u&&(yt(),jt(u,1,1,(()=>{u=null})),kt()),t[0].isVideo?d||(d=Dn(),d.c(),d.m(e,null)):d&&(d.d(1),d=null),(!s||2&r&&i!==(i=`top: ${t[1].top}px; left: ${t[1].left}px; width: ${t[1].width}px; height: ${t[1].height}px;`))&&H(e,"style",i),16&r&&A(e,"selected",t[4])},i(t){s||(xt(u),s=!0)},o(t){jt(u),s=!1},d(t){t&&x(e),c&&c.d(),u&&u.d(),d&&d.d(),l=!1,r(a)}}}function An(t){let e,n,o;return{c(){e=_("div"),n=_("div"),o=C(t[3]),H(n,"class","textOverlay svelte-1rp2yre"),H(e,"class","textOverlayContainer svelte-1rp2yre")},m(t,r){k(t,e,r),y(e,n),y(n,o)},p(t,e){8&e&&O(o,t[3])},d(t){t&&x(e)}}}function In(t){let e,n;return e=new Ln({props:{photo:t[0],size:t[2],altTitle:t[3],objectFit:"cover",lazy:!0}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.photo=t[0]),4&n&&(o.size=t[2]),8&n&&(o.altTitle=t[3]),e.$set(o)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Dn(t){let e;return{c(){e=_("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><path d="M128,24A104,104,0,1,0,232,128,104.12041,104.12041,0,0,0,128,24Zm36.4375,110.65625-48,32A7.99612,7.99612,0,0,1,104,160V96a7.99612,7.99612,0,0,1,12.4375-6.65625l48,32a7.99959,7.99959,0,0,1,0,13.3125Z"></path></svg>',H(e,"class","videoIndicator svelte-1rp2yre")},m(t,n){k(t,e,n)},d(t){t&&x(e)}}}function Fn(t){let e,n,o=t[1]&&En(t);return{c(){o&&o.c(),e=R()},m(t,r){o&&o.m(t,r),k(t,e,r),n=!0},p(t,[n]){t[1]?o?(o.p(t,n),2&n&&xt(o,1)):(o=En(t),o.c(),xt(o,1),o.m(e.parentNode,e)):o&&(yt(),jt(o,1,1,(()=>{o=null})),kt())},i(t){n||(xt(o),n=!0)},o(t){jt(o),n=!1},d(t){o&&o.d(t),t&&x(e)}}}function Wn(t,e,n){let o,r;c(t,fe,(t=>n(7,o=t))),c(t,pe,(t=>n(8,r=t)));let{photo:i=null}=e,{layoutDims:s=null}=e,{size:l="medium"}=e,{textOverlay:a=null}=e,u=!1;return t.$$set=t=>{"photo"in t&&n(0,i=t.photo),"layoutDims"in t&&n(1,s=t.layoutDims),"size"in t&&n(2,l=t.size),"textOverlay"in t&&n(3,a=t.textOverlay)},t.$$.update=()=>{129&t.$$.dirty&&n(4,u=o.indexOf(i)>=0)},[i,s,l,a,u,function(t){r&&fn(t)&&(t.preventDefault(),h(fe,o=u?o.filter((t=>t.id!=i.id)):[...o,i],o))},function(){r&&0==o.length&&h(fe,o=[i],o)},o]}class Vn extends Nt{constructor(t){super(),Bt(this,t,Wn,Fn,s,{photo:0,layoutDims:1,size:2,textOverlay:3})}}function Gn(t,e,n){const o=t.slice();return o[20]=e[n],o[22]=n,o}function Un(t){t[18]=t[19].default}function Yn(t){t[18]=t[19].default}function Zn(t){let e,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Xn,then:Kn,catch:Jn,value:19,blocks:[,,,]};return Rt(import("./UploadZone-e737c1f3.js"),o),{c(){e=R(),o.block.c()},m(t,r){k(t,e,r),o.block.m(t,o.anchor=r),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(e,n){{const r=(t=e).slice();r[19]=o.resolved,o.block.p(r,n)}},i(t){n||(xt(o.block),n=!0)},o(t){for(let t=0;t<3;t+=1){jt(o.blocks[t])}n=!1},d(t){t&&x(e),o.block.d(t),o.token=null,o=null}}}function Jn(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Kn(t){let e,n,o;Yn(t);var r=t[18];return r&&(e=new r({}),e.$on("done",t[8])),{c(){e&&zt(e.$$.fragment),n=R()},m(t,r){e&&Ht(e,t,r),k(t,n,r),o=!0},p(t,o){if(Yn(t),r!==(r=t[18])){if(e){yt();const t=e;jt(t.$$.fragment,1,0,(()=>{Ot(t,1)})),kt()}r?(e=new r({}),e.$on("done",t[8]),zt(e.$$.fragment),xt(e.$$.fragment,1),Ht(e,n.parentNode,n)):e=null}},i(t){o||(e&&xt(e.$$.fragment,t),o=!0)},o(t){e&&jt(e.$$.fragment,t),o=!1},d(t){t&&x(n),e&&Ot(e,t)}}}function Xn(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Qn(e){let n,o;return n=new ln({}),n.$on("dismissed",e[10]),n.$on("done",e[11]),{c(){zt(n.$$.fragment)},m(t,e){Ht(n,t,e),o=!0},p:t,i(t){o||(xt(n.$$.fragment,t),o=!0)},o(t){jt(n.$$.fragment,t),o=!1},d(t){Ot(n,t)}}}function to(t){let e,n,o,r,i,s;o=new xe({props:{title:"Add Album",margin:"0 0 0 10px",$$slots:{default:[eo]},$$scope:{ctx:t}}}),o.$on("click",t[12]);let l=t[0]?.length>1&&no(t);return{c(){e=_("h2"),e.textContent="Albums",n=P(),zt(o.$$.fragment),r=P(),l&&l.c(),i=R(),H(e,"class","svelte-fpj1v5")},m(t,a){k(t,e,a),k(t,n,a),Ht(o,t,a),k(t,r,a),l&&l.m(t,a),k(t,i,a),s=!0},p(t,e){const n={};8388608&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n),t[0]?.length>1?l?(l.p(t,e),1&e&&xt(l,1)):(l=no(t),l.c(),xt(l,1),l.m(i.parentNode,i)):l&&(yt(),jt(l,1,1,(()=>{l=null})),kt())},i(t){s||(xt(o.$$.fragment,t),xt(l),s=!0)},o(t){jt(o.$$.fragment,t),jt(l),s=!1},d(t){t&&x(e),t&&x(n),Ot(o,t),t&&x(r),l&&l.d(t),t&&x(i)}}}function eo(t){let e,n,o,r,i;return{c(){e=M("svg"),n=M("rect"),o=M("circle"),r=M("line"),i=M("line"),H(n,"width","256"),H(n,"height","256"),H(n,"fill","none"),H(o,"cx","128"),H(o,"cy","128"),H(o,"r","96"),H(o,"fill","none"),H(o,"stroke","currentColor"),H(o,"stroke-linecap","round"),H(o,"stroke-linejoin","round"),H(o,"stroke-width","24"),H(r,"x1","88"),H(r,"y1","128"),H(r,"x2","168"),H(r,"y2","128"),H(r,"fill","none"),H(r,"stroke","currentColor"),H(r,"stroke-linecap","round"),H(r,"stroke-linejoin","round"),H(r,"stroke-width","24"),H(i,"x1","128"),H(i,"y1","88"),H(i,"x2","128"),H(i,"y2","168"),H(i,"fill","none"),H(i,"stroke","currentColor"),H(i,"stroke-linecap","round"),H(i,"stroke-linejoin","round"),H(i,"stroke-width","24"),H(e,"xmlns","http://www.w3.org/2000/svg"),H(e,"fill","currentColor"),H(e,"viewBox","0 0 256 256")},m(t,s){k(t,e,s),y(e,n),y(e,o),y(e,r),y(e,i)},d(t){t&&x(e)}}}function no(t){let e,n,o;return n=new xe({props:{margin:"0 0 0 0",title:(t[6]?"Exit":"Enter")+" Edit Mode",$$slots:{default:[oo]},$$scope:{ctx:t}}}),n.$on("click",t[13]),{c(){e=_("div"),zt(n.$$.fragment),H(e,"class","reorderButton svelte-fpj1v5"),A(e,"toggled",t[6])},m(t,r){k(t,e,r),Ht(n,e,null),o=!0},p(t,o){const r={};64&o&&(r.title=(t[6]?"Exit":"Enter")+" Edit Mode"),8388608&o&&(r.$$scope={dirty:o,ctx:t}),n.$set(r),64&o&&A(e,"toggled",t[6])},i(t){o||(xt(n.$$.fragment,t),o=!0)},o(t){jt(n.$$.fragment,t),o=!1},d(t){t&&x(e),Ot(n)}}}function oo(t){let e,n,o,r,i,s;return{c(){e=M("svg"),n=M("rect"),o=M("polyline"),r=M("line"),i=M("polyline"),s=M("line"),H(n,"width","256"),H(n,"height","256"),H(n,"fill","none"),H(o,"points","192 144 224 176 192 208"),H(o,"fill","none"),H(o,"stroke","currentColor"),H(o,"stroke-linecap","round"),H(o,"stroke-linejoin","round"),H(o,"stroke-width","24"),H(r,"x1","32"),H(r,"y1","176"),H(r,"x2","224"),H(r,"y2","176"),H(r,"fill","none"),H(r,"stroke","currentColor"),H(r,"stroke-linecap","round"),H(r,"stroke-linejoin","round"),H(r,"stroke-width","24"),H(i,"points","64 112 32 80 64 48"),H(i,"fill","none"),H(i,"stroke","currentColor"),H(i,"stroke-linecap","round"),H(i,"stroke-linejoin","round"),H(i,"stroke-width","24"),H(s,"x1","224.00006"),H(s,"y1","80"),H(s,"x2","32.00006"),H(s,"y2","80"),H(s,"fill","none"),H(s,"stroke","currentColor"),H(s,"stroke-linecap","round"),H(s,"stroke-linejoin","round"),H(s,"stroke-width","24"),H(e,"xmlns","http://www.w3.org/2000/svg"),H(e,"fill","currentColor"),H(e,"viewBox","0 0 256 256")},m(t,l){k(t,e,l),y(e,n),y(e,o),y(e,r),y(e,i),y(e,s)},d(t){t&&x(e)}}}function ro(t){let e,n,o,r;const i=[so,io],s=[];function l(t,e){return t[6]?0:1}return e=l(t),n=s[e]=i[e](t),{c(){n.c(),o=R()},m(t,n){s[e].m(t,n),k(t,o,n),r=!0},p(t,r){let a=e;e=l(t),e===a?s[e].p(t,r):(yt(),jt(s[a],1,1,(()=>{s[a]=null})),kt(),n=s[e],n?n.p(t,r):(n=s[e]=i[e](t),n.c()),xt(n,1),n.m(o.parentNode,o))},i(t){r||(xt(n),r=!0)},o(t){jt(n),r=!1},d(t){s[e].d(t),t&&x(o)}}}function io(t){let e,n,o,r,i,s=0==t[0].length&&lo(),l=t[4]&&ao(t);return{c(){e=_("div"),s&&s.c(),n=P(),l&&l.c(),H(e,"class","albumListDisplay svelte-fpj1v5"),H(e,"style",o=`height: ${t[4]?.containerHeight||0}px;`),dt((()=>t[14].call(e)))},m(o,a){k(o,e,a),s&&s.m(e,null),y(e,n),l&&l.m(e,null),r=E(e,t[14].bind(e)),i=!0},p(t,r){0==t[0].length?s||(s=lo(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),t[4]?l?(l.p(t,r),16&r&&xt(l,1)):(l=ao(t),l.c(),xt(l,1),l.m(e,null)):l&&(yt(),jt(l,1,1,(()=>{l=null})),kt()),(!i||16&r&&o!==(o=`height: ${t[4]?.containerHeight||0}px;`))&&H(e,"style",o)},i(t){i||(xt(l),i=!0)},o(t){jt(l),i=!1},d(t){t&&x(e),s&&s.d(),l&&l.d(),r()}}}function so(t){let e,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:po,then:ho,catch:fo,value:19,blocks:[,,,]};return Rt(import("./EditableLayout-6f5ffbcd.js"),o),{c(){e=R(),o.block.c()},m(t,r){k(t,e,r),o.block.m(t,o.anchor=r),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(e,n){{const r=(t=e).slice();r[19]=o.resolved,o.block.p(r,n)}},i(t){n||(xt(o.block),n=!0)},o(t){for(let t=0;t<3;t+=1){jt(o.blocks[t])}n=!1},d(t){t&&x(e),o.block.d(t),o.token=null,o=null}}}function lo(t){let e;return{c(){e=_("div"),e.textContent="(No albums on this site… yet.)"},m(t,n){k(t,e,n)},d(t){t&&x(e)}}}function ao(t){let e,n;return e=new bn({props:{stubs:t[1],$$slots:{default:[uo]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.stubs=t[1]),8388627&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function co(t){let e,n,o,r,i;return n=new Vn({props:{size:"medium",photo:t[1][t[22]],layoutDims:t[4].boxes[t[22]],textOverlay:t[20].title}}),{c(){e=_("a"),zt(n.$$.fragment),o=P(),H(e,"href",r=`/album/${t[20].slug}`)},m(t,r){k(t,e,r),Ht(n,e,null),y(e,o),i=!0},p(t,o){const s={};2&o&&(s.photo=t[1][t[22]]),16&o&&(s.layoutDims=t[4].boxes[t[22]]),1&o&&(s.textOverlay=t[20].title),n.$set(s),(!i||1&o&&r!==(r=`/album/${t[20].slug}`))&&H(e,"href",r)},i(t){i||(xt(n.$$.fragment,t),i=!0)},o(t){jt(n.$$.fragment,t),i=!1},d(t){t&&x(e),Ot(n)}}}function uo(t){let e,n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=co(Gn(t,o,e));const i=t=>jt(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=R()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);k(t,e,o),n=!0},p(t,n){if(19&n){let s;for(o=t[0],s=0;s<o.length;s+=1){const i=Gn(t,o,s);r[s]?(r[s].p(i,n),xt(r[s],1)):(r[s]=co(i),r[s].c(),xt(r[s],1),r[s].m(e.parentNode,e))}for(yt(),s=o.length;s<r.length;s+=1)i(s);kt()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)xt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)jt(r[t]);n=!1},d(t){j(r,t),t&&x(e)}}}function fo(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ho(t){let e,n,o;Un(t);var r=t[18];function i(t){return{props:{stubList:t[1]}}}return r&&(e=new r(i(t)),e.$on("reordered",t[9])),{c(){e&&zt(e.$$.fragment),n=R()},m(t,r){e&&Ht(e,t,r),k(t,n,r),o=!0},p(t,o){Un(t);const s={};if(2&o&&(s.stubList=t[1]),r!==(r=t[18])){if(e){yt();const t=e;jt(t.$$.fragment,1,0,(()=>{Ot(t,1)})),kt()}r?(e=new r(i(t)),e.$on("reordered",t[9]),zt(e.$$.fragment),xt(e.$$.fragment,1),Ht(e,n.parentNode,n)):e=null}else r&&e.$set(s)},i(t){o||(e&&xt(e.$$.fragment,t),o=!0)},o(t){e&&jt(e.$$.fragment,t),o=!1},d(t){t&&x(n),e&&Ot(e,t)}}}function po(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function mo(t){let e,n,o,r,i,s,l=t[3]&&!t[6]&&Zn(t),a=t[5]&&Qn(t),c=t[3]&&to(t),u=t[0]&&ro(t);return{c(){l&&l.c(),e=P(),a&&a.c(),n=P(),o=_("div"),r=_("div"),c&&c.c(),i=P(),u&&u.c(),H(r,"class","header svelte-fpj1v5"),H(o,"class","albumList svelte-fpj1v5")},m(t,d){l&&l.m(t,d),k(t,e,d),a&&a.m(t,d),k(t,n,d),k(t,o,d),y(o,r),c&&c.m(r,null),y(o,i),u&&u.m(o,null),s=!0},p(t,[i]){t[3]&&!t[6]?l?(l.p(t,i),72&i&&xt(l,1)):(l=Zn(t),l.c(),xt(l,1),l.m(e.parentNode,e)):l&&(yt(),jt(l,1,1,(()=>{l=null})),kt()),t[5]?a?(a.p(t,i),32&i&&xt(a,1)):(a=Qn(t),a.c(),xt(a,1),a.m(n.parentNode,n)):a&&(yt(),jt(a,1,1,(()=>{a=null})),kt()),t[3]?c?(c.p(t,i),8&i&&xt(c,1)):(c=to(t),c.c(),xt(c,1),c.m(r,null)):c&&(yt(),jt(c,1,1,(()=>{c=null})),kt()),t[0]?u?(u.p(t,i),1&i&&xt(u,1)):(u=ro(t),u.c(),xt(u,1),u.m(o,null)):u&&(yt(),jt(u,1,1,(()=>{u=null})),kt())},i(t){s||(xt(l),xt(a),xt(c),xt(u),s=!0)},o(t){jt(l),jt(a),jt(c),jt(u),s=!1},d(t){l&&l.d(t),t&&x(e),a&&a.d(t),t&&x(n),t&&x(o),c&&c.d(),u&&u.d()}}}function go(t,e,n){let o;c(t,pe,(t=>n(3,o=t)));var r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};let i,s,l;function a(t){return r(this,void 0,void 0,(function*(){const e=yield me("/album/list",{authorize:t});e.success?n(0,i=e.data):console.error(e)}))}let u=null;let d=!1,f=!1;return t.$$.update=()=>{8&t.$$.dirty&&a(o),1&t.$$.dirty&&i&&n(1,s=i.map((t=>{if(t.coverPhoto){const e=Object.assign({},t.coverPhoto);return e.id=t.id,e.title=t.title,e}return{id:t.id,title:t.title,aspect:4/3,hash:"",uniq:"",blurHash:"",isVideo:!1,uploadTimeStamp:0,uploadedBy:0,originalFilename:"",size:0,width:0,height:0,tags:[],make:null,model:null,lens:null,mime:null,creationDate:null,subjectArea:null,aperture:null,iso:null,shutterSpeed:null,gpsLat:null,gpsLon:null,gpsAlt:null}}))),7&t.$$.dirty&&i&&function(t,e){if(!t||!e)return;const o=e.map((t=>null!=t?t.aspect:4/3));n(4,u=nn(o,{targetRowHeight:300,containerWidth:t,containerPadding:10,widowLayoutStyle:"center"}))}(l,s)},[i,s,l,o,u,d,f,a,function(t){t.detail.numFiles>0&&Kt.goto("/album/unsorted")},function(t){return r(this,void 0,void 0,(function*(){const e=yield me("/album/reorderList/",{params:{newOrdering:t.detail.newStubs.map((t=>t.id))},method:"POST",authorize:!0});e.success?n(1,s=t.detail.newStubs):console.error(e)}))},()=>n(5,d=!1),()=>{n(5,d=!1),a(o)},()=>n(5,d=!0),()=>{n(6,f=!f)},function(){l=this.clientWidth,n(2,l)}]}class $o extends Nt{constructor(t){super(),Bt(this,t,go,mo,s,{})}}function wo(t){t[7]=t[8].default}function vo(t){t[7]=t[8].default}function bo(t){let e,n;return e=new re({props:{path:"/*",firstmatch:!0,$$slots:{default:[Ro]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};513&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function yo(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ko(t){let e,n,o;vo(t);var r=t[7];return r&&(e=new r({}),e.$on("uploaded",t[4])),{c(){e&&zt(e.$$.fragment),n=R()},m(t,r){e&&Ht(e,t,r),k(t,n,r),o=!0},p(t,o){if(vo(t),r!==(r=t[7])){if(e){yt();const t=e;jt(t.$$.fragment,1,0,(()=>{Ot(t,1)})),kt()}r?(e=new r({}),e.$on("uploaded",t[4]),zt(e.$$.fragment),xt(e.$$.fragment,1),Ht(e,n.parentNode,n)):e=null}},i(t){o||(e&&xt(e.$$.fragment,t),o=!0)},o(t){e&&jt(e.$$.fragment,t),o=!1},d(t){t&&x(n),e&&Ot(e,t)}}}function xo(e){let n;return{c(){n=C("Loading…")},m(t,e){k(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}function jo(t){let e,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:xo,then:ko,catch:yo,value:8,blocks:[,,,]};return Rt(import("./AlbumPage-84cc47c5.js"),o),{c(){e=R(),o.block.c()},m(t,r){k(t,e,r),o.block.m(t,o.anchor=r),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(e,n){{const r=(t=e).slice();r[8]=o.resolved,o.block.p(r,n)}},i(t){n||(xt(o.block),n=!0)},o(t){for(let t=0;t<3;t+=1){jt(o.blocks[t])}n=!1},d(t){t&&x(e),o.block.d(t),o.token=null,o=null}}}function _o(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Mo(t){let e,n,o;wo(t);var r=t[7];function i(t){return{props:{photoIdentifier:t[6].params.photoID}}}return r&&(e=new r(i(t))),{c(){e&&zt(e.$$.fragment),n=R()},m(t,r){e&&Ht(e,t,r),k(t,n,r),o=!0},p(t,o){wo(t);const s={};if(64&o&&(s.photoIdentifier=t[6].params.photoID),r!==(r=t[7])){if(e){yt();const t=e;jt(t.$$.fragment,1,0,(()=>{Ot(t,1)})),kt()}r?(e=new r(i(t)),zt(e.$$.fragment),xt(e.$$.fragment,1),Ht(e,n.parentNode,n)):e=null}else r&&e.$set(s)},i(t){o||(e&&xt(e.$$.fragment,t),o=!0)},o(t){e&&jt(e.$$.fragment,t),o=!1},d(t){t&&x(n),e&&Ot(e,t)}}}function Co(e){let n;return{c(){n=C("Loading…")},m(t,e){k(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}function Po(t){let e,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Co,then:Mo,catch:_o,value:8,blocks:[,,,]};return Rt(import("./PhotoPage-0a84df7f.js"),o),{c(){e=R(),o.block.c()},m(t,r){k(t,e,r),o.block.m(t,o.anchor=r),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(e,n){{const r=(t=e).slice();r[8]=o.resolved,o.block.p(r,n)}},i(t){n||(xt(o.block),n=!0)},o(t){for(let t=0;t<3;t+=1){jt(o.blocks[t])}n=!1},d(t){t&&x(e),o.block.d(t),o.token=null,o=null}}}function Ro(t){let e,n,o,r;return e=new re({props:{path:"/",$$slots:{default:[jo]},$$scope:{ctx:t}}}),o=new re({props:{path:"/:photoID",$$slots:{default:[Po,({meta:t})=>({6:t}),({meta:t})=>t?64:0]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment),n=P(),zt(o.$$.fragment)},m(t,i){Ht(e,t,i),k(t,n,i),Ht(o,t,i),r=!0},p(t,n){const r={};513&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};576&n&&(i.$$scope={dirty:n,ctx:t}),o.$set(i)},i(t){r||(xt(e.$$.fragment,t),xt(o.$$.fragment,t),r=!0)},o(t){jt(e.$$.fragment,t),jt(o.$$.fragment,t),r=!1},d(t){Ot(e,t),t&&x(n),Ot(o,t)}}}function So(t){let e,n,o=t[1]&&bo(t);return{c(){o&&o.c(),e=R()},m(t,r){o&&o.m(t,r),k(t,e,r),n=!0},p(t,[n]){t[1]?o?(o.p(t,n),2&n&&xt(o,1)):(o=bo(t),o.c(),xt(o,1),o.m(e.parentNode,e)):o&&(yt(),jt(o,1,1,(()=>{o=null})),kt())},i(t){n||(xt(o),n=!0)},o(t){jt(o),n=!1},d(t){o&&o.d(t),t&&x(e)}}}function To(t,e,n){let o,r;c(t,ue,(t=>n(1,o=t))),c(t,pe,(t=>n(3,r=t)));var i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};let{albumSlug:s}=e;function l(t){return i(this,void 0,void 0,(function*(){const e=yield me(`/album/view/${t}`,{authorize:!0});e.success?h(ue,o=e.data,o):404==e.code?Kt.goto("/"):console.error(e)}))}Q((()=>{h(ue,o=null,o)}));return t.$$set=t=>{"albumSlug"in t&&n(0,s=t.albumSlug)},t.$$.update=()=>{10&t.$$.dirty&&o&&o.isPrivate&&!r&&Kt.goto("/"),1&t.$$.dirty&&l(s)},[s,o,l,r,()=>l(s)]}class qo extends Nt{constructor(t){super(),Bt(this,t,To,So,s,{albumSlug:0})}}function zo(e){let n;return{c(){n=_("div"),n.innerHTML='<div class="error svelte-197tbwd">404</div> \n    <div class="explain svelte-197tbwd">There’s nothing here…</div>',H(n,"class","notFound svelte-197tbwd")},m(t,e){k(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}class Ho extends Nt{constructor(t){super(),Bt(this,t,null,zo,s,{})}}const{document:Oo}=St;function Bo(e){return{c:t,m:t,i:t,o:t,d:t}}function No(t){let e,n,o;!function(t){t[10]=t[11].default}(t);var r=t[10];return r&&(e=new r({})),{c(){e&&zt(e.$$.fragment),n=R()},m(t,r){e&&Ht(e,t,r),k(t,n,r),o=!0},i(t){o||(e&&xt(e.$$.fragment,t),o=!0)},o(t){e&&jt(e.$$.fragment,t),o=!1},d(t){t&&x(n),e&&Ot(e,t)}}}function Lo(e){return{c:t,m:t,i:t,o:t,d:t}}function Eo(t){let e,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Lo,then:No,catch:Bo,value:11,blocks:[,,,]};return Rt(import("./SetupPage-f0f61163.js"),o),{c(){e=R(),o.block.c()},m(t,r){k(t,e,r),o.block.m(t,o.anchor=r),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(e,n){t=e},i(t){n||(xt(o.block),n=!0)},o(t){for(let t=0;t<3;t+=1){jt(o.blocks[t])}n=!1},d(t){t&&x(e),o.block.d(t),o.token=null,o=null}}}function Ao(t){let e,n;return e=new qo({props:{albumSlug:t[9].params.albumSlug}}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},p(t,n){const o={};512&n&&(o.albumSlug=t[9].params.albumSlug),e.$set(o)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Io(t){let e,n;return e=new $o({}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Do(t){let e,n;return e=new Ho({}),{c(){zt(e.$$.fragment)},m(t,o){Ht(e,t,o),n=!0},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){jt(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Fo(t){let e,n,o,r,i,s,l,a;return e=new re({props:{path:"/setup",$$slots:{default:[Eo]},$$scope:{ctx:t}}}),o=new re({props:{path:"/album/:albumSlug/*",$$slots:{default:[Ao,({meta:t})=>({9:t}),({meta:t})=>t?512:0]},$$scope:{ctx:t}}}),i=new re({props:{path:"/",$$slots:{default:[Io]},$$scope:{ctx:t}}}),l=new re({props:{fallback:!0,$$slots:{default:[Do]},$$scope:{ctx:t}}}),{c(){zt(e.$$.fragment),n=P(),zt(o.$$.fragment),r=P(),zt(i.$$.fragment),s=P(),zt(l.$$.fragment)},m(t,c){Ht(e,t,c),k(t,n,c),Ht(o,t,c),k(t,r,c),Ht(i,t,c),k(t,s,c),Ht(l,t,c),a=!0},p(t,n){const r={};4096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const s={};4608&n&&(s.$$scope={dirty:n,ctx:t}),o.$set(s);const a={};4096&n&&(a.$$scope={dirty:n,ctx:t}),i.$set(a);const c={};4096&n&&(c.$$scope={dirty:n,ctx:t}),l.$set(c)},i(t){a||(xt(e.$$.fragment,t),xt(o.$$.fragment,t),xt(i.$$.fragment,t),xt(l.$$.fragment,t),a=!0)},o(t){jt(e.$$.fragment,t),jt(o.$$.fragment,t),jt(i.$$.fragment,t),jt(l.$$.fragment,t),a=!1},d(t){Ot(e,t),t&&x(n),Ot(o,t),t&&x(r),Ot(i,t),t&&x(s),Ot(l,t)}}}function Wo(t){let e;return{c(){e=_("div"),e.innerHTML='<a href="https://github.com/sjml/pozzo" target="_" class="svelte-1pvat3c"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="20" height="20" viewBox="0 0 24 24" class="svelte-1pvat3c"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>\n                Pozzo Gallery</a>',H(e,"class","promo svelte-1pvat3c")},m(t,n){k(t,e,n)},d(t){t&&x(e)}}}function Vo(t){let e,n,o,r,i,s,l,a;Oo.title=e="\n        "+t[2]+"\n    ",r=new Je({}),r.$on("fullScreenOn",t[4]),r.$on("fullScreenOff",t[5]),s=new re({props:{path:"/*",firstmatch:!0,$$slots:{default:[Fo]},$$scope:{ctx:t}}});let c=t[0].promo&&null==t[1]&&Wo();return{c(){n=P(),o=_("div"),zt(r.$$.fragment),i=P(),zt(s.$$.fragment),l=P(),c&&c.c(),H(o,"class","container svelte-1pvat3c")},m(t,e){k(t,n,e),k(t,o,e),Ht(r,o,null),y(o,i),Ht(s,o,null),y(o,l),c&&c.m(o,null),a=!0},p(t,[n]){(!a||4&n)&&e!==(e="\n        "+t[2]+"\n    ")&&(Oo.title=e);const r={};4096&n&&(r.$$scope={dirty:n,ctx:t}),s.$set(r),t[0].promo&&null==t[1]?c||(c=Wo(),c.c(),c.m(o,null)):c&&(c.d(1),c=null)},i(t){a||(xt(r.$$.fragment,t),xt(s.$$.fragment,t),a=!0)},o(t){jt(r.$$.fragment,t),jt(s.$$.fragment,t),a=!1},d(t){t&&x(n),t&&x(o),Ot(r),Ot(s),c&&c.d()}}}function Go(t){t?document.documentElement.requestFullscreen():document.exitFullscreen()}function Uo(t,e,n){let o,r,i,s;c(t,ie,(t=>n(0,o=t))),c(t,le,(t=>n(6,r=t))),c(t,ue,(t=>n(3,i=t))),c(t,de,(t=>n(1,s=t)));var l=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};X((function(){return l(this,void 0,void 0,(function*(){const t=yield me("/info");t.success?(Object.assign(o,t.data),ie.set(o),0==o.siteTitle&&Kt.goto("/setup")):console.error(t),document.addEventListener("fullscreenchange",(()=>{h(le,r=null!=document.fullscreenElement,r)}))}))}));let a="Pozzo";return t.$$.update=()=>{if(15&t.$$.dirty){const t=o.siteTitle;"string"==typeof t&&(n(2,a=t),i&&(n(2,a+=` | ${i.title}`),s&&n(2,a+=` | ${s.title}`)))}},[o,s,a,i,()=>Go(!0),()=>Go(!1)]}const Yo=new class extends Nt{constructor(t){super(),Bt(this,t,Uo,Vo,s,{})}}({target:document.body,props:{}});export{qt as $,t as A,ae as B,tt as C,R as D,yt as E,kt as F,j as G,an as H,ue as I,Q as J,xe as K,M as L,ut as M,pe as N,be as O,dt as P,Mt as Q,me as R,Nt as S,Ct as T,ge as U,nt as V,$e as W,i as X,Z as Y,Y as Z,p as _,jt as a,Tt as a0,dn as a1,Xe as a2,Ke as a3,D as a4,fe as a5,nn as a6,A as a7,Rt as a8,E as a9,bn as aa,Vn as ab,de as ac,se as ad,cn as ae,un as af,Ln as ag,St as ah,ln as ai,Pt as aj,Yo as ak,c as b,zt as c,Ot as d,ie as e,Kt as f,_ as g,C as h,Bt as i,P as j,H as k,he as l,Ht as m,k as n,X as o,y as p,B as q,S as r,s,xt as t,T as u,O as v,x as w,r as x,h as y,rt as z};
